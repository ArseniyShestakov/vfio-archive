<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 209) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=209" title="Page 209" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=208" title="Page 208" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=210" title="Page 210" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=208">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=207">207</a> <a href="viewtopic.php?id=162768&amp;p=208">208</a> <strong>209</strong> <a href="viewtopic.php?id=162768&amp;p=210">210</a> <a href="viewtopic.php?id=162768&amp;p=211">211</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=210">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1532260" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#5201</span> <a href="viewtopic.php?pid=1532260#p1532260">2015-05-26 22:38:05</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><div class="quotebox"><cite>ghormoon wrote:</cite><blockquote><div><p>I don&#039;t get where you maen to do that. on the web site, I do manually select (notebook gpu &gt; HD series &gt; 6xxx&gt; win 7 x64) and it gives me 288MB catalyst. that one only gives me default/custom selection and field for path. on next (either default or custom), it goes through few steps before allowing you to select things (at least on custom, default won&#039;t let you) and it crashes before that selection just after saying &quot;detecting graphics hardware&quot; in the progress bar. I can&#039;t find any way to get more specific driver than by the series 6xxx. What am I missing?</p></div></blockquote></div><br /><p>Have you tried manually installing the driver? Once downloaded, you only extract it somewhere on your disk but do not use wizard. Then from Windows Device Manager, you right clic on the graphic card (probably with the yellow warning sign), and install driver from here by pointing to the path were the drivers has been extracted.</p><p>I used to do it this way with my old setup (Xen + AMD cards), in order to avoid BSOD.</p></div></blockquote></div><p>I doubt that this will work, since AMD Catalyst has got oh so complex in last two years or so.</p><p>...</p><p>Whoa, what a colourful glitches i have with hugepages enabled. Just awesome. It&#039;s covered in stripes. And i haven&#039;t even specified the VM to use hugepages in the xml...<br />Well, seems like my issue with every-15-seconds-freeze isn&#039;t related to the VM, but is caused by the game.</p> <p class="postedit"><em>Last edited by Duelist (2015-05-26 23:26:55)</em></p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532260">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532274" class="blockpost roweven"> <h2><span><span class="conr">#5202</span> <a href="viewtopic.php?pid=1532274#p1532274">2015-05-26 23:52:46</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80933">Cubex</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-04-06</span></dd> <dd><span>Posts: 24</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:cubexed@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Seems that sometimes when I shut down the VM the QEMU hangs while doing, and this appears in dmesg when force killing qemu</p><div class="codebox"><pre class="vscroll"><code>[ 8032.137126] BUG: unable to handle kernel NULL pointer dereference at 0000000000000018 [ 8032.144976] IP: [&lt;ffffffff8141ff71&gt;] vfio_device_get+0x11/0x50 [ 8032.150251] pci-stub 0000:02:00.0: claimed by stub [ 8032.150354] vfio-pci 0000:02:00.1: Relaying device request to user (#0) [ 8032.162192] PGD 0 [ 8032.164217] Oops: 0000 [#1] PREEMPT SMP [ 8032.168190] Modules linked in: udf crc_itu_t arc4 ecb md4 md5 hmac nls_utf8 cifs dns_resolver vhost_net vhost macvtap macvlan tun ebtable_filter ebtables ip6table_filter ip6_tables iptable_filter ip_tables x_tables bridge stp llc cfg80211 rfkill gspca_zc3xx gspca_main videodev media snd_hda_codec_hdmi mousedev hid_logitech_hidpp hid_logitech_dj uas usb_storage snd_hda_codec_realtek snd_hda_codec_generic coretemp hwmon intel_rapl iosf_mbi x86_pkg_temp_thermal intel_powerclamp kvm_intel kvm fuse nvidia(O) nls_iso8859_1 crct10dif_pclmul crc32_pclmul nls_cp437 crc32c_intel vfat ghash_clmulni_intel iTCO_wdt fat iTCO_vendor_support mxm_wmi aesni_intel snd_usb_audio aes_x86_64 lrw gf128mul snd_usbmidi_lib snd_hda_intel snd_hda_controller snd_hda_codec snd_rawmidi e1000e snd_hda_core snd_seq_device r8169 [ 8032.239642] snd_hwdep snd_pcm evdev mii i2c_i801 mac_hid snd_timer ptp glue_helper mei_me ablk_helper drm snd cryptd sb_edac pcspkr serio_raw pps_core tpm_tis mei i2c_core soundcore psmouse lpc_ich edac_core shpchp tpm wmi processor button sch_fq_codel nfs lockd grace sunrpc fscache ext4 crc16 mbcache jbd2 hid_generic usbhid hid sr_mod cdrom sd_mod atkbd libps2 ahci libahci xhci_pci libata xhci_hcd scsi_mod usbcore usb_common i8042 serio [ 8032.278086] CPU: 3 PID: 3125 Comm: qemu-system-x86 Tainted: G O 4.1.0-1-ARCH #1 [ 8032.286506] Hardware name: To Be Filled By O.E.M. To Be Filled By O.E.M./X99 Extreme6, BIOS P1.90 04/17/2015 [ 8032.296303] task: ffff88048cf0a8c0 ti: ffff880447034000 task.ti: ffff880447034000 [ 8032.303764] RIP: 0010:[&lt;ffffffff8141ff71&gt;] [&lt;ffffffff8141ff71&gt;] vfio_device_get+0x11/0x50 [ 8032.312023] RSP: 0018:ffff880447037ae8 EFLAGS: 00010296 [ 8032.317320] RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000000000000 [ 8032.324434] RDX: ffff88047cc71c40 RSI: ffff880447037bc0 RDI: 0000000000000000 [ 8032.331549] RBP: ffff880447037af8 R08: ffff88047cc71c40 R09: ffff88047cc71c40 [ 8032.338666] R10: ffffffff810d443a R11: 0000000000003029 R12: ffff88047cc71c40 [ 8032.345780] R13: ffffffff81423090 R14: ffff88048c032c00 R15: ffff88048c032c00 [ 8032.352903] FS: 00007f4bd6a70700(0000) GS:ffff88048f2c0000(0000) knlGS:0000000000000000 [ 8032.360971] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033 [ 8032.366701] CR2: 0000000000000018 CR3: 000000000180b000 CR4: 00000000001407e0 [ 8032.373815] Stack: [ 8032.375824] ffff88048c065002 0000000000000000 ffff880447037b18 ffffffff8141ffcd [ 8032.383267] ffff880447037b38 ffff880447037bc0 ffff880447037b38 ffffffff8142313d [ 8032.390709] ffff880447037bd0 ffff880447037bd0 ffff880447037b58 ffffffff814230ef [ 8032.398155] Call Trace: [ 8032.400597] [&lt;ffffffff8141ffcd&gt;] vfio_device_get_from_dev+0x1d/0x30 [ 8032.406932] [&lt;ffffffff8142313d&gt;] vfio_pci_get_devs+0x3d/0x70 [ 8032.412662] [&lt;ffffffff814230ef&gt;] vfio_pci_walk_wrapper+0x5f/0x70 [ 8032.418742] [&lt;ffffffff81304129&gt;] pci_walk_bus+0x79/0xa0 [ 8032.424055] [&lt;ffffffff81424a30&gt;] vfio_pci_release+0x290/0x410 [ 8032.429878] [&lt;ffffffff81423100&gt;] ? vfio_pci_walk_wrapper+0x70/0x70 [ 8032.436127] [&lt;ffffffff8141f9f0&gt;] vfio_device_fops_release+0x20/0x40 [ 8032.442466] [&lt;ffffffff811dfb6c&gt;] __fput+0x9c/0x200 [ 8032.447337] [&lt;ffffffff811dfd1e&gt;] ____fput+0xe/0x10 [ 8032.452204] [&lt;ffffffff81095bf4&gt;] task_work_run+0xd4/0xf0 [ 8032.457597] [&lt;ffffffff8107b593&gt;] do_exit+0x3b3/0xba0 [ 8032.462641] [&lt;ffffffff8107be0b&gt;] do_group_exit+0x3b/0xb0 [ 8032.468024] [&lt;ffffffff810877a6&gt;] get_signal+0x246/0x670 [ 8032.473323] [&lt;ffffffff810e6aa3&gt;] ? hrtimer_try_to_cancel+0x93/0x120 [ 8032.479668] [&lt;ffffffff81015577&gt;] do_signal+0x37/0x770 [ 8032.484799] [&lt;ffffffff810e7a54&gt;] ? hrtimer_nanosleep+0xc4/0x1d0 [ 8032.490791] [&lt;ffffffff810fb751&gt;] ? SyS_futex+0x81/0x190 [ 8032.496102] [&lt;ffffffffa061c4f7&gt;] ? kvm_on_user_return+0x77/0x90 [kvm] [ 8032.502612] [&lt;ffffffff81015d10&gt;] do_notify_resume+0x60/0x80 [ 8032.508258] [&lt;ffffffff8158e0bc&gt;] int_signal+0x12/0x17 [ 8032.513389] Code: ed eb d8 0f 1f 80 00 00 00 00 48 89 df e8 38 fe ff ff 48 89 d8 eb cb 0f 1f 00 0f 1f 44 00 00 55 48 89 e5 53 48 89 fb 48 83 ec 08 &lt;48&gt; 8b 7f 18 e8 16 fe ff ff b8 01 00 00 00 f0 0f c1 03 83 c0 01 [ 8032.533315] RIP [&lt;ffffffff8141ff71&gt;] vfio_device_get+0x11/0x50 [ 8032.539233] RSP &lt;ffff880447037ae8&gt; [ 8032.542713] CR2: 0000000000000018 [ 8032.546021] ---[ end trace 276b0f1585740db3 ]--- [ 8032.550625] Fixing recursive fault but reboot is needed!</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532274">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532287" class="blockpost rowodd"> <h2><span><span class="conr">#5203</span> <a href="viewtopic.php?pid=1532287#p1532287">2015-05-27 03:42:00</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Cubex wrote:</cite><blockquote><div><p>Seems that sometimes when I shut down the VM the QEMU hangs while doing, and this appears in dmesg when force killing qemu</p></div></blockquote></div><p>Could you please test this?&#160; <a href="http://paste.fedoraproject.org/225883/98048143/" rel="nofollow">http://paste.fedoraproject.org/225883/98048143/</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532287">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532341" class="blockpost roweven"> <h2><span><span class="conr">#5204</span> <a href="viewtopic.php?pid=1532341#p1532341">2015-05-27 12:22:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84998">jack_boss</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-09</span></dd> <dd><span>Posts: 6</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello, maybe it&#039;s a bit late to jump on the bandwagon, but if I read the first post correctly a attempt with the intel IGP is legit if using OVMF.</p><p>In any case, I ran the OVMF test and recieved a black qemu window.<br />It took a bit of try and error (adding kernel paraments and changes in /etc/mkinitcpio.conf, due to my lack of seeing the obvious or due to my hardware. I&#039;d like to share what I have...</p><p>My issue before I go any deeper with the guide is that don&#039;t get a /etc/vfio-pci.cfg file. </p><p>/boot/loader/entries/arch.conf</p><div class="codebox"><pre><code>options root=/dev/sdb2 rw intel_iommu=on pci-stub.ids=10de:1184,10de:0e0a vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div><p>/etc/mkinitcpio.conf</p><div class="codebox"><pre><code>MODULES=&quot;kvm kvm_intel pci_stub&quot;</code></pre></div><p>/etc/systemd/system/vfio-bind.service<br />(Same as on initial post)</p><p>I ran systemctl enable vfio-bind.service.</p><p>Thank you.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532341">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532346" class="blockpost rowodd"> <h2><span><span class="conr">#5205</span> <a href="viewtopic.php?pid=1532346#p1532346">2015-05-27 12:33:10</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Punkbob wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Running 352.86 here, no Code 43 problems.&#160; The NVIDIA Control Panel stopped working, but I see others reporting that in non-VM applications.&#160; It worked on 350.12.&#160; Code 43 is a pretty generic &quot;something is wrong&quot; error, hypervisor detection isn&#039;t the only reason for it to get thrown.&#160; I recently discovered that failure to plugin aux power to cards also generates a Code 43.</p></div></blockquote></div><p>Hmm, I will look into it more then. Btw, are you running Windows 10 or 8.1, cause it might be an issue on my end as I am running my VMs with Windows 10.</p></div></blockquote></div><p>8.1, AIUI 10 has numerous issues running as a VM</p></div></blockquote></div><p>@Punkbob</p><p>What build of Windows 10 are you using and did you need to do anything special to get it installed?&#160; I see one <a href="https://social.msdn.microsoft.com/Forums/en-US/695c8997-52cf-4c30-a3f7-f26a40dc703a/failed-install-of-build-10041-in-the-kvm-virtual-machine-system-thread-exception-not-handled?forum=WinPreview2014Setup" rel="nofollow">report</a> that installing build 10041 requires at least one hyper-v extension to be enabled, which isn&#039;t going to sit well with Nvidia drivers.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532346">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532348" class="blockpost roweven"> <h2><span><span class="conr">#5206</span> <a href="viewtopic.php?pid=1532348#p1532348">2015-05-27 12:41:21</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jack_boss wrote:</cite><blockquote><div><p>Hello, maybe it&#039;s a bit late to jump on the bandwagon, but if I read the first post correctly a attempt with the intel IGP is legit if using OVMF.</p><p>In any case, I ran the OVMF test and recieved a black qemu window.<br />It took a bit of try and error (adding kernel paraments and changes in /etc/mkinitcpio.conf, due to my lack of seeing the obvious or due to my hardware. I&#039;d like to share what I have...</p><p>My issue before I go any deeper with the guide is that don&#039;t get a /etc/vfio-pci.cfg file.</p></div></blockquote></div><p>Please try the howto guide in my sig, libvirt has come a long way and vfio-bind scripts should no longer be necessary.&#160; intel_iommu=on and a pci-stub.ids= should be sufficient to simply let libvirt handle the rest.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532348">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532362" class="blockpost rowodd"> <h2><span><span class="conr">#5207</span> <a href="viewtopic.php?pid=1532362#p1532362">2015-05-27 13:32:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jack_boss wrote:</cite><blockquote><div><p>My issue before I go any deeper with the guide is that don&#039;t get a /etc/vfio-pci.cfg file.</p></div></blockquote></div><p>Ha! Well... You just create it manually, where you put something like DEVICES=&quot;device-ids,comma-separated&quot;. But that&#039;s not the recommended way of doing vfio bind anymore, it&#039;s much simpler to use libvirt.</p><div class="quotebox"><cite>jack_boss wrote:</cite><blockquote><div><p>/boot/loader/entries/arch.conf</p><div class="codebox"><pre><code>options root=/dev/sdb2 rw intel_iommu=on pci-stub.ids=10de:1184,10de:0e0a vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div></div></blockquote></div><p>You must <strong>NOT</strong> enable unsafe interrupts if you&#039;re not being told to do so in the dmesg. Read <a href="http://vfio.blogspot.com/" rel="nofollow">aw&#039;s blog</a> and his <a href="http://vfio.blogspot.com/2014/08/vfiovga-faq.html" rel="nofollow">VFIO FAQ</a>.</p><p>Also, he posted a 5-part story of doing the GPU passthrough the right way, containing the fresh instructions and thoughts. Very worth reading, especially knowing the fact that he actually wrote all that vfio stuff.</p><p>EDIT: huh, that aw&#039;s message wasn&#039;t there when i wrote this. Seems like my F5 key isn&#039;t working well anymore..</p> <p class="postedit"><em>Last edited by Duelist (2015-05-27 13:33:49)</em></p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532362">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532367" class="blockpost roweven"> <h2><span><span class="conr">#5208</span> <a href="viewtopic.php?pid=1532367#p1532367">2015-05-27 14:01:15</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi,</p><p>I have a running Win7 (non OVMF) machine and a running Win 10 (ovmf) machine. Host is Arch Linux, with following kernel from AUR : 4.0.1-1-vfio.</p><p>I am using onboard intel as host graphics, and a GTX 970 as gaming card. Lately, I had issues with Kodi on host, and I had to switch &quot;acceleration&quot; from UXA to SNA.</p><p>In the end, I now need to reinstall my Win7 machine with OVMF, so that I can have DRI enabled on host. However, the Windows 7 installation hangs at the &quot;Starting Windows&quot; screen. Looks like some kind of &quot;hardware&quot; issue.</p><p>Here is my &quot;install script&quot; that worked with Win 10, but doesn&#039;t work with win 7 (I only replaced the &quot;win disk&quot; line, and the &quot;iso file&quot; line) :</p><div class="codebox"><pre><code>qemu-system-x86_64 -name windaube -enable-kvm -m 16384 -cpu host,kvm=off \ -smp 4,sockets=1,cores=4,threads=1 \ -drive if=pflash,format=raw,readonly,file=/usr/share/ovmf/x64/ovmf_code_x64.bin \ -drive if=pflash,format=raw,file=/usr/share/ovmf/x64/ovmf_vars_x64.bin \ -device vfio-pci,host=01:00.0 -device vfio-pci,host=01:00.1 -device vfio-pci,host=00:1d.0 \ -vga none \ -device virtio-scsi-pci,id=scsi \ -drive file=/dev/guest/windaube,id=win,format=raw,if=none -device scsi-hd,drive=win \ -drive file=/home/nesousx/Isos/virtio-win-0.1-81.iso,id=isocd,if=none -device scsi-cd,drive=isocd \ -drive file=/home/nesousx/Isos/Win_7_Pro_x64.iso,id=virtiocd,if=none -device scsi-cd,drive=virtiocd \ -net nic,model=virtio,macaddr=52:54:00:7c:3c:42 -net bridge,br=br0 \ -nographic</code></pre></div><p>I have tried to run it :</p><p>* with a small amount of RAM ;<br />* without assigning devices.</p><p>Nothing worked.</p><p>Do someone have any idea why it is not working?</p><p>Thanks in advance.</p> <p class="postedit"><em>Last edited by Nesousx (2015-05-27 16:38:22)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532367">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532370" class="blockpost rowodd"> <h2><span><span class="conr">#5209</span> <a href="viewtopic.php?pid=1532370#p1532370">2015-05-27 14:28:44</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78620">mostlyharmless</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-16</span></dd> <dd><span>Posts: 50</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=78620">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Have you tried the instructions on post 4470 on page 179?&#160; You need to use the qxl driver for the initial output...</p> <p class="postedit"><em>Last edited by mostlyharmless (2015-05-27 14:29:23)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532370">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532371" class="blockpost roweven"> <h2><span><span class="conr">#5210</span> <a href="viewtopic.php?pid=1532371#p1532371">2015-05-27 14:38:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>It&#039;s generally a good idea to get the VM installed first, then add an assigned GPU.&#160; I&#039;ve also heard to use either qxl or vga devices for the install.&#160; Also, AIUI Win7+OVMF+SMP is incompatible with hyper-v extensions, so you&#039;ll need to disable them even if you&#039;re not using Nvidia.</p><p>EDIT: I believe virt-manager has support for this upstream, but it was just fixed last week.&#160; So, if you&#039;re pulling from the devel tree, hyper-v should automatically be disabled once you select OVMF and have specified a Windows 7 guest type.</p> <p class="postedit"><em>Last edited by aw (2015-05-27 14:48:19)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532371">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532382" class="blockpost rowodd"> <h2><span><span class="conr">#5211</span> <a href="viewtopic.php?pid=1532382#p1532382">2015-05-27 15:15:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88609">fld</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-06</span></dd> <dd><span>Posts: 9</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:fld@r00t3d.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I was able to make a Radeon HD7770 work in Win 7 X64 SP1 by first booting up with QXL graphics and then doing &quot;device_add vfio-pci,host=01:00.0&quot; and &quot;device_add vfio-pci,host=01:00.1&quot; from the Qemu Console while the system was already up and running. Device manager was showing the usual &quot;Code 10&quot; at this point.</p><p>The act of &quot;hot-plugging&quot; the GPU however, made it possible to complete the installation of Catalyst 14.12 without immediately crashing the installer (like what usually happens).</p><p>After Catalyst was installed, I was able to add the -device parameters to my qemu command-line and the guest boots up using the QXL for VGA and switches output to the vfio&#039;d GPU as soon as desktop is ready. </p><p>This way I don&#039;t have to use &#039;x-vga&#039; or any sort of additional patches for the kernel v4.0.0. Also I&#039;m able to use the integrated Intel HD4600 graphics for my host without having to disable DRI.</p><p>Rebooting/Suspending/Hibernation all seem to work just fine with this too.</p><p>I&#039;m also passing trough the integrated Intel HD Audio and a USB 3.0 PCI-e card. They also work without any issues. I can even do low-latency ASIO stuff with the real sound card, which is really cool.</p><p>By using virtio networking and tightvnc mirror driver with raw encoding, I get so good VNC performance between the host and guest, that I don&#039;t miss SPICE. Even 3D works smoothly over VNC now <img src="https://bbs.archlinux.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> And of course there is Steam in-home streaming for a little better latency for realtime 3D gaming, or simply switching the inputs from the monitor.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532382">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532389" class="blockpost roweven"> <h2><span><span class="conr">#5212</span> <a href="viewtopic.php?pid=1532389#p1532389">2015-05-27 15:58:43</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85563">Punkbob</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-10-02</span></dd> <dd><span>Posts: 14</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=85563">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Punkbob wrote:</cite><blockquote><div><p>Hmm, I will look into it more then. Btw, are you running Windows 10 or 8.1, cause it might be an issue on my end as I am running my VMs with Windows 10.</p></div></blockquote></div><p>8.1, AIUI 10 has numerous issues running as a VM</p></div></blockquote></div><p>@Punkbob</p><p>What build of Windows 10 are you using and did you need to do anything special to get it installed?&#160; I see one <a href="https://social.msdn.microsoft.com/Forums/en-US/695c8997-52cf-4c30-a3f7-f26a40dc703a/failed-install-of-build-10041-in-the-kvm-virtual-machine-system-thread-exception-not-handled?forum=WinPreview2014Setup" rel="nofollow">report</a> that installing build 10041 requires at least one hyper-v extension to be enabled, which isn&#039;t going to sit well with Nvidia drivers.</p></div></blockquote></div><p>I am using build 9926 on my most recent VM, and I didn&#039;t change anything or enable anything different then I would with a normal Windows 10 install. When I first switched over to Windows 10 a few months ago it initially didn&#039;t have any specific display drivers from Nvidia, so I just used the ones from Windows 8.1. However once I try drivers that are specifically released for Windows 10, the screen goes black, and when I reboot it just spits the code 43 error back at me.</p><p>Edit: Let me try a later build real quick, I thought I was using one that was more recent, but I think I confused which iso I grabbed off my NAS.</p> <p class="postedit"><em>Last edited by Punkbob (2015-05-27 16:03:06)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532389">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532390" class="blockpost rowodd"> <h2><span><span class="conr">#5213</span> <a href="viewtopic.php?pid=1532390#p1532390">2015-05-27 15:59:53</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mostlyharmless wrote:</cite><blockquote><div><p>Have you tried the instructions on post 4470 on page 179?&#160; You need to use the qxl driver for the initial output...</p></div></blockquote></div><p>Thanks a lot, it seems to be working perfectly.</p> <p class="postedit"><em>Last edited by Nesousx (2015-05-27 17:36:44)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532390">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532403" class="blockpost roweven"> <h2><span><span class="conr">#5214</span> <a href="viewtopic.php?pid=1532403#p1532403">2015-05-27 16:35:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Cubex wrote:</cite><blockquote><div><p>Seems that sometimes when I shut down the VM the QEMU hangs while doing, and this appears in dmesg when force killing qemu</p></div></blockquote></div><p>Could you please test this?&#160; <a href="http://paste.fedoraproject.org/225883/98048143/" rel="nofollow">http://paste.fedoraproject.org/225883/98048143/</a></p></div></blockquote></div><p>Here&#039;s a bit more complete patch posted upstream, I&#039;d appreciate testing in your scenario.&#160; Thanks.&#160; <a href="https://lkml.org/lkml/2015/5/27/546" rel="nofollow">https://lkml.org/lkml/2015/5/27/546</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532403">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532405" class="blockpost rowodd"> <h2><span><span class="conr">#5215</span> <a href="viewtopic.php?pid=1532405#p1532405">2015-05-27 16:39:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85563">Punkbob</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-10-02</span></dd> <dd><span>Posts: 14</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=85563">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Just as an update, as I haven&#039;t gotten to the point where I can try the Nvidia drivers yet, build 10074 of Windows 10 needs you to set your cpu as being a core2duo in order to boot the install environment.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532405">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532410" class="blockpost roweven"> <h2><span><span class="conr">#5216</span> <a href="viewtopic.php?pid=1532410#p1532410">2015-05-27 16:55:53</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Win 10 needs this to boot...</p><p>&lt;feature policy=&#039;force&#039; name=&#039;lahf_lm&#039;/&gt;<br />&lt;feature policy=&#039;force&#039; name=&#039;cx16&#039;/&gt;</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532410">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532419" class="blockpost rowodd"> <h2><span><span class="conr">#5217</span> <a href="viewtopic.php?pid=1532419#p1532419">2015-05-27 17:15:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85563">Punkbob</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-10-02</span></dd> <dd><span>Posts: 14</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=85563">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>Win 10 needs this to boot...</p><p>&lt;feature policy=&#039;force&#039; name=&#039;lahf_lm&#039;/&gt;<br />&lt;feature policy=&#039;force&#039; name=&#039;cx16&#039;/&gt;</p></div></blockquote></div><br /><p>Tried this, didn&#039;t work. Unless I am doing it wrong:</p><p>&#160; &lt;cpu mode=&#039;custom&#039; match=&#039;exact&#039;&gt;<br />&#160; &#160; &lt;model fallback=&#039;allow&#039;&gt;Haswell&lt;/model&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;lahf_lm&#039;/&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;cx16&#039;/&gt;<br />&#160; &lt;/cpu&gt;</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532419">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532420" class="blockpost roweven"> <h2><span><span class="conr">#5218</span> <a href="viewtopic.php?pid=1532420#p1532420">2015-05-27 17:19:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>ah, for me works with kvm64</p><p>&#160; &lt;cpu mode=&#039;custom&#039; match=&#039;exact&#039;&gt;<br />&#160; &#160; &lt;model fallback=&#039;allow&#039;&gt;kvm64&lt;/model&gt;<br />&#160; &#160; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;1&#039;/&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;lahf_lm&#039;/&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;cx16&#039;/&gt;<br />&#160; &lt;/cpu&gt;</p><p>edit: problem with this is that you can&#039;t enable/disable shadow play in geforce experience for better streaming...</p> <p class="postedit"><em>Last edited by slis (2015-05-27 17:24:53)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532420">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532421" class="blockpost rowodd"> <h2><span><span class="conr">#5219</span> <a href="viewtopic.php?pid=1532421#p1532421">2015-05-27 17:22:35</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85563">Punkbob</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-10-02</span></dd> <dd><span>Posts: 14</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=85563">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>ah, for me works with kvm64</p><p>&#160; &lt;cpu mode=&#039;custom&#039; match=&#039;exact&#039;&gt;<br />&#160; &#160; &lt;model fallback=&#039;allow&#039;&gt;kvm64&lt;/model&gt;<br />&#160; &#160; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;1&#039;/&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;lahf_lm&#039;/&gt;<br />&#160; &#160; &lt;feature policy=&#039;force&#039; name=&#039;cx16&#039;/&gt;<br />&#160; &lt;/cpu&gt;</p><p>edit: problem with this is that you can&#039;t enable/disable shadow play in geforce exeprience for better streaming...</p></div></blockquote></div><br /><p>Confirmed that this works, let me see what happens with latest Nvidia drivers.</p><p>Edit: I&#039;ve seen mention that the Q35 version supposedly works out of the box, but I can&#039;t get it to see my drives in ovmf, and haven&#039;t really looked into it besides a quick test.</p><p>Edit2: This works, and the latest version of Nvidia drivers are running fine. </p><p>So the current state of Windows 10 in kvm is this:</p><p>If you want to run it as your CPU model you need to run the old 9926 build and it will only run with Nvidia Win8.1 drivers up to 347.88.</p><p>if you want the latest drivers or even just to run the later builds at all in kvm, you either need to set your CPU model to Core2duo, or use kvm64 with the additional options above.</p> <p class="postedit"><em>Last edited by Punkbob (2015-05-27 18:36:58)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532421">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532424" class="blockpost roweven"> <h2><span><span class="conr">#5220</span> <a href="viewtopic.php?pid=1532424#p1532424">2015-05-27 17:36:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>It&#039;s generally a good idea to get the VM installed first, then add an assigned GPU.&#160; I&#039;ve also heard to use either qxl or vga devices for the install.&#160; Also, AIUI Win7+OVMF+SMP is incompatible with hyper-v extensions, so you&#039;ll need to disable them even if you&#039;re not using Nvidia.</p><p>EDIT: I believe virt-manager has support for this upstream, but it was just fixed last week.&#160; So, if you&#039;re pulling from the devel tree, hyper-v should automatically be disabled once you select OVMF and have specified a Windows 7 guest type.</p></div></blockquote></div><p>Sounds interesting ! I&#039;d like to give a try via virt-manager, however I can&#039;t select OVMF/UEFI as bios. Virt-manager / libvirt doesn&#039;t detect it. It is greyed out, and says that the firmware image is not installed.</p><p>I have qemu 2.3.0-2, virt-manager 1.2.0-2, libvirt 1.2.15-1 and ovmf 16229-1.</p><p>Any idea what would be the cause please? Also, what does AUI stands for, please?</p> <p class="postedit"><em>Last edited by Nesousx (2015-05-27 17:39:16)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532424">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532429" class="blockpost rowodd"> <h2><span><span class="conr">#5221</span> <a href="viewtopic.php?pid=1532429#p1532429">2015-05-27 17:45:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>It&#039;s generally a good idea to get the VM installed first, then add an assigned GPU.&#160; I&#039;ve also heard to use either qxl or vga devices for the install.&#160; Also, AIUI Win7+OVMF+SMP is incompatible with hyper-v extensions, so you&#039;ll need to disable them even if you&#039;re not using Nvidia.</p><p>EDIT: I believe virt-manager has support for this upstream, but it was just fixed last week.&#160; So, if you&#039;re pulling from the devel tree, hyper-v should automatically be disabled once you select OVMF and have specified a Windows 7 guest type.</p></div></blockquote></div><p>Sounds interesting ! I&#039;d like to give a try via virt-manager, however I can&#039;t select OVMF/UEFI as bios. Virt-manager / libvirt doesn&#039;t detect it. It is greyed out, and says that the firmware image is not installed.</p><p>I have virt-manager version 1.2.0-2, libvirt 1.2.15-1 and ovmf 16229-1.</p><p>Any idea what would be the cause please? Also, what does AUI stands for, please?</p></div></blockquote></div><p>Maybe your ovmf package isn&#039;t installing the files where libvirt/virt-manager looks for them?&#160; On my Fedora 21 system the binaries are installed in /usr/share/edk2.git/ovmf-x64/&#160; Your virt-manager would need to be pulled form the devel tree since last Wednesday to include the fix.&#160; AIUI = As I Understand It.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532429">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532442" class="blockpost roweven"> <h2><span><span class="conr">#5222</span> <a href="viewtopic.php?pid=1532442#p1532442">2015-05-27 18:09:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>It&#039;s generally a good idea to get the VM installed first, then add an assigned GPU.&#160; I&#039;ve also heard to use either qxl or vga devices for the install.&#160; Also, AIUI Win7+OVMF+SMP is incompatible with hyper-v extensions, so you&#039;ll need to disable them even if you&#039;re not using Nvidia.</p><p>EDIT: I believe virt-manager has support for this upstream, but it was just fixed last week.&#160; So, if you&#039;re pulling from the devel tree, hyper-v should automatically be disabled once you select OVMF and have specified a Windows 7 guest type.</p></div></blockquote></div><p>Sounds interesting ! I&#039;d like to give a try via virt-manager, however I can&#039;t select OVMF/UEFI as bios. Virt-manager / libvirt doesn&#039;t detect it. It is greyed out, and says that the firmware image is not installed.</p><p>I have virt-manager version 1.2.0-2, libvirt 1.2.15-1 and ovmf 16229-1.</p><p>Any idea what would be the cause please? Also, what does AIUI stands for, please?</p></div></blockquote></div><p>Maybe your ovmf package isn&#039;t installing the files where libvirt/virt-manager looks for them?&#160; On my Fedora 21 system the binaries are installed in /usr/share/edk2.git/ovmf-x64/&#160; Your virt-manager would need to be pulled form the devel tree since last Wednesday to include the fix.&#160; AIUI = As I Understand It.</p></div></blockquote></div><p>Ok, thanks, I&#039;ll look into it.</p><p>Everytime I saw you saying AIUI, it was next to Windows. Hence, I believed it was some kind of &quot;special&quot; version of Windows since I never heard that acronym. Thanks for teaching me. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532442">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532459" class="blockpost rowodd"> <h2><span><span class="conr">#5223</span> <a href="viewtopic.php?pid=1532459#p1532459">2015-05-27 19:01:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84998">jack_boss</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-09</span></dd> <dd><span>Posts: 6</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>It&#039;s generally a good idea to get the VM installed first, then add an assigned GPU.&#160; I&#039;ve also heard to use either qxl or vga devices for the install.&#160; Also, AIUI Win7+OVMF+SMP is incompatible with hyper-v extensions, so you&#039;ll need to disable them even if you&#039;re not using Nvidia.</p><p>EDIT: I believe virt-manager has support for this upstream, but it was just fixed last week.&#160; So, if you&#039;re pulling from the devel tree, hyper-v should automatically be disabled once you select OVMF and have specified a Windows 7 guest type.</p></div></blockquote></div><p>Sounds interesting ! I&#039;d like to give a try via virt-manager, however I can&#039;t select OVMF/UEFI as bios. Virt-manager / libvirt doesn&#039;t detect it. It is greyed out, and says that the firmware image is not installed.</p><p>I have virt-manager version 1.2.0-2, libvirt 1.2.15-1 and ovmf 16229-1.</p><p>Any idea what would be the cause please? Also, what does AUI stands for, please?</p></div></blockquote></div><p>Maybe your ovmf package isn&#039;t installing the files where libvirt/virt-manager looks for them?&#160; On my Fedora 21 system the binaries are installed in /usr/share/edk2.git/ovmf-x64/&#160; Your virt-manager would need to be pulled form the devel tree since last Wednesday to include the fix.&#160; AIUI = As I Understand It.</p></div></blockquote></div><p>I&#039;m stuck at this step too, since I started following your guide.<br />I found out that ovmf from the arch official repository installs its files to</p><div class="codebox"><pre><code>/usr/share/ovmf/ovmf_x64.bin</code></pre></div><p> vs ovmf-svn (installed today) </p><div class="codebox"><pre><code>/usr/share/ovmf/64/ovmf_x64.bin</code></pre></div><p>I made softlinks to point to the &quot;correct&quot; place. Didn&#039;t work.</p> <p class="postedit"><em>Last edited by jack_boss (2015-05-27 19:07:46)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532459">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532460" class="blockpost roweven"> <h2><span><span class="conr">#5224</span> <a href="viewtopic.php?pid=1532460#p1532460">2015-05-27 19:06:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85563">Punkbob</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-10-02</span></dd> <dd><span>Posts: 14</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=85563">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jack_boss wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><p>Sounds interesting ! I&#039;d like to give a try via virt-manager, however I can&#039;t select OVMF/UEFI as bios. Virt-manager / libvirt doesn&#039;t detect it. It is greyed out, and says that the firmware image is not installed.</p><p>I have virt-manager version 1.2.0-2, libvirt 1.2.15-1 and ovmf 16229-1.</p><p>Any idea what would be the cause please? Also, what does AUI stands for, please?</p></div></blockquote></div><p>Maybe your ovmf package isn&#039;t installing the files where libvirt/virt-manager looks for them?&#160; On my Fedora 21 system the binaries are installed in /usr/share/edk2.git/ovmf-x64/&#160; Your virt-manager would need to be pulled form the devel tree since last Wednesday to include the fix.&#160; AIUI = As I Understand It.</p></div></blockquote></div><p>I&#039;m stuck at this step too, since I started following your guide.<br />I found out that ovmf from the arch official repository installs its files to</p><div class="codebox"><pre><code>/usr/share/ovmf/ovmf_x64.bin</code></pre></div><p> vs ovmf-svn (installed today) </p><div class="codebox"><pre><code>/usr/share/ovmf/64/ovmf_x64.bin</code></pre></div><p>I made softlinks to point to the &quot;correct&quot; place. Didn&#039;t work.</p></div></blockquote></div><br /><p>You need to follow the instructions here:</p><p><a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF#Installation" rel="nofollow">https://wiki.archlinux.org/index.php/PC … stallation</a></p><p>The packages on aur won&#039;t work.</p><p>Edit: And to make it appear in virtual manager add this to qemu.conf:</p><p> nvram = [<br />&#160; &#160; &quot;/usr/share/edk2.git/ovmf-x64/OVMF_CODE-pure-efi.fd:/usr/share/edk2.git/ovmf-x64/OVMF_VARS-pure-efi.fd&quot;,<br />&#160; &#160; &quot;/usr/share/edk2.git/aarch64/QEMU_EFI-pflash.raw:/usr/share/edk2.git/aarch64/vars-template-pflash.raw&quot;,<br /> ]</p><p>Now this is where I am unclear, I only included the second aarch64 line because libvirt fails to start if it isn&#039;t in there, but there isn&#039;t anything at that location. I guess qemu.conf needs it defined even if you don&#039;t use it?</p> <p class="postedit"><em>Last edited by Punkbob (2015-05-27 19:15:34)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532460">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1532468" class="blockpost rowodd"> <h2><span><span class="conr">#5225</span> <a href="viewtopic.php?pid=1532468#p1532468">2015-05-27 19:21:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84998">jack_boss</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-09</span></dd> <dd><span>Posts: 6</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Punkbob wrote:</cite><blockquote><div><div class="quotebox"><cite>jack_boss wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Maybe your ovmf package isn&#039;t installing the files where libvirt/virt-manager looks for them?&#160; On my Fedora 21 system the binaries are installed in /usr/share/edk2.git/ovmf-x64/&#160; Your virt-manager would need to be pulled form the devel tree since last Wednesday to include the fix.&#160; AIUI = As I Understand It.</p></div></blockquote></div><p>I&#039;m stuck at this step too, since I started following your guide.<br />I found out that ovmf from the arch official repository installs its files to</p><div class="codebox"><pre><code>/usr/share/ovmf/ovmf_x64.bin</code></pre></div><p> vs ovmf-svn (installed today) </p><div class="codebox"><pre><code>/usr/share/ovmf/64/ovmf_x64.bin</code></pre></div><p>I made softlinks to point to the &quot;correct&quot; place. Didn&#039;t work.</p></div></blockquote></div><br /><p>You need to follow the instructions here:</p><p><a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF#Installation" rel="nofollow">https://wiki.archlinux.org/index.php/PC … stallation</a></p><p>The packages on aur won&#039;t work.</p><p>Edit: And to make it appear in virtual manager add this to qemu.conf:</p><p> nvram = [<br />&#160; &#160; &quot;/usr/share/edk2.git/ovmf-x64/OVMF_CODE-pure-efi.fd:/usr/share/edk2.git/ovmf-x64/OVMF_VARS-pure-efi.fd&quot;,<br />&#160; &#160; &quot;/usr/share/edk2.git/aarch64/QEMU_EFI-pflash.raw:/usr/share/edk2.git/aarch64/vars-template-pflash.raw&quot;,<br /> ]</p><p>Now this is where I am unclear, I only included the second aarch64 line because libvirt fails to start if it isn&#039;t in there, but there isn&#039;t anything at that location. I guess qemu.conf needs it defined even if you don&#039;t use it?</p></div></blockquote></div><p>How did you figure this part out?</p><div class="codebox"><pre><code> nvram = [ &quot;/usr/share/edk2.git/ovmf-x64/OVMF_CODE-pure-efi.fd:/usr/share/edk2.git/ovmf-x64/OVMF_VARS-pure-efi.fd&quot;, &quot;/usr/share/edk2.git/aarch64/QEMU_EFI-pflash.raw:/usr/share/edk2.git/aarch64/vars-template-pflash.raw&quot;, ]</code></pre></div><p>I assumed it would appear in virt-manager without that part, I mean ovm-svn would probably work to if i were to edit qemu.conf.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1532468">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=208">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=207">207</a> <a href="viewtopic.php?id=162768&amp;p=208">208</a> <strong>209</strong> <a href="viewtopic.php?id=162768&amp;p=210">210</a> <a href="viewtopic.php?id=162768&amp;p=211">211</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=210">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
