<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 90) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=90" title="Page 90" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=89" title="Page 89" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=91" title="Page 91" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=89">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=88">88</a> <a href="viewtopic.php?id=162768&amp;p=89">89</a> <strong>90</strong> <a href="viewtopic.php?id=162768&amp;p=91">91</a> <a href="viewtopic.php?id=162768&amp;p=92">92</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=91">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1430732" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#2226</span> <a href="viewtopic.php?pid=1430732#p1430732">2014-06-27 19:35:00</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83118">random_user9547</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-27</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Slabity wrote:</cite><blockquote><div><p>Could you post the result of `lspci -v`? The section related to your graphics card.</p></div></blockquote></div><p>Yes. Here:</p><div class="codebox"><pre class="vscroll"><code>01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Bonaire XT [Radeon HD 7790/8770 / R9 260 OEM] (prog-if 00 [VGA controller]) Subsystem: Hightech Information System Ltd. Radeon HD 7790 TurboDuo Flags: bus master, fast devsel, latency 0, IRQ 10 Memory at a0000000 (64-bit, prefetchable) [size=256M] Memory at b0000000 (64-bit, prefetchable) [size=8M] I/O ports at e000 [size=256] Memory at fea00000 (32-bit, non-prefetchable) [size=256K] Expansion ROM at fea40000 [disabled] [size=128K] Capabilities: [48] Vendor Specific Information: Len=08 &lt;?&gt; Capabilities: [50] Power Management version 3 Capabilities: [58] Express Legacy Endpoint, MSI 00 Capabilities: [a0] MSI: Enable- Count=1/1 Maskable- 64bit+ Capabilities: [100] Vendor Specific Information: ID=0001 Rev=1 Len=010 &lt;?&gt; Capabilities: [150] Advanced Error Reporting Capabilities: [270] #19 Capabilities: [2b0] Address Translation Service (ATS) Capabilities: [2c0] #13 Capabilities: [2d0] #1b Kernel driver in use: vfio-pci Kernel modules: radeon 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Device 0002 Subsystem: Hightech Information System Ltd. Device 0002 Flags: bus master, fast devsel, latency 0, IRQ 7 Memory at fea60000 (64-bit, non-prefetchable) [size=16K] Capabilities: [48] Vendor Specific Information: Len=08 &lt;?&gt; Capabilities: [50] Power Management version 3 Capabilities: [58] Express Legacy Endpoint, MSI 00 Capabilities: [a0] MSI: Enable- Count=1/1 Maskable- 64bit+ Capabilities: [100] Vendor Specific Information: ID=0001 Rev=1 Len=010 &lt;?&gt; Capabilities: [150] Advanced Error Reporting Kernel driver in use: vfio-pci Kernel modules: snd_hda_intel</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430732">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430761" class="blockpost roweven"> <h2><span><span class="conr">#2227</span> <a href="viewtopic.php?pid=1430761#p1430761">2014-06-27 20:24:42</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78080">Slabity</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-12-29</span></dd> <dd><span>Posts: 40</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:tslabinski@mygsc.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>random_user9547 wrote:</cite><blockquote><div><div class="quotebox"><cite>Slabity wrote:</cite><blockquote><div><p>Could you post the result of `lspci -v`? The section related to your graphics card.</p></div></blockquote></div><p>Yes. Here:</p></div></blockquote></div><p>Add these parameters to your kernel&#039;s command line:</p><div class="codebox"><pre><code>intel_iommu=on pcie_acs_override=downstream</code></pre></div><p>You may need to replace intel_iommu with the AMD equivelant, which I don&#039;t know off the top of my head.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430761">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430772" class="blockpost rowodd"> <h2><span><span class="conr">#2228</span> <a href="viewtopic.php?pid=1430772#p1430772">2014-06-27 20:46:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82294">_pheinrich_</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-26</span></dd> <dd><span>Posts: 32</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:pascalheinrich.de@googlemail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I got it to WORK !!! partly <img src="https://bbs.archlinux.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I can successfully passthrough my GTX 260 and I see the seabios on the output of that gpu.<br />Now my problem is how to stop it ... if I cancel the qemu command the seabios does not go down.</p><p>Next problem is how to use the host keyboard in the vm? Do I have to plug a second keyboard and passthrough it?</p><p>Is it possible to redirect the output of the gpu into a qemu window ?</p><p>I configured my existing qemu img like this</p><div class="codebox"><pre><code>-drive file=/srv/media/Data/qemu/win7/win7.qcow2,id=disk,format=qcow2 -device ide-hd,bus=ide.0,drive=disk</code></pre></div><p>But seabios says &quot;Boot failded: could not read the boot disk&quot;</p> <p class="postedit"><em>Last edited by _pheinrich_ (2014-06-27 20:47:40)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430772">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430773" class="blockpost roweven"> <h2><span><span class="conr">#2229</span> <a href="viewtopic.php?pid=1430773#p1430773">2014-06-27 20:53:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>_pheinrich_ wrote:</cite><blockquote><div><p>I got it to WORK !!! partly :D</p><p>I can successfully passthrough my GTX 260 and I see the seabios on the output of that gpu.<br />Now my problem is how to stop it ... if I cancel the qemu command the seabios does not go down.</p><p>Next problem is how to use the host keyboard in the vm? Do I have to plug a second keyboard and passthrough it?</p><p>Is it possible to redirect the output of the gpu into a qemu window ?</p><p>I configured my existing qemu img like this</p><div class="codebox"><pre><code>-drive file=/srv/media/Data/qemu/win7/win7.qcow2,id=disk,format=qcow2 -device ide-hd,bus=ide.0,drive=disk</code></pre></div><p>But seabios says &quot;Boot failded: could not read the boot disk&quot;</p></div></blockquote></div><p>some of your questions were discussed in this topic already</p><p>please bother reading up a bit or using search - value the time and effort of other people.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430773">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430778" class="blockpost rowodd"> <h2><span><span class="conr">#2230</span> <a href="viewtopic.php?pid=1430778#p1430778">2014-06-27 21:10:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82294">_pheinrich_</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-26</span></dd> <dd><span>Posts: 32</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:pascalheinrich.de@googlemail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>thank you!</p><p>every time I use the search function like &quot;qemu passthrough keyboard&quot; or something else I get this post ... the first page.<br />After reading 15 pages I haven&#039;t found some useful hints.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430778">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430784" class="blockpost roweven"> <h2><span><span class="conr">#2231</span> <a href="viewtopic.php?pid=1430784#p1430784">2014-06-27 21:35:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83118">random_user9547</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-27</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Slabity wrote:</cite><blockquote><div><p>Add these parameters to your kernel&#039;s command line:</p><div class="codebox"><pre><code>intel_iommu=on pcie_acs_override=downstream</code></pre></div><p>You may need to replace intel_iommu with the AMD equivelant, which I don&#039;t know off the top of my head.</p></div></blockquote></div><p>It turns out the amd equivelant is </p><div class="codebox"><pre><code>iommu=pt iommu=1</code></pre></div><p>Adding it did not help.</p><p>With</p><div class="codebox"><pre><code>iommu=pt iommu=1</code></pre></div><p>and/or</p><div class="codebox"><pre><code>iommu=pt iommu=1 pcie_acs_override=downstream</code></pre></div><p>dmesg shows that AMD-Vi is enabled, which would imply that iommu is activated.</p><p>with</p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1 iommu=pt iommu=1 pcie_acs_override=downstream</code></pre></div><p>dmesg does not show AMD-Vi activated.</p><p>None of the lines helped, I still get the same error.</p><p>The qemu line I am running is:</p><div class="codebox"><pre><code>gksu &quot;qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 2,sockets=1,cores=2,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -drive file=/home/&lt;user&gt;/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1&quot;</code></pre></div><p>Am I maybe invoking the qemu line incorrectly?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430784">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1430787" class="blockpost rowodd"> <h2><span><span class="conr">#2232</span> <a href="viewtopic.php?pid=1430787#p1430787">2014-06-27 21:39:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Slabity wrote:</cite><blockquote><div><div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>Or try pulseaudio over network (127.0.0.1). That&#039;s what I do.</p></div></blockquote></div><p>What&#039;s your method of doing this?</p></div></blockquote></div><p>I enabled network &quot;input&quot; for my pulseaudio like this in /etc/pulse/default.pa</p><div class="codebox"><pre><code>load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1 auth-anonymous=1</code></pre></div><p>Setting these environment variables should to the job for qemu.</p><div class="codebox"><pre><code>export QEMU_AUDIO_DRV=pa export PULSE_SERVER=127.0.0.1 export QEMU_PA_SERVER=127.0.0.1</code></pre></div><p>I don&#039;t know if you can do input (aka microphones) this way&#160; but I&#039;ve used this for output the last few months.</p> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1430787">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431017" class="blockpost roweven"> <h2><span><span class="conr">#2233</span> <a href="viewtopic.php?pid=1431017#p1431017">2014-06-28 15:42:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>While connecting a second screen to the passed through card, there would no be output ? <br />I think it is strange, or I did something wrong.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431017">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431032" class="blockpost rowodd"> <h2><span><span class="conr">#2234</span> <a href="viewtopic.php?pid=1431032#p1431032">2014-06-28 16:45:57</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78080">Slabity</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-12-29</span></dd> <dd><span>Posts: 40</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:tslabinski@mygsc.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><div class="quotebox"><cite>Slabity wrote:</cite><blockquote><div><div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>Or try pulseaudio over network (127.0.0.1). That&#039;s what I do.</p></div></blockquote></div><p>What&#039;s your method of doing this?</p></div></blockquote></div><p>I enabled network &quot;input&quot; for my pulseaudio like this in /etc/pulse/default.pa</p><div class="codebox"><pre><code>load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1 auth-anonymous=1</code></pre></div><p>Setting these environment variables should to the job for qemu.</p><div class="codebox"><pre><code>export QEMU_AUDIO_DRV=pa export PULSE_SERVER=127.0.0.1 export QEMU_PA_SERVER=127.0.0.1</code></pre></div><p>I don&#039;t know if you can do input (aka microphones) this way&#160; but I&#039;ve used this for output the last few months.</p></div></blockquote></div><p>Beautiful! This even works with libvirt + virt-manager!</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431032">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431054" class="blockpost roweven"> <h2><span><span class="conr">#2235</span> <a href="viewtopic.php?pid=1431054#p1431054">2014-06-28 19:14:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83145">kameloc</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-28</span></dd> <dd><span>Posts: 11</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=83145">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I&#039;m attempting to follow the instructions from the OP and am having some trouble.</p><p>Hardware:<br />CPU: Intel i7-4790<br />Motherboard: GA-Z97N-WIFI<br />Host GPU: Intel HD Graphics 4600<br />Passthrough GPU: EVGA NVIDIA GTX 550Ti</p><p>Relevant package information:<br />Qemu 2.0.50<br />SeaBIOS 1.7.5<br />Linux Kernel 3.15.2</p><p>Steps taken to configure so far:</p><p>1. Enabled VT-d in BIOS<br />2. Aded intel_iommu=on in my kernel parameters. It also says I need VT-d working. Is there a way to check if it&#039;s working without just trying to implement VGA-passthrough? I checked through dmesg and found that IOMMU is enabled, is that enough?</p><div class="codebox"><pre><code>$ dmesg | grep IOMMU [ 0.000000] Intel-IOMMU: enabled [ 0.018572] dmar: IOMMU 0: reg_base_addr fed90000 ver 1:0 cap c0000020660462 ecap f0101a [ 0.018575] dmar: IOMMU 1: reg_base_addr fed91000 ver 1:0 cap d2008c20660462 ecap f010da [ 0.018640] IOAPIC id 8 under DRHD base 0xfed91000 IOMMU 1 [ 0.464684] IOMMU 0 0xfed90000: using Queued invalidation [ 0.464685] IOMMU 1 0xfed91000: using Queued invalidation [ 0.464686] IOMMU: Setting RMRR: [ 0.464694] IOMMU: Setting identity map for device 0000:00:02.0 [0xcb000000 - 0xcf1fffff] [ 0.464978] IOMMU: Setting identity map for device 0000:00:14.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.464996] IOMMU: Setting identity map for device 0000:00:1a.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.465011] IOMMU: Setting identity map for device 0000:00:1d.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.465023] IOMMU: Prepare 0-16MiB unity mapping for LPC [ 0.465028] IOMMU: Setting identity map for device 0000:00:1f.0 [0x0 - 0xffffff]</code></pre></div><p>3. Blacklisted nouveau in /etc/modprobe.d/blacklist.conf<br />4. Found the 550Ti&#039;s PCI information</p><div class="codebox"><pre><code>$ lspci 01:00.0 VGA compatible controller: NVIDIA Corporation GF116 [GeForce GTX 550 Ti] (rev a1) 01:00.1 Audio device: NVIDIA Corporation GF116 High Definition Audio Controller (rev a1)</code></pre></div><p>5. Used the provided vfio-bind bash script to bind the GPU</p><div class="codebox"><pre><code>vfio-bind 0000:01:00.0 0000:01:00.1</code></pre></div><p>6. Tried starting up the BIOS to test passthrough GPU</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 4,cores=4, \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1</code></pre></div><p>When I do this a <a href="http://i.imgur.com/ROgRzvx.png" rel="nofollow">compat_monitor0 console</a> opens on my main display and then qemu crashes with:</p><div class="codebox"><pre><code>KVM internal error. Suberror: 1 emulation failure EAX=000000d9 EBX=00000000 ECX=0000bd53 EDX=000003d4 ESI=00009e49 EDI=0000823b EBP=0000fc6a ESP=0000822e EIP=000a0000 EFL=00010086 [--S--P-] CPL=0 II=0 A20=1 SMM=0 HLT=0 ES =0000 00000000 ffffffff 00809300 CS =0000 00000000 ffffffff 00809b00 SS =0000 00000000 ffffffff 00809300 DS =0000 00000000 ffffffff 00809300 FS =0000 00000000 ffffffff 00809300 GS =0000 00000000 ffffffff 00809300 LDT=0000 00000000 0000ffff 00008200 TR =0000 00000000 0000ffff 00008b00 GDT= 000f6e98 00000037 IDT= 00000000 000003ff CR0=00000010 CR2=00000000 CR3=00000000 CR4=00000000 DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 DR6=00000000ffff0ff0 DR7=0000000000000400 EFER=0000000000000000 Code=00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 &lt;ff&gt; ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff</code></pre></div><p>I terminated it and just tried starting qemu again and got a different error:</p><div class="codebox"><pre><code>Device option ROM contents are probably invalid (check dmesg). Skip option ROM probe with rombar=0, or load from file with romfile=</code></pre></div><p>Checking dmesg:</p><div class="codebox"><pre><code>$ dmesg | tail [ 4.873454] IPv6: ADDRCONF(NETDEV_CHANGE): eno1: link becomes ready [ 32.469712] fuse init (API version 7.23) [ 71.008187] VFIO - User Level meta-driver version: 0.3 [ 72.716407] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 76.093483] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093527] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093538] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093550] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 78.735841] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 108.173362] vfio-pci 0000:01:00.0: Invalid ROM contents</code></pre></div><p>I decided to try qemu-git as well and have the same results.</p><p>I know my components are very new (at least my CPU and motherboard are) so I can&#039;t rule them out of being the problem. I&#039;d really appreciate it if anyone could help me narrow things down.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431054">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431077" class="blockpost rowodd"> <h2><span><span class="conr">#2236</span> <a href="viewtopic.php?pid=1431077#p1431077">2014-06-28 20:36:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><p>I&#039;m attempting to follow the instructions from the OP and am having some trouble.</p><p>Hardware:<br />CPU: Intel i7-4790<br />Motherboard: GA-Z97N-WIFI<br />Host GPU: Intel HD Graphics 4600<br />Passthrough GPU: EVGA NVIDIA GTX 550Ti</p><p>Relevant package information:<br />Qemu 2.0.50<br />SeaBIOS 1.7.5<br />Linux Kernel 3.15.2</p><p>Steps taken to configure so far:</p><p>1. Enabled VT-d in BIOS<br />2. Aded intel_iommu=on in my kernel parameters. It also says I need VT-d working. Is there a way to check if it&#039;s working without just trying to implement VGA-passthrough? I checked through dmesg and found that IOMMU is enabled, is that enough?</p><div class="codebox"><pre><code>$ dmesg | grep IOMMU [ 0.000000] Intel-IOMMU: enabled [ 0.018572] dmar: IOMMU 0: reg_base_addr fed90000 ver 1:0 cap c0000020660462 ecap f0101a [ 0.018575] dmar: IOMMU 1: reg_base_addr fed91000 ver 1:0 cap d2008c20660462 ecap f010da [ 0.018640] IOAPIC id 8 under DRHD base 0xfed91000 IOMMU 1 [ 0.464684] IOMMU 0 0xfed90000: using Queued invalidation [ 0.464685] IOMMU 1 0xfed91000: using Queued invalidation [ 0.464686] IOMMU: Setting RMRR: [ 0.464694] IOMMU: Setting identity map for device 0000:00:02.0 [0xcb000000 - 0xcf1fffff] [ 0.464978] IOMMU: Setting identity map for device 0000:00:14.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.464996] IOMMU: Setting identity map for device 0000:00:1a.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.465011] IOMMU: Setting identity map for device 0000:00:1d.0 [0xc9e7f000 - 0xc9e8dfff] [ 0.465023] IOMMU: Prepare 0-16MiB unity mapping for LPC [ 0.465028] IOMMU: Setting identity map for device 0000:00:1f.0 [0x0 - 0xffffff]</code></pre></div><p>3. Blacklisted nouveau in /etc/modprobe.d/blacklist.conf<br />4. Found the 550Ti&#039;s PCI information</p><div class="codebox"><pre><code>$ lspci 01:00.0 VGA compatible controller: NVIDIA Corporation GF116 [GeForce GTX 550 Ti] (rev a1) 01:00.1 Audio device: NVIDIA Corporation GF116 High Definition Audio Controller (rev a1)</code></pre></div><p>5. Used the provided vfio-bind bash script to bind the GPU</p><div class="codebox"><pre><code>vfio-bind 0000:01:00.0 0000:01:00.1</code></pre></div><p>6. Tried starting up the BIOS to test passthrough GPU</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 4,cores=4, \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1</code></pre></div><p>When I do this a <a href="http://i.imgur.com/ROgRzvx.png" rel="nofollow">compat_monitor0 console</a> opens on my main display and then qemu crashes with:</p><div class="codebox"><pre><code>KVM internal error. Suberror: 1 emulation failure EAX=000000d9 EBX=00000000 ECX=0000bd53 EDX=000003d4 ESI=00009e49 EDI=0000823b EBP=0000fc6a ESP=0000822e EIP=000a0000 EFL=00010086 [--S--P-] CPL=0 II=0 A20=1 SMM=0 HLT=0 ES =0000 00000000 ffffffff 00809300 CS =0000 00000000 ffffffff 00809b00 SS =0000 00000000 ffffffff 00809300 DS =0000 00000000 ffffffff 00809300 FS =0000 00000000 ffffffff 00809300 GS =0000 00000000 ffffffff 00809300 LDT=0000 00000000 0000ffff 00008200 TR =0000 00000000 0000ffff 00008b00 GDT= 000f6e98 00000037 IDT= 00000000 000003ff CR0=00000010 CR2=00000000 CR3=00000000 CR4=00000000 DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 DR6=00000000ffff0ff0 DR7=0000000000000400 EFER=0000000000000000 Code=00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 &lt;ff&gt; ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff</code></pre></div><p>I terminated it and just tried starting qemu again and got a different error:</p><div class="codebox"><pre><code>Device option ROM contents are probably invalid (check dmesg). Skip option ROM probe with rombar=0, or load from file with romfile=</code></pre></div><p>Checking dmesg:</p><div class="codebox"><pre><code>$ dmesg | tail [ 4.873454] IPv6: ADDRCONF(NETDEV_CHANGE): eno1: link becomes ready [ 32.469712] fuse init (API version 7.23) [ 71.008187] VFIO - User Level meta-driver version: 0.3 [ 72.716407] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 76.093483] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093527] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093538] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 76.093550] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 78.735841] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 108.173362] vfio-pci 0000:01:00.0: Invalid ROM contents</code></pre></div><p>I decided to try qemu-git as well and have the same results.</p><p>I know my components are very new (at least my CPU and motherboard are) so I can&#039;t rule them out of being the problem. I&#039;d really appreciate it if anyone could help me narrow things down.</p></div></blockquote></div><p>You need the i915&#160; vgaarb patch</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431077">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431107" class="blockpost roweven"> <h2><span><span class="conr">#2237</span> <a href="viewtopic.php?pid=1431107#p1431107">2014-06-28 22:05:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83145">kameloc</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-28</span></dd> <dd><span>Posts: 11</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=83145">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You need the i915&#160; vgaarb patch</p></div></blockquote></div><p>Thanks for the reply. I compiled a custom kernel with <a href="https://lkml.org/lkml/2014/5/25/94" rel="nofollow">this patch</a> and have the same errors</p><div class="codebox"><pre class="vscroll"><code># ./vfio-bind 0000:01:00.0 0000:01:00.1 # qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ &gt; -smp 4,cores=4, \ &gt; -bios /usr/share/qemu/bios.bin -vga none \ &gt; -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ &gt; -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ &gt; -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 KVM internal error. Suberror: 1 emulation failure EAX=00000002 EBX=00000000 ECX=0000915e EDX=000003d4 ESI=00009e49 EDI=0000823b EBP=0000a50c ESP=00008232 EIP=000a0000 EFL=00010086 [--S--P-] CPL=0 II=0 A20=1 SMM=0 HLT=0 ES =0000 00000000 ffffffff 00809300 CS =0000 00000000 ffffffff 00809b00 SS =0000 00000000 ffffffff 00809300 DS =0000 00000000 ffffffff 00809300 FS =0000 00000000 ffffffff 00809300 GS =0000 00000000 ffffffff 00809300 LDT=0000 00000000 0000ffff 00008200 TR =0000 00000000 0000ffff 00008b00 GDT= 000f6ee8 00000037 IDT= 00000000 000003ff CR0=00000010 CR2=00000000 CR3=00000000 CR4=00000000 DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 DR6=00000000ffff0ff0 DR7=0000000000000400 EFER=0000000000000000 Code=00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 &lt;ff&gt; ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ^Cqemu: terminating on signal 2 # qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ &gt; -smp 4,cores=4, \ &gt; -bios /usr/share/qemu/bios.bin -vga none \ &gt; -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ &gt; -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ &gt; -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 qemu-system-x86_64: vfio-pci: Cannot read device rom at 0000:01:00.0 Device option ROM contents are probably invalid (check dmesg). Skip option ROM probe with rombar=0, or load from file with romfile= ^Cqemu: terminating on signal 2 # dmesg | tail [ 14.426903] fuse init (API version 7.23) [ 17.469829] snd_hda_intel 0000:00:1b.0: IRQ timing workaround is activated for card #0. Suggest a bigger bdl_pos_adj. [ 27.583355] VFIO - User Level meta-driver version: 0.3 [ 34.290376] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 37.692780] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692822] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692832] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692841] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 40.177371] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 54.267555] vfio-pci 0000:01:00.0: Invalid ROM contents</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431107">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431128" class="blockpost rowodd"> <h2><span><span class="conr">#2238</span> <a href="viewtopic.php?pid=1431128#p1431128">2014-06-28 23:21:44</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80387">dwe11er</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-03-18</span></dd> <dd><span>Posts: 73</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You need the i915&#160; vgaarb patch</p></div></blockquote></div><p>Thanks for the reply. I compiled a custom kernel with <a href="https://lkml.org/lkml/2014/5/25/94" rel="nofollow">this patch</a> and have the same errors</p><div class="codebox"><pre class="vscroll"><code># ./vfio-bind 0000:01:00.0 0000:01:00.1 # qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ &gt; -smp 4,cores=4, \ &gt; -bios /usr/share/qemu/bios.bin -vga none \ &gt; -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ &gt; -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ &gt; -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 KVM internal error. Suberror: 1 emulation failure EAX=00000002 EBX=00000000 ECX=0000915e EDX=000003d4 ESI=00009e49 EDI=0000823b EBP=0000a50c ESP=00008232 EIP=000a0000 EFL=00010086 [--S--P-] CPL=0 II=0 A20=1 SMM=0 HLT=0 ES =0000 00000000 ffffffff 00809300 CS =0000 00000000 ffffffff 00809b00 SS =0000 00000000 ffffffff 00809300 DS =0000 00000000 ffffffff 00809300 FS =0000 00000000 ffffffff 00809300 GS =0000 00000000 ffffffff 00809300 LDT=0000 00000000 0000ffff 00008200 TR =0000 00000000 0000ffff 00008b00 GDT= 000f6ee8 00000037 IDT= 00000000 000003ff CR0=00000010 CR2=00000000 CR3=00000000 CR4=00000000 DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 DR6=00000000ffff0ff0 DR7=0000000000000400 EFER=0000000000000000 Code=00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 &lt;ff&gt; ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ^Cqemu: terminating on signal 2 # qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ &gt; -smp 4,cores=4, \ &gt; -bios /usr/share/qemu/bios.bin -vga none \ &gt; -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ &gt; -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ &gt; -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 qemu-system-x86_64: vfio-pci: Cannot read device rom at 0000:01:00.0 Device option ROM contents are probably invalid (check dmesg). Skip option ROM probe with rombar=0, or load from file with romfile= ^Cqemu: terminating on signal 2 # dmesg | tail [ 14.426903] fuse init (API version 7.23) [ 17.469829] snd_hda_intel 0000:00:1b.0: IRQ timing workaround is activated for card #0. Suggest a bigger bdl_pos_adj. [ 27.583355] VFIO - User Level meta-driver version: 0.3 [ 34.290376] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 37.692780] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692822] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692832] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 37.692841] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 40.177371] [drm:intel_uncore_check_errors] *ERROR* Unclaimed register before interrupt [ 54.267555] vfio-pci 0000:01:00.0: Invalid ROM contents</code></pre></div></div></blockquote></div><p>This is not the right patch (it doesn&#039;t hurt tho).</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431128">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431130" class="blockpost roweven"> <h2><span><span class="conr">#2239</span> <a href="viewtopic.php?pid=1431130#p1431130">2014-06-28 23:52:02</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83145">kameloc</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-28</span></dd> <dd><span>Posts: 11</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=83145">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>dwe11er wrote:</cite><blockquote><div><p>This is not the right patch (it doesn&#039;t hurt tho).</p></div></blockquote></div><p>Could you link me to the right patch? I tried both VGA patches from the OP with the same errors.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431130">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431192" class="blockpost rowodd"> <h2><span><span class="conr">#2240</span> <a href="viewtopic.php?pid=1431192#p1431192">2014-06-29 09:44:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82294">_pheinrich_</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-26</span></dd> <dd><span>Posts: 32</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:pascalheinrich.de@googlemail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi,</p><p>I havn&#039;t found an answer while searching if it is possible to redirect the output from a gpu passed through to a normal qemu window?</p><p>Is there an option to pass an ps/2 keyboard to the vm? I have read something about this and thought it would bind automatically but my keyboard stays in the host scope.</p><p>If I bind a usb hub with vfio-bind I can use it inside the vm, but if I shutdown the vm I would like to use that usb hub on my host again. I tried this but without luck:</p><p>/usr/bin/vfio-unbind</p><div class="codebox"><pre><code>#!/bin/bash for dev in &quot;$@&quot;; do vendor=$(cat /sys/bus/pci/devices/$dev/vendor) device=$(cat /sys/bus/pci/devices/$dev/device) echo $vendor $device &gt; /sys/bus/pci/drivers/vfio-pci/remove_id if [ -e /sys/bus/pci/devices/$dev/driver ]; then echo $dev &gt; /sys/bus/pci/devices/$dev/driver/bind fi done </code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431192">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431277" class="blockpost roweven"> <h2><span><span class="conr">#2241</span> <a href="viewtopic.php?pid=1431277#p1431277">2014-06-29 14:21:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80387">dwe11er</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-03-18</span></dd> <dd><span>Posts: 73</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><div class="quotebox"><cite>dwe11er wrote:</cite><blockquote><div><p>This is not the right patch (it doesn&#039;t hurt tho).</p></div></blockquote></div><p>Could you link me to the right patch? I tried both VGA patches from the OP with the same errors.</p></div></blockquote></div><p>Along with patches, you need to add &#039;i915.enable_hd_vgaarb=1&#039; to kernel params. Also, you prob need to aquire vbios file for your gpu and pass it with romfile arg during the vm boot.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431277">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431296" class="blockpost rowodd"> <h2><span><span class="conr">#2242</span> <a href="viewtopic.php?pid=1431296#p1431296">2014-06-29 15:42:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><div class="quotebox"><cite>dwe11er wrote:</cite><blockquote><div><p>This is not the right patch (it doesn&#039;t hurt tho).</p></div></blockquote></div><p>Could you link me to the right patch? I tried both VGA patches from the OP with the same errors.</p></div></blockquote></div><p><a href="https://bbs.archlinux.org/viewtopic.php?pid=1420298#p1420298" rel="nofollow">this</a> is what works for me (vga arbioter patch link inlcuded)</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431296">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431301" class="blockpost roweven"> <h2><span><span class="conr">#2243</span> <a href="viewtopic.php?pid=1431301#p1431301">2014-06-29 15:51:48</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>_pheinrich_ wrote:</cite><blockquote><div><p>Hi,</p><p>I havn&#039;t found an answer while searching if it is possible to redirect the output from a gpu passed through to a normal qemu window?</p></div></blockquote></div><p>can you &quot;redirect&quot; video from one physical computer to another physically separate one? there are certain ways for sure, most involving network. the same logic applies here</p><div class="quotebox"><cite>_pheinrich_ wrote:</cite><blockquote><div><p>Is there an option to pass an ps/2 keyboard to the vm? I have read something about this and thought it would bind automatically but my keyboard stays in the host scope.</p><p>If I bind a usb hub with vfio-bind I can use it inside the vm, but if I shutdown the vm I would like to use that usb hub on my host again. I tried this but without luck:</p></div></blockquote></div><br /><p>why not directly passing usb devices to qemu? in my case:</p><div class="codebox"><pre><code>... -usbdevice host:04b4:0101 \ -usbdevice host:1038:1366 \ ...</code></pre></div><p>specified mouse and keyboard get acquired by guest (stop interacting with host os) on its start.<br />when guest terminates, both keyboard and mouse get released (start interacting with host os again)</p><p>and yes, all these questions HAVE been disccussed in the thread. i know, it&#039;s pretty hard to look through all 90+ pages, but still</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431301">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431396" class="blockpost rowodd"> <h2><span><span class="conr">#2244</span> <a href="viewtopic.php?pid=1431396#p1431396">2014-06-29 22:47:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I dumped virt-manager, now using qemu through the command line, I managed to boot A windows iso, in the second screen, but! I&#039;m facing the &quot;Blue of Death Screen&quot;, will do more testing... \ <br />side note: I have 2 identical keyboards, and to pass &quot;not my host keyboard&quot; I would need to unplug it first.</p><p>and an easy way to search the thread... use google with the parameter &quot;site:https://bbs.archlinux.org/viewtopic.php?id=162768 &quot;vfio&quot; &quot;kvm&quot;&quot;, and add your key word at the end.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431396">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431463" class="blockpost roweven"> <h2><span><span class="conr">#2245</span> <a href="viewtopic.php?pid=1431463#p1431463">2014-06-30 04:01:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><p>I dumped virt-manager, now using qemu through the command line, I managed to boot A windows iso, in the second screen, but! I&#039;m facing the &quot;Blue of Death Screen&quot;, will do more testing... \ <br />side note: I have 2 identical keyboards, and to pass &quot;not my host keyboard&quot; I would need to unplug it first.</p><p>and an easy way to search the thread... use google with the parameter &quot;site:https://bbs.archlinux.org/viewtopic.php?id=162768 &quot;vfio&quot; &quot;kvm&quot;&quot;, and add your key word at the end.</p></div></blockquote></div><div class="quotebox"><blockquote><div><p>&lt;hostdev mode=&#039;subsystem&#039; type=&#039;usb&#039; managed=&#039;yes&#039;&gt;<br />&#160; &#160; &#160; &lt;source&gt;<br />&#160; &#160; &#160; &#160; &lt;address bus=&#039;1&#039; device=&#039;8&#039;/&gt;<br />&#160; &#160; &#160; &lt;/source&gt;<br />&#160; &#160; &lt;/hostdev&gt;</p></div></blockquote></div><p>you can pass it like this with addess instead of ID.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431463">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431465" class="blockpost rowodd"> <h2><span><span class="conr">#2246</span> <a href="viewtopic.php?pid=1431465#p1431465">2014-06-30 04:22:26</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><blockquote><div><p>yeah i tested... pcie 3.0 gpus crashes with hdmi sound on gigbyte g1 sniper 3 in any port,, i belive pcie gen3 is problem... but there is no option in bios... i have option on my x77-ud3h so ill try later to lower pcie to 2.0.</p></div></blockquote></div><p>Update:</p><p>after couple of days testing... i can conclude that HDMI sound on nvidia kepler+ cards (aka pcie 3.0) doesn&#039;t not work on h77 chipset and 2xxx processor.... (ill post update with 3770 when it arrives)<br />depending on settings, sound starts to lag in game, or if u force usage of sound like opening youtube while in game etc... eventualy windows stops responding saying Can&#039;t play sound or something like that...</p><p>it seems like mbo is changing speed of pcie (i think cause of processor pcie 2.0 vs gpu/mbo 3.0?), and when it changes sound desync and starts to lag.... turning off on output works for couple of seconds or so... (by lag i mean sound works but VERY SLOW, like 10-100 times slower, and eventualy it crashes game/windows)</p><p>tried it on 660,680,770 = same<br />560 = no problems, only difference is pcie2.0 vs 3.0 i guess...</p><p>on zx77-ud3h i have pcie port options in bios like, pcie mode= auto, gen1,gen2,gen3 = all starts to lag = different time to start, pcie_aspm=on/off/force</p><p>anyway usb sound card (5$) works...</p><p>About gaming performance...</p><p>I managed to get about 95%+ performace of native (even with 2 guests)... same on windows 7 or 8.1 x64, with any driver... 0 BSOD, 0 CRASHES, 0 PROBLEMS (except HDMI sound)<br />pcie 3.0 cards performs little slower than 2.0 in my case, i blame cpu.</p><p>i7 2600 &amp; 2600s<br />G1 Sniper 3<br />ZX-77-UD3H<br />debian latest.... 3.15.1 + patches, qemu-git</p> <p class="postedit"><em>Last edited by slis (2014-06-30 04:59:27)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431465">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431542" class="blockpost roweven"> <h2><span><span class="conr">#2247</span> <a href="viewtopic.php?pid=1431542#p1431542">2014-06-30 13:33:01</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75076">SpacePirate</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-09-16</span></dd> <dd><span>Posts: 55</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:hiduei@gmx.de">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi,</p><p>my setup still works fine, but I was just wondering whether it would be possible to somehow access the vms GPUs framebuffer from the host? Or is there some reason why this is impossible?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431542">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431554" class="blockpost rowodd"> <h2><span><span class="conr">#2248</span> <a href="viewtopic.php?pid=1431554#p1431554">2014-06-30 13:56:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>SpacePirate wrote:</cite><blockquote><div><p>Hi,</p><p>my setup still works fine, but I was just wondering whether it would be possible to somehow access the vms GPUs framebuffer from the host? Or is there some reason why this is impossible?</p></div></blockquote></div><p>Theoretically you can, but there&#039;s no code to support it.&#160; Contributions welcome.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431554">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431644" class="blockpost roweven"> <h2><span><span class="conr">#2249</span> <a href="viewtopic.php?pid=1431644#p1431644">2014-06-30 18:52:28</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82294">_pheinrich_</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-26</span></dd> <dd><span>Posts: 32</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:pascalheinrich.de@googlemail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Sry that I have to ask, but I do not know what I have done wrong that pci passthrough is not working anymore.</p><p>It was working as I used the vesa driver for my host card [6600 GT]. Now I have installed nvidia-304xx for that card.</p><p>If I try to start qemu now I get the following:</p><div class="codebox"><pre><code>[pheinrich@ARCH ~]$ sudo win8 qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: failed to get group 1 qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>The GTX 260 should not be covered by the nvidia-304xx and it is claimed by pci-stub too.</p><div class="codebox"><pre><code>[pheinrich@ARCH ~]$ lspci | grep VGA 01:00.0 VGA compatible controller: NVIDIA Corporation NV43 [GeForce 6600 GT] (rev a2) 02:00.0 VGA compatible controller: NVIDIA Corporation GT200 [GeForce GTX 260] (rev a1) [pheinrich@ARCH ~]$ uname -a Linux ARCH 3.15.1-1-acs #1 SMP PREEMPT Fri Jun 27 11:25:56 CEST 2014 x86_64 GNU/Linux [pheinrich@ARCH ~]$ dmesg | grep pci-stub [ 0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-linux-acs root=UUID=bd845dd5-0a31-4cd0-ae57-875c43f15c30 rw intel_iommu=on pci-stub.ids=10de:05e2 [ 0.000000] Kernel command line: BOOT_IMAGE=/boot/vmlinuz-linux-acs root=UUID=bd845dd5-0a31-4cd0-ae57-875c43f15c30 rw intel_iommu=on pci-stub.ids=10de:05e2 [ 0.779345] pci-stub: add 10DE:05E2 sub=FFFFFFFF:FFFFFFFF cls=00000000/00000000 [ 0.779361] pci-stub 0000:02:00.0: claimed by stub</code></pre></div> <p class="postedit"><em>Last edited by _pheinrich_ (2014-06-30 18:52:40)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431644">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1431645" class="blockpost rowodd"> <h2><span><span class="conr">#2250</span> <a href="viewtopic.php?pid=1431645#p1431645">2014-06-30 18:55:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>The ACS patch requires a boot parameter to enable it</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1431645">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=89">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=88">88</a> <a href="viewtopic.php?id=162768&amp;p=89">89</a> <strong>90</strong> <a href="viewtopic.php?id=162768&amp;p=91">91</a> <a href="viewtopic.php?id=162768&amp;p=92">92</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=91">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
