<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 47) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=47" title="Page 47" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=46" title="Page 46" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=48" title="Page 48" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=46">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=45">45</a> <a href="viewtopic.php?id=162768&amp;p=46">46</a> <strong>47</strong> <a href="viewtopic.php?id=162768&amp;p=48">48</a> <a href="viewtopic.php?id=162768&amp;p=49">49</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=48">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1381317" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#1151</span> <a href="viewtopic.php?pid=1381317#p1381317">2014-02-14 09:11:55</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=77628">mbirkis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-12-12</span></dd> <dd><span>Posts: 13</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=77628">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><p>I&#039;m occasionally getting a guest video driver hang, accompanied by an oops on the host.<br />This also invariably results in a freeze on host shutdown.</p></div></blockquote></div><p>While maybe unrelated to your error I am also getting something similar on my setup. It works very well most of the time, but occasionally i can&#039;t start up my windows guest (qemu quits in the middle of the guest bootup) and i need to do a full host reboot in order to get it working again. What puzzles me is that it is not a consistent error and that it is </p><div class="codebox"><pre><code>feb. 13 23:15:45 archxen kernel: ------------[ cut here ]------------ feb. 13 23:15:45 archxen kernel: WARNING: CPU: 1 PID: 693 at fs/sysfs/group.c:214 sysfs_remove_group+0xc4/0xc8() feb. 13 23:15:45 archxen kernel: sysfs group ffffffff8188f3a0 not found for kobject &#039;hidraw0&#039; feb. 13 23:15:45 archxen kernel: Modules linked in: nfsd auth_rpcgss oid_registry nfs_acl ctr ccm hid_generic vfio_pci vfio_iommu_type1 vfio it87 hwmon_vid arc4 kvm_amd kvm mxm_wmi crc32_pclmul crc32 feb. 13 23:15:45 archxen kernel: ehci_pci xhci_hcd ehci_hcd scsi_mod usbcore usb_common pci_stub feb. 13 23:15:45 archxen kernel: CPU: 1 PID: 693 Comm: upowerd Tainted: P O 3.13.0-2-mainline #1 feb. 13 23:15:45 archxen kernel: Hardware name: Gigabyte Technology Co., Ltd. To be filled by O.E.M./990XA-UD3, BIOS FD 02/04/2013 feb. 13 23:15:45 archxen kernel: 0000000000000009 ffff8800ba1f3d28 ffffffff814cef33 ffff8800ba1f3d70 feb. 13 23:15:45 archxen kernel: ffff8800ba1f3d60 ffffffff8105d0dd 0000000000000000 ffffffff8188f3a0 feb. 13 23:15:45 archxen kernel: ffff8802331cd810 ffff88023116b8e8 ffff8802332e4520 ffff8800ba1f3dc0 feb. 13 23:15:45 archxen kernel: Call Trace: feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814cef33&gt;] dump_stack+0x45/0x56 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8105d0dd&gt;] warn_slowpath_common+0x7d/0xa0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8105d14c&gt;] warn_slowpath_fmt+0x4c/0x50 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814d3cfe&gt;] ? mutex_unlock+0xe/0x10 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81205a46&gt;] ? sysfs_get_dirent_ns+0x4e/0x70 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81206bbc&gt;] sysfs_remove_group+0xc4/0xc8 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81376bb3&gt;] dpm_sysfs_remove+0x43/0x50 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136ce55&gt;] device_del+0x45/0x1c0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136cfee&gt;] device_unregister+0x1e/0x60 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136d0a4&gt;] device_destroy+0x3c/0x48 feb. 13 23:15:45 archxen kernel: [&lt;ffffffffa02c0ae7&gt;] drop_ref.part.2+0x57/0x70 [hid] feb. 13 23:15:45 archxen kernel: [&lt;ffffffffa02c0f48&gt;] hidraw_release+0xa0/0xb8 [hid] feb. 13 23:15:45 archxen kernel: [&lt;ffffffff811959f4&gt;] __fput+0xa4/0x228 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81195bbe&gt;] ____fput+0xe/0x10 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8107aa17&gt;] task_work_run+0x97/0xd0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81012d77&gt;] do_notify_resume+0x87/0x90 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814dda6a&gt;] int_signal+0x12/0x17 feb. 13 23:15:45 archxen kernel: ---[ end trace 01cc04907c3ac967 ]---</code></pre></div><p>Any thoughts?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381317">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381339" class="blockpost roweven"> <h2><span><span class="conr">#1152</span> <a href="viewtopic.php?pid=1381339#p1381339">2014-02-14 11:05:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79471">Bronek</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: London</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 90</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79471">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Blind Tree Frog wrote:</cite><blockquote><div><p>So I&#039;ve still got much of this thread to read through, but before I burn too many cycles trying various things to see if I can get this to work the way I want I have two basic questions that I would like to knock out quickly....</p><p>1) Do I need multiple video cards or can this be done with just one?&#160; Ideally I would like to run the host as just a headless host and deal with it through ssh, so I would prefer not to have another card in there.&#160; &#160;It looks life vfio-pci would require multiple cards, but pci-assign might?</p><p>2) Any source I should look at to set this up from a fresh install?&#160; Reapplying the approach in the first post should work, but I&#039;ll take any other compiled info as well if someone wrote something up.</p><p>(I will update this post if I find the answers while reading the thread, but putting them out there anyhow)</p></div></blockquote></div><p>I also plan to build such a machine, with essentially headless host and Windows running on selected cores with VGA passthrough. For the time being my plan is to use the newest stable kernel and rely on top post in this thread, since it seems to be kept up-to date (thanks <strong>nbhs</strong> !)</p> </div> <div class="postsignature postmsg"><hr /><p>Sorry about&#160; &quot;KVM VGA-Passthrough ...&quot; thread <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Anyone interested in continuing this discussion elsewhere, please contact me privately. I might be able to find it a new home.</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381339">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381375" class="blockpost rowodd"> <h2><span><span class="conr">#1153</span> <a href="viewtopic.php?pid=1381375#p1381375">2014-02-14 13:32:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78620">mostlyharmless</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-16</span></dd> <dd><span>Posts: 50</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=78620">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I tried intremap=off (I see nointremap is deprecated) but there is no change; X still hangs when IOMMU is activated in bios.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381375">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381400" class="blockpost roweven"> <h2><span><span class="conr">#1154</span> <a href="viewtopic.php?pid=1381400#p1381400">2014-02-14 14:57:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mbirkis wrote:</cite><blockquote><div><div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><p>I&#039;m occasionally getting a guest video driver hang, accompanied by an oops on the host.<br />This also invariably results in a freeze on host shutdown.</p></div></blockquote></div><p>While maybe unrelated to your error I am also getting something similar on my setup. It works very well most of the time, but occasionally i can&#039;t start up my windows guest (qemu quits in the middle of the guest bootup) and i need to do a full host reboot in order to get it working again. What puzzles me is that it is not a consistent error and that it is </p><div class="codebox"><pre><code>feb. 13 23:15:45 archxen kernel: ------------[ cut here ]------------ feb. 13 23:15:45 archxen kernel: WARNING: CPU: 1 PID: 693 at fs/sysfs/group.c:214 sysfs_remove_group+0xc4/0xc8() feb. 13 23:15:45 archxen kernel: sysfs group ffffffff8188f3a0 not found for kobject &#039;hidraw0&#039; feb. 13 23:15:45 archxen kernel: Modules linked in: nfsd auth_rpcgss oid_registry nfs_acl ctr ccm hid_generic vfio_pci vfio_iommu_type1 vfio it87 hwmon_vid arc4 kvm_amd kvm mxm_wmi crc32_pclmul crc32 feb. 13 23:15:45 archxen kernel: ehci_pci xhci_hcd ehci_hcd scsi_mod usbcore usb_common pci_stub feb. 13 23:15:45 archxen kernel: CPU: 1 PID: 693 Comm: upowerd Tainted: P O 3.13.0-2-mainline #1 feb. 13 23:15:45 archxen kernel: Hardware name: Gigabyte Technology Co., Ltd. To be filled by O.E.M./990XA-UD3, BIOS FD 02/04/2013 feb. 13 23:15:45 archxen kernel: 0000000000000009 ffff8800ba1f3d28 ffffffff814cef33 ffff8800ba1f3d70 feb. 13 23:15:45 archxen kernel: ffff8800ba1f3d60 ffffffff8105d0dd 0000000000000000 ffffffff8188f3a0 feb. 13 23:15:45 archxen kernel: ffff8802331cd810 ffff88023116b8e8 ffff8802332e4520 ffff8800ba1f3dc0 feb. 13 23:15:45 archxen kernel: Call Trace: feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814cef33&gt;] dump_stack+0x45/0x56 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8105d0dd&gt;] warn_slowpath_common+0x7d/0xa0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8105d14c&gt;] warn_slowpath_fmt+0x4c/0x50 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814d3cfe&gt;] ? mutex_unlock+0xe/0x10 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81205a46&gt;] ? sysfs_get_dirent_ns+0x4e/0x70 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81206bbc&gt;] sysfs_remove_group+0xc4/0xc8 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81376bb3&gt;] dpm_sysfs_remove+0x43/0x50 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136ce55&gt;] device_del+0x45/0x1c0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136cfee&gt;] device_unregister+0x1e/0x60 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8136d0a4&gt;] device_destroy+0x3c/0x48 feb. 13 23:15:45 archxen kernel: [&lt;ffffffffa02c0ae7&gt;] drop_ref.part.2+0x57/0x70 [hid] feb. 13 23:15:45 archxen kernel: [&lt;ffffffffa02c0f48&gt;] hidraw_release+0xa0/0xb8 [hid] feb. 13 23:15:45 archxen kernel: [&lt;ffffffff811959f4&gt;] __fput+0xa4/0x228 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81195bbe&gt;] ____fput+0xe/0x10 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff8107aa17&gt;] task_work_run+0x97/0xd0 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff81012d77&gt;] do_notify_resume+0x87/0x90 feb. 13 23:15:45 archxen kernel: [&lt;ffffffff814dda6a&gt;] int_signal+0x12/0x17 feb. 13 23:15:45 archxen kernel: ---[ end trace 01cc04907c3ac967 ]---</code></pre></div><p>Any thoughts?</p></div></blockquote></div><p>Looks usb related</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381400">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381535" class="blockpost rowodd"> <h2><span><span class="conr">#1155</span> <a href="viewtopic.php?pid=1381535#p1381535">2014-02-14 21:53:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79485">an.archy</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79485.png?m=1392475217" width="80" height="80" alt="" /></dd> <dd><span>From: Zilina, Slovakia</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 2</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79485">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello,</p><p>just started working on this for my rig.</p><p>I got the output from my second VGA working. The VGA does not reset correctly from what I can tell but that&#039;s not my biggest issue at the moment.</p><p>When I start the VM and start to install Win7 my memory usage just keeps on increasing until the system is unusable.</p><p>I allocate 4G of memory to the VM. When I start it &quot;top&quot; shows 4G being used by the process but after I start the install the memory used increases until 7.9G and then the system is effectively frozen with 100MB free memory.</p><p>I installed the 3 packages from the first post.</p><p>My setup:<br />CPU: i7-4770<br />MG: GA-B85-HD3<br />VGA1: IGFX<br />VGA2: GTX560</p><p>Any pointers or help is appreciated.</p><p>Thanks!<br />- Matt</p> </div> <div class="postsignature postmsg"><hr /><p>- Matt</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381535">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381536" class="blockpost roweven"> <h2><span><span class="conr">#1156</span> <a href="viewtopic.php?pid=1381536#p1381536">2014-02-14 21:57:02</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>an.archy wrote:</cite><blockquote><div><p>Hello,</p><p>just started working on this for my rig.</p><p>I got the output from my second VGA working. The VGA does not reset correctly from what I can tell but that&#039;s not my biggest issue at the moment.</p><p>When I start the VM and start to install Win7 my memory usage just keeps on increasing until the system is unusable.</p><p>I allocate 4G of memory to the VM. When I start it &quot;top&quot; shows 4G being used by the process but after I start the install the memory used increases until 7.9G and then the system is effectively frozen with 100MB free memory.</p><p>I installed the 3 packages from the first post.</p><p>My setup:<br />CPU: i7-4770<br />MG: GA-B85-HD3<br />VGA1: IGFX<br />VGA2: GTX560</p><p>Any pointers or help is appreciated.</p><p>Thanks!<br />- Matt</p></div></blockquote></div><p>That sounds a lot like RAM is being used for your disk.&#160; Are you by chance using the -snapshot option?</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381536">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381670" class="blockpost rowodd"> <h2><span><span class="conr">#1157</span> <a href="viewtopic.php?pid=1381670#p1381670">2014-02-15 11:58:19</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79485">an.archy</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79485.png?m=1392475217" width="80" height="80" alt="" /></dd> <dd><span>From: Zilina, Slovakia</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 2</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79485">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>It feels like that. I don&#039;t have -snapshot in the startup though. I have a SSD disk with lvm and btrfs. Also I boot using UEFI. If that is relevant.</p><p>This is how I start the VM:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -balloon none \ -m 4G \ -cpu host -smp 8,cores=4,threads=8,sockets=1 \ -bios /usr/share/qemu/bios.bin \ -drive file=/home/win.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -usb -device usb-host,hostbus=3,hostaddr=4 \ -device usb-host,hostbus=1,hostaddr=4 \ -device ide-cd,drive=cdrom1,id=drive1,bus=ide.1 \ -drive file=/root/Win7-x64.iso,if=none,media=cdrom,id=cdrom1 \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=pcie.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=pcie.0 \ -vga none -nographic</code></pre></div><p>I used qemu-kvm alot before and never had a problem like this so im stumped. Although never on a SSD and I have a feeling it might have something to do with this.</p><p>EDIT: Ok. It&#039;s not the SSD. I&#039;m just getting desperate grasping at any straw I can find. By the way, qemu wiki says that -snapshot saves everything to temporary files that are deleted after the VM is turned off. I guess my problem is related to the memory leaks. When I turn off the machine the memory is still occupied. Not the 4G allocated but the unidentified part.</p><p>uname -a</p><div class="codebox"><pre><code>Linux localhost 3.13.0-1-mainline #1 SMP PREEMPT Fri Feb 14 17:55:12 CET 2014 x86_64 GNU/Linux</code></pre></div><p>Thanks!<br />- Matt</p> <p class="postedit"><em>Last edited by an.archy (2014-02-15 12:27:12)</em></p> </div> <div class="postsignature postmsg"><hr /><p>- Matt</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381670">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381683" class="blockpost roweven"> <h2><span><span class="conr">#1158</span> <a href="viewtopic.php?pid=1381683#p1381683">2014-02-15 12:42:44</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79471">Bronek</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: London</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 90</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79471">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Personally I&#039;d try upgrading kernel to most recent stable (3.13.3) as well as qemu and libvirt. I&#039;m not implying you have old versions of those, just don&#039;t know.</p> <p class="postedit"><em>Last edited by Bronek (2014-02-15 12:42:55)</em></p> </div> <div class="postsignature postmsg"><hr /><p>Sorry about&#160; &quot;KVM VGA-Passthrough ...&quot; thread <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Anyone interested in continuing this discussion elsewhere, please contact me privately. I might be able to find it a new home.</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381683">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1381753" class="blockpost rowodd"> <h2><span><span class="conr">#1159</span> <a href="viewtopic.php?pid=1381753#p1381753">2014-02-15 16:17:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=77651">noobman</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-12-13</span></dd> <dd><span>Posts: 21</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I had same issue with memory remaining occupied after close, and the patch &quot;fix_memleak.patch&quot; fixed this specifically and i get all my memory back since then. Are you sure you are using the kernel patches from OP.&#160; Perhaps you are using an unpatched kernel?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1381753">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382175" class="blockpost roweven"> <h2><span><span class="conr">#1160</span> <a href="viewtopic.php?pid=1382175#p1382175">2014-02-16 11:57:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79534">zzz3000</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-02-16</span></dd> <dd><span>Posts: 12</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79534">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi.<br />It is the best forum about kvm video passthrough.<br />I have configured all on Fedora 20 following instructions except getting pakages from git(kernel 3.12 kvm 1.6.1).<br />I still have the problem with restart guest with HD7750.<br />Which patch&#160; is responsible for this feature?</p> <p class="postedit"><em>Last edited by zzz3000 (2014-02-16 12:28:37)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382175">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382228" class="blockpost rowodd"> <h2><span><span class="conr">#1161</span> <a href="viewtopic.php?pid=1382228#p1382228">2014-02-16 15:28:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78355">anickname</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-07</span></dd> <dd><span>Posts: 23</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I solved the reboot problem by doing like in this article :<br /><a href="http://blog.ktz.me/?p=219" rel="nofollow">http://blog.ktz.me/?p=219</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382228">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382360" class="blockpost roweven"> <h2><span><span class="conr">#1162</span> <a href="viewtopic.php?pid=1382360#p1382360">2014-02-16 20:11:46</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78217">DanaGoyette</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-03</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:danagoyette@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I&#039;m still in need of PCI bus reset on the 3.13 kernel.&#160; While you can work around the issue by ejecting the video card in the guest before shutdown, that doesn&#039;t help the slightest bit in cases of guest crash.&#160; I instead end up having to suspend and resume the host.<br />I&#039;ve tried building the vfio-vga-reset branch of qemu, but I got build errors (mentioned in an earlier post).</p><p>As for my &#039;hidraw&#039; error, that seems to happen when I switch from host to guest with my physical KVM switch.&#160; </p><p>Does anyone know how to prevent hda-intel and xhci-hcdi on the host from binding to certain devices? I&#039;d like to prevent the passed-through HDMI Audio and USB 3.0 controllers from ever becoming active on the host, but I can&#039;t just blacklist the modules.</p><p>EDIT: To be clear, booting with pci-stub.ids doesn&#039;t seem to do it.&#160; It might prevent binding once, if I&#039;m lucky, but then on VM stop (via libvirt), the real driver takes over.</p> <p class="postedit"><em>Last edited by DanaGoyette (2014-02-16 20:30:58)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382360">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382372" class="blockpost rowodd"> <h2><span><span class="conr">#1163</span> <a href="viewtopic.php?pid=1382372#p1382372">2014-02-16 20:35:35</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><p>I&#039;m still in need of PCI bus reset on the 3.13 kernel.&#160; While you can work around the issue by ejecting the video card in the guest before shutdown, that doesn&#039;t help the slightest bit in cases of guest crash.&#160; I instead end up having to suspend and resume the host.<br />I&#039;ve tried building the vfio-vga-reset branch of qemu, but I got build errors (mentioned in an earlier post).</p><p>As for my &#039;hidraw&#039; error, that seems to happen when I switch from host to guest with my physical KVM switch.&#160; </p><p>Does anyone know how to prevent hda-intel and xhci-hcdi on the host from binding to certain devices? I&#039;d like to prevent the passed-through HDMI Audio and USB 3.0 controllers from ever becoming active on the host, but I can&#039;t just blacklist the modules.</p></div></blockquote></div><p>I don&#039;t think the vfio-vga-reset branch is still necesarry and might even be incompatible. I&#039;m using stable, upstream qemu at the moment, as in the arch package of 1.7.0 and seabios 1.7.3.1 and it&#039;s working perfectly fine including reset and all.</p> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382372">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382398" class="blockpost roweven"> <h2><span><span class="conr">#1164</span> <a href="viewtopic.php?pid=1382398#p1382398">2014-02-16 21:45:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>zzz3000 wrote:</cite><blockquote><div><p>Hi.<br />It is the best forum about kvm video passthrough.<br />I have configured all on Fedora 20 following instructions except getting pakages from git(kernel 3.12 kvm 1.6.1).<br />I still have the problem with restart guest with HD7750.<br />Which patch&#160; is responsible for this feature?</p></div></blockquote></div><p>You&#039;ll need the lastest stable version (1.7) or qemu-git</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382398">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382400" class="blockpost rowodd"> <h2><span><span class="conr">#1165</span> <a href="viewtopic.php?pid=1382400#p1382400">2014-02-16 21:50:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><p>I&#039;m still in need of PCI bus reset on the 3.13 kernel.&#160; While you can work around the issue by ejecting the video card in the guest before shutdown, that doesn&#039;t help the slightest bit in cases of guest crash.&#160; I instead end up having to suspend and resume the host.<br />I&#039;ve tried building the vfio-vga-reset branch of qemu, but I got build errors (mentioned in an earlier post).</p><p>As for my &#039;hidraw&#039; error, that seems to happen when I switch from host to guest with my physical KVM switch.&#160; </p><p>Does anyone know how to prevent hda-intel and xhci-hcdi on the host from binding to certain devices? I&#039;d like to prevent the passed-through HDMI Audio and USB 3.0 controllers from ever becoming active on the host, but I can&#039;t just blacklist the modules.</p><p>EDIT: To be clear, booting with pci-stub.ids doesn&#039;t seem to do it.&#160; It might prevent binding once, if I&#039;m lucky, but then on VM stop (via libvirt), the real driver takes over.</p></div></blockquote></div><p>Im not sure reset will work without x-vga=on</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382400">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382466" class="blockpost roweven"> <h2><span><span class="conr">#1166</span> <a href="viewtopic.php?pid=1382466#p1382466">2014-02-17 02:13:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=76834">Val532</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-11-13</span></dd> <dd><span>Posts: 35</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=76834">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@aw:</p><p>Your new ACS patch does not work on z87 chipset, but the older work.... <br />If you whant i can post some test.</p> <p class="postedit"><em>Last edited by Val532 (2014-02-17 02:22:38)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382466">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382468" class="blockpost rowodd"> <h2><span><span class="conr">#1167</span> <a href="viewtopic.php?pid=1382468#p1382468">2014-02-17 02:14:31</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Val532 wrote:</cite><blockquote><div><p>@aw:</p><p>Your new ACS patch does not work on z87 chipset, but the older work.... <br />If you want i can post some test.</p></div></blockquote></div><p>What are the device IDs?</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382468">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382480" class="blockpost roweven"> <h2><span><span class="conr">#1168</span> <a href="viewtopic.php?pid=1382480#p1382480">2014-02-17 03:15:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Val532 wrote:</cite><blockquote><div><p>@aw:</p><p>Your new ACS patch does not work on z87 chipset, but the older work.... <br />If you want i can post some test.</p></div></blockquote></div><p>What are the device IDs?</p></div></blockquote></div><p>z87 would be a lynx point chipset, so should be covered by the 8c1X set of device IDs.&#160; Note though that the new ACS patch only enables ACS for PCH-based root ports, ie. the ones at 00:1c.X.&#160; Intel has not provided details for whether the same is possible with processor-based root ports.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382480">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382496" class="blockpost rowodd"> <h2><span><span class="conr">#1169</span> <a href="viewtopic.php?pid=1382496#p1382496">2014-02-17 04:43:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78217">DanaGoyette</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-03</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:danagoyette@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>I don&#039;t think the vfio-vga-reset branch is still necesarry and might even be incompatible. I&#039;m using stable, upstream qemu at the moment, as in the arch package of 1.7.0 and seabios 1.7.3.1 and it&#039;s working perfectly fine including reset and all.</p></div></blockquote></div><p>I checked in vfio.c, and the symbol mentioned in the original thread about the bus reset (&quot;VFIO_DEVICE_PCI_BUS_RESET&quot;) doesn&#039;t appear anywhere in the kernel or in qemu.&#160; <br />I see other mentions of device reset, but whatever is there sure isn&#039;t working.&#160; I&#039;d imagine it will also be similarly broken for the secondary-passthrough case.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382496">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382497" class="blockpost roweven"> <h2><span><span class="conr">#1170</span> <a href="viewtopic.php?pid=1382497#p1382497">2014-02-17 04:46:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>I don&#039;t think the vfio-vga-reset branch is still necesarry and might even be incompatible. I&#039;m using stable, upstream qemu at the moment, as in the arch package of 1.7.0 and seabios 1.7.3.1 and it&#039;s working perfectly fine including reset and all.</p></div></blockquote></div><p>I checked in vfio.c, and the symbol mentioned in the original thread about the bus reset (&quot;VFIO_DEVICE_PCI_BUS_RESET&quot;) doesn&#039;t appear anywhere in the kernel or in qemu.&#160; <br />I see other mentions of device reset, but whatever is there sure isn&#039;t working.&#160; I&#039;d imagine it will also be similarly broken for the secondary-passthrough case.</p></div></blockquote></div><p>Does the patch here help?&#160; <a href="http://lists.nongnu.org/archive/html/qemu-devel/2014-02/msg00767.html" rel="nofollow">http://lists.nongnu.org/archive/html/qe … 00767.html</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382497">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382502" class="blockpost rowodd"> <h2><span><span class="conr">#1171</span> <a href="viewtopic.php?pid=1382502#p1382502">2014-02-17 05:41:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78217">DanaGoyette</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-03</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:danagoyette@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>DanaGoyette wrote:</cite><blockquote><div><p>I checked in vfio.c, and the symbol mentioned in the original thread about the bus reset (&quot;VFIO_DEVICE_PCI_BUS_RESET&quot;) doesn&#039;t appear anywhere in the kernel or in qemu.&#160; <br />I see other mentions of device reset, but whatever is there sure isn&#039;t working.&#160; I&#039;d imagine it will also be similarly broken for the secondary-passthrough case.</p></div></blockquote></div><p>Does the patch here help?&#160; <a href="http://lists.nongnu.org/archive/html/qemu-devel/2014-02/msg00767.html" rel="nofollow">http://lists.nongnu.org/archive/html/qe … 00767.html</a></p></div></blockquote></div><p>I applied the patch, and don&#039;t see any change, at least so far.&#160; I&#039;m going to try adding x-vga=on... as soon as I reboot my host, due to getting this again at guest shutdown:</p><div class="codebox"><pre class="vscroll"><code>[11277.738918] BUG: unable to handle kernel paging request at 0000000000001000 [11277.745979] IP: [&lt;0000000000001000&gt;] 0x1000 [11277.750192] PGD 0 [11277.752230] Oops: 0010 [#1] SMP [11277.755514] Modules linked in: xt_multiport(F) xt_conntrack(F) ipt_REJECT(F) dm_crypt(F) sb_edac(F) snd_hda_codec_hdmi(F) snd_hda_codec_realtek(F) ip6table_filter(F) ip6_tables(F) xt_CHECKSUM(F) iptable_mangle(F) ipt_MASQUERADE(F) iptable_nat(F) nf_conntrack_ipv4(F) nf_defrag_ipv4(F) nf_nat_ipv4(F) nf_nat(F) nf_conntrack(F) xt_tcpudp(F) bridge(F) stp(F) llc(F) iptable_filter(F) ip_tables(F) x_tables(F) autofs4(F) deflate(F) ctr(F) twofish_generic(F) twofish_avx_x86_64(F) twofish_x86_64_3way(F) twofish_x86_64(F) twofish_common(F) camellia_generic(F) camellia_aesni_avx2(F) camellia_aesni_avx_x86_64(F) camellia_x86_64(F) serpent_avx2(F) serpent_avx_x86_64(F) serpent_sse2_x86_64(F) xts(F) serpent_generic(F) blowfish_generic(F) blowfish_x86_64(F) blowfish_common(F) cast5_avx_x86_64(F) cast5_generic(F) cast_common(F) des_generic(F) cmac(F) xcbc(F) rmd160(F) crypto_null(F) af_key(F) xfrm_algo(F) parport_pc(F) ppdev(F) bnep(F) rfcomm(F) bluetooth(F) joydev(F) iTCO_wdt(F) iTCO_vendor_support(F) dm_multipath(F) scsi_dh(F) x86_pkg_temp_thermal(F) intel_powerclamp(F) kvm_intel(F) kvm(F) snd_usb_audio(F) snd_usbmidi_lib(F) crct10dif_pclmul(F) crc32_pclmul(F) hid_logitech_dj(F) ghash_clmulni_intel(F) aesni_intel(F) aes_x86_64(F) lrw(F) gf128mul(F) snd_hda_intel(F) glue_helper(F) ablk_helper(F) snd_hda_codec(F) cryptd(F) snd_seq_midi(F) snd_hwdep(F) snd_seq_midi_event(F) i915(F) shpchp(F) snd_pcm(F) snd_rawmidi(F) snd_seq(F) snd_page_alloc(F) snd_seq_device(F) snd_timer(F) lpc_ich(F) drm_kms_helper(F) snd(F) drm(F) soundcore(F) i2c_algo_bit(F) mac_hid(F) video(F) vfio_pci(F) vfio_iommu_type1(F) vfio(F) w83627ehf(F) hwmon_vid(F) coretemp(F) msr(F) cpuid(F) nfsd(F) auth_rpcgss(F) jc42(F) nfs_acl(F) nfs(F) binfmt_misc(F) lp(F) lockd(F) parport(F) sunrpc(F) fscache(F) nls_iso8859_1(F) zfs(POF) zunicode(POF) zavl(POF) zcommon(POF) znvpair(POF) spl(OF) hid_generic(F) btrfs(F) xor(F) usbhid(F) hid(F) raid6_pq(F) libcrc32c(F) firewire_ohci(F) firewire_core(F) crc_itu_t(F) ahci(F) e1000e(F) libahci(F) ptp(F) pps_core(F) microcode(F) [11277.936682] CPU: 0 PID: 2103 Comm: libvirtd Tainted: PF W O 3.13.0-acs #1 [11277.944094] Hardware name: Supermicro X10SAT/X10SAT, BIOS 1.0 08/27/2013 [11277.950815] task: ffff8804596bb000 ti: ffff880452ce8000 task.ti: ffff880452ce8000 [11277.958315] RIP: 0010:[&lt;0000000000001000&gt;] [&lt;0000000000001000&gt;] 0x1000 [11277.964963] RSP: 0018:ffff880452ce9d70 EFLAGS: 00010246 [11277.970288] RAX: 0000000000000008 RBX: ffff880467e63098 RCX: 0000000000000000 [11277.977441] RDX: ffff880415ac7348 RSI: 00000000015c015a RDI: ffff880467e63098 [11277.984593] RBP: ffff880452ce9d98 R08: 0000000000000246 R09: 0000000000000000 [11277.991738] R10: ffffea0007ea5080 R11: ffffffffa04e3127 R12: ffff880467e63140 [11277.998891] R13: 0000000000001000 R14: 0000000000000000 R15: ffffffffffffffed [11278.006042] FS: 00007f0adcf30700(0000) GS:ffff88047ea00000(0000) knlGS:0000000000000000 [11278.014149] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033 [11278.019906] CR2: 0000000000001000 CR3: 0000000458490000 CR4: 00000000001407e0 [11278.027052] Stack: [11278.029070] ffffffff814aabf6 ffff880452ce9dd8 0000000000000004 ffff880467e63098 [11278.036561] 0000000000000004 ffff880452ce9dc8 ffffffff814ab68d 0000000000000004 [11278.044046] ffff880467e63098 ffff880467e63140 0000000000000246 ffff880452ce9df8 [11278.051546] Call Trace: [11278.054009] [&lt;ffffffff814aabf6&gt;] ? __rpm_callback+0x36/0xc0 [11278.059679] [&lt;ffffffff814ab68d&gt;] rpm_idle+0x1bd/0x2b0 [11278.064829] [&lt;ffffffff814ab7dd&gt;] __pm_runtime_idle+0x5d/0x80 [11278.070589] [&lt;ffffffff813b95a4&gt;] pci_device_remove+0x74/0xb0 [11278.076353] [&lt;ffffffff8149f09f&gt;] __device_release_driver+0x7f/0xf0 [11278.082647] [&lt;ffffffff8149f133&gt;] device_release_driver+0x23/0x30 [11278.088750] [&lt;ffffffff8149dead&gt;] unbind_store+0xbd/0xe0 [11278.094073] [&lt;ffffffff8149d2d4&gt;] drv_attr_store+0x24/0x40 [11278.099571] [&lt;ffffffff8122e878&gt;] sysfs_write_file+0x128/0x1c0 [11278.105416] [&lt;ffffffff811b7934&gt;] vfs_write+0xb4/0x1f0 [11278.110565] [&lt;ffffffff811b8369&gt;] SyS_write+0x49/0xa0 [11278.115631] [&lt;ffffffff817389bf&gt;] tracesys+0xe1/0xe6 [11278.120603] Code: Bad RIP value. [11278.123993] RIP [&lt;0000000000001000&gt;] 0x1000 [11278.128303] RSP &lt;ffff880452ce9d70&gt; [11278.131804] CR2: 0000000000001000 [11278.142523] ---[ end trace 2f92dc116cd5ac76 ]---</code></pre></div><br /><p>EDIT: Okay, I tried with x-vga=on.&#160; At least with x-vga=on and the above mentioned change, I was able to normal-reboot the guest properly, unlike ever before.&#160; However, when the guest BSOD&#039;d (unrelated to video stuff), the GPU became unresponsive again.&#160; The EFI framebuffer still works while in this state, but Windows won&#039;t boot.&#160; Then when I tried to stop the VM, I yet again got the above kernel oops.</p> <p class="postedit"><em>Last edited by DanaGoyette (2014-02-17 06:03:19)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382502">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382523" class="blockpost roweven"> <h2><span><span class="conr">#1172</span> <a href="viewtopic.php?pid=1382523#p1382523">2014-02-17 07:56:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79561">sephiroth1395</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-02-17</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79561">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello everyone,</p><p>First, I would like to thank everyone for their effort making VGA-Passthrough usable.&#160; As many of us here, I&#039;m having problems.&#160; I&#039;m running Fedora 20 with kernel 3.13.3 and the packages from the virt-preview, which are close to upstream.<br />My configuration is a Dell OptiPlex 7010, equipped with a Core i5 3470 and a Radeon HD7570 from Dell.</p><p>VT-d and vfio work fine for other devices, such as the audio controller, but I can&#039;t seem to passthrough the graphic cards.&#160; Primary passthrough simply fails, secondary passthrough with a Cirrus VGA gives me Error 10.&#160; In both cases, I hear the GPU fan reacting when the VM boots, but then nothing happens.</p><p>I tried blacklisting completely the i915 driver, as I can live without it.&#160; This is for a project aimed at a seamless interaction with a Windows VM, the Linux hypervisor doing background processing, hidden from the user.&#160; Given my situation, what are my best next shots ?</p> <p class="postedit"><em>Last edited by sephiroth1395 (2014-02-17 07:57:45)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382523">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382614" class="blockpost rowodd"> <h2><span><span class="conr">#1173</span> <a href="viewtopic.php?pid=1382614#p1382614">2014-02-17 16:56:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=76834">Val532</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-11-13</span></dd> <dd><span>Posts: 35</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=76834">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Val532 wrote:</cite><blockquote><div><p>@aw:</p><p>Your new ACS patch does not work on z87 chipset, but the older work.... <br />If you want i can post some test.</p></div></blockquote></div><p>What are the device IDs?</p></div></blockquote></div><p>z87 would be a lynx point chipset, so should be covered by the 8c1X set of device IDs.&#160; Note though that the new ACS patch only enables ACS for PCH-based root ports, ie. the ones at 00:1c.X.&#160; Intel has not provided details for whether the same is possible with processor-based root ports.</p></div></blockquote></div><br /><p>Sorry i&#039;m late,</p><p>But yes it&#039;s a 0x8C1X but the tree root port of my mother board dans the two VGA card on it is on the same iommu group ...</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382614">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382617" class="blockpost roweven"> <h2><span><span class="conr">#1174</span> <a href="viewtopic.php?pid=1382617#p1382617">2014-02-17 16:58:47</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Val532 wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>What are the device IDs?</p></div></blockquote></div><p>z87 would be a lynx point chipset, so should be covered by the 8c1X set of device IDs.&#160; Note though that the new ACS patch only enables ACS for PCH-based root ports, ie. the ones at 00:1c.X.&#160; Intel has not provided details for whether the same is possible with processor-based root ports.</p></div></blockquote></div><br /><p>Sorry i&#039;m late,</p><p>But yes it&#039;s a 0x8C1X but the tree root port of my mother board dans the two VGA card on it is on the same iommu group ...</p></div></blockquote></div><p>Are they below one of the 0x8C1X root ports or a different one?</p><p>EDIT: this would be useful: lspci -tv; lspci -n; find /sys/kernel/iommu_groups/</p> <p class="postedit"><em>Last edited by aw (2014-02-17 17:23:33)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382617">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1382708" class="blockpost rowodd"> <h2><span><span class="conr">#1175</span> <a href="viewtopic.php?pid=1382708#p1382708">2014-02-17 21:35:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=76834">Val532</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-11-13</span></dd> <dd><span>Posts: 35</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=76834">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Val532 wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>z87 would be a lynx point chipset, so should be covered by the 8c1X set of device IDs.&#160; Note though that the new ACS patch only enables ACS for PCH-based root ports, ie. the ones at 00:1c.X.&#160; Intel has not provided details for whether the same is possible with processor-based root ports.</p></div></blockquote></div><br /><p>Sorry i&#039;m late,</p><p>But yes it&#039;s a 0x8C1X but the tree root port of my mother board dans the two VGA card on it is on the same iommu group ...</p></div></blockquote></div><p>Are they below one of the 0x8C1X root ports or a different one?</p><p>EDIT: this would be useful: lspci -tv; lspci -n; find /sys/kernel/iommu_groups/</p></div></blockquote></div><p>So i made some test.</p><p>On my AsRock Z87 extrem 6 :<br />Without patch</p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 4th Gen Core Processor DRAM Controller (rev 06) ### Group 1 ### 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x16 Controller (rev 06) 00:01.1 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x8 Controller (rev 06) 00:01.2 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x4 Controller (rev 06) 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde XT [Radeon HD 7770 GHz Edition] 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde/Pitcairn HDMI Audio [Radeon HD 7700/7800 Series] 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 2 ### 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller (rev 06) ### Group 3 ### 00:03.0 Audio device: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller (rev 06) ### Group 4 ### 00:16.0 Communication controller: Intel Corporation 8 Series/C220 Series Chipset Family MEI Controller #1 (rev 04) ### Group 5 ### 00:19.0 Ethernet controller: Intel Corporation Ethernet Connection I217-V (rev 04) ### Group 6 ### 00:1a.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 (rev 04) ### Group 7 ### 00:1b.0 Audio device: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller (rev 04) ### Group 8 ### 00:1c.0 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #1 (rev d4) 00:1c.2 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #3 (rev d4) 00:1c.3 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #4 (rev d4) 00:1c.4 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #5 (rev d4) 05:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01) 06:00.0 Ethernet controller: Intel Corporation I211 Gigabit Network Connection (rev 03) 07:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01) ### Group 9 ### 00:1d.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 (rev 04) ### Group 10 ### 00:1f.0 ISA bridge: Intel Corporation Z87 Express LPC Controller (rev 04) 00:1f.2 SATA controller: Intel Corporation 8 Series/C220 Series Chipset Family 6-port SATA Controller 1 [AHCI mode] (rev 04) 00:1f.3 SMBus: Intel Corporation 8 Series/C220 Series Chipset Family SMBus Controller (rev 04)</code></pre></div><p>With old ACS patch :</p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 4th Gen Core Processor DRAM Controller (rev 06) ### Group 1 ### 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x16 Controller (rev 06) ### Group 2 ### 00:01.1 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x8 Controller (rev 06) ### Group 3 ### 00:01.2 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x4 Controller (rev 06) ### Group 4 ### 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller (rev 06) ### Group 5 ### 00:03.0 Audio device: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller (rev 06) ### Group 6 ### 00:16.0 Communication controller: Intel Corporation 8 Series/C220 Series Chipset Family MEI Controller #1 (rev 04) ### Group 7 ### 00:19.0 Ethernet controller: Intel Corporation Ethernet Connection I217-V (rev 04) ### Group 8 ### 00:1a.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 (rev 04) ### Group 9 ### 00:1b.0 Audio device: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller (rev 04) ### Group 10 ### 00:1c.0 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #1 (rev d4) ### Group 11 ### 00:1c.2 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #3 (rev d4) ### Group 12 ### 00:1c.3 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #4 (rev d4) ### Group 13 ### 00:1c.4 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #5 (rev d4) ### Group 14 ### 00:1d.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 (rev 04) ### Group 15 ### 00:1f.0 ISA bridge: Intel Corporation Z87 Express LPC Controller (rev 04) 00:1f.2 SATA controller: Intel Corporation 8 Series/C220 Series Chipset Family 6-port SATA Controller 1 [AHCI mode] (rev 04) 00:1f.3 SMBus: Intel Corporation 8 Series/C220 Series Chipset Family SMBus Controller (rev 04) ### Group 16 ### 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde XT [Radeon HD 7770 GHz Edition] 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde/Pitcairn HDMI Audio [Radeon HD 7700/7800 Series] ### Group 17 ### 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 18 ### 05:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01) ### Group 19 ### 06:00.0 Ethernet controller: Intel Corporation I211 Gigabit Network Connection (rev 03) ### Group 20 ### 07:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01)</code></pre></div><p>Whit the new ACS patch : </p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 4th Gen Core Processor DRAM Controller (rev 06) ### Group 1 ### 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x16 Controller (rev 06) 00:01.1 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x8 Controller (rev 06) 00:01.2 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x4 Controller (rev 06) 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde XT [Radeon HD 7770 GHz Edition] 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde/Pitcairn HDMI Audio [Radeon HD 7700/7800 Series] 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 2 ### 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller (rev 06) ### Group 3 ### 00:03.0 Audio device: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller (rev 06) ### Group 4 ### 00:16.0 Communication controller: Intel Corporation 8 Series/C220 Series Chipset Family MEI Controller #1 (rev 04) ### Group 5 ### 00:19.0 Ethernet controller: Intel Corporation Ethernet Connection I217-V (rev 04) ### Group 6 ### 00:1a.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 (rev 04) ### Group 7 ### 00:1b.0 Audio device: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller (rev 04) ### Group 8 ### 00:1c.0 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #1 (rev d4) ### Group 9 ### 00:1c.2 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #3 (rev d4) ### Group 10 ### 00:1c.3 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #4 (rev d4) ### Group 11 ### 00:1c.4 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #5 (rev d4) ### Group 12 ### 00:1d.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 (rev 04) ### Group 13 ### 00:1f.0 ISA bridge: Intel Corporation Z87 Express LPC Controller (rev 04) 00:1f.2 SATA controller: Intel Corporation 8 Series/C220 Series Chipset Family 6-port SATA Controller 1 [AHCI mode] (rev 04) 00:1f.3 SMBus: Intel Corporation 8 Series/C220 Series Chipset Family SMBus Controller (rev 04) ### Group 14 ### 05:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01) ### Group 15 ### 06:00.0 Ethernet controller: Intel Corporation I211 Gigabit Network Connection (rev 03) ### Group 16 ### 07:00.0 SATA controller: ASMedia Technology Inc. ASM1062 Serial ATA Controller (rev 01)</code></pre></div><p>On my GigaByte X58 .... :</p><p>Without any patch :</p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 5520/5500/X58 I/O Hub to ESI Port (rev 12) ### Group 1 ### 00:03.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 3 (rev 12) ### Group 2 ### 00:07.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 7 (rev 12) ### Group 3 ### 00:10.0 PIC: Intel Corporation 7500/5520/5500/X58 Physical and Link Layer Registers Port 0 (rev 12) 00:10.1 PIC: Intel Corporation 7500/5520/5500/X58 Routing and Protocol Layer Registers Port 0 (rev 12) ### Group 4 ### 00:11.0 PIC: Intel Corporation 7500/5520/5500 Physical and Link Layer Registers Port 1 (rev 12) 00:11.1 PIC: Intel Corporation 7500/5520/5500 Routing &amp; Protocol Layer Register Port 1 (rev 12) ### Group 5 ### 00:13.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub I/OxAPIC Interrupt Controller (rev 12) ### Group 6 ### 00:14.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub System Management Registers (rev 12) 00:14.1 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub GPIO and Scratch Pad Registers (rev 12) 00:14.2 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub Control Status and RAS Registers (rev 12) ### Group 7 ### 00:15.0 PIC: Intel Corporation 7500/5520/5500/X58 Trusted Execution Technology Registers (rev 12) ### Group 8 ### 00:1a.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #4 00:1a.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #5 00:1a.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #6 00:1a.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #2 ### Group 9 ### 00:1b.0 Audio device: Intel Corporation 82801JI (ICH10 Family) HD Audio Controller ### Group 10 ### 00:1c.0 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 1 00:1c.1 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Port 2 00:1c.4 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 5 04:00.0 SATA controller: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 04:00.1 IDE interface: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 05:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 03) ### Group 11 ### 00:1d.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #1 00:1d.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #2 00:1d.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #3 00:1d.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #1 ### Group 12 ### 00:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 90) ### Group 13 ### 00:1f.0 ISA bridge: Intel Corporation 82801JIR (ICH10R) LPC Interface Controller 00:1f.2 SATA controller: Intel Corporation 82801JI (ICH10 Family) SATA AHCI Controller 00:1f.3 SMBus: Intel Corporation 82801JI (ICH10 Family) SMBus Controller ### Group 14 ### 01:00.0 VGA compatible controller: NVIDIA Corporation NV44 [GeForce 7100 GS] (rev a1) ### Group 15 ### 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 16 ### 3f:00.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture Generic Non-Core Registers (rev 05) 3f:00.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture System Address Decoder (rev 05) ### Group 17 ### 3f:02.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Link 0 (rev 05) 3f:02.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Physical 0 (rev 05) ### Group 18 ### 3f:03.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller (rev 05) 3f:03.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Target Address Decoder (rev 05) 3f:03.4 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Test Registers (rev 05) ### Group 19 ### 3f:04.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Control Registers (rev 05) 3f:04.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Address Registers (rev 05) 3f:04.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Rank Registers (rev 05) 3f:04.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Thermal Control Registers (rev 05) ### Group 20 ### 3f:05.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Control Registers (rev 05) 3f:05.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Address Registers (rev 05) 3f:05.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Rank Registers (rev 05) 3f:05.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Thermal Control Registers (rev 05) ### Group 21 ### 3f:06.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Control Registers (rev 05) 3f:06.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Address Registers (rev 05) 3f:06.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Rank Registers (rev 05) 3f:06.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Thermal Control Registers (rev 05)</code></pre></div><p>With old ACS patch :</p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 5520/5500/X58 I/O Hub to ESI Port (rev 12) ### Group 1 ### 00:03.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 3 (rev 12) ### Group 2 ### 00:07.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 7 (rev 12) ### Group 3 ### 00:10.0 PIC: Intel Corporation 7500/5520/5500/X58 Physical and Link Layer Registers Port 0 (rev 12) 00:10.1 PIC: Intel Corporation 7500/5520/5500/X58 Routing and Protocol Layer Registers Port 0 (rev 12) ### Group 4 ### 00:11.0 PIC: Intel Corporation 7500/5520/5500 Physical and Link Layer Registers Port 1 (rev 12) 00:11.1 PIC: Intel Corporation 7500/5520/5500 Routing &amp; Protocol Layer Register Port 1 (rev 12) ### Group 5 ### 00:13.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub I/OxAPIC Interrupt Controller (rev 12) ### Group 6 ### 00:14.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub System Management Registers (rev 12) 00:14.1 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub GPIO and Scratch Pad Registers (rev 12) 00:14.2 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub Control Status and RAS Registers (rev 12) ### Group 7 ### 00:15.0 PIC: Intel Corporation 7500/5520/5500/X58 Trusted Execution Technology Registers (rev 12) ### Group 8 ### 00:1a.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #4 00:1a.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #5 00:1a.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #6 00:1a.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #2 ### Group 9 ### 00:1b.0 Audio device: Intel Corporation 82801JI (ICH10 Family) HD Audio Controller ### Group 10 ### 00:1c.0 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 1 00:1c.1 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Port 2 00:1c.4 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 5 04:00.0 SATA controller: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 04:00.1 IDE interface: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 05:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 03) ### Group 11 ### 00:1d.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #1 00:1d.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #2 00:1d.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #3 00:1d.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #1 ### Group 12 ### 00:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 90) ### Group 13 ### 00:1f.0 ISA bridge: Intel Corporation 82801JIR (ICH10R) LPC Interface Controller 00:1f.2 SATA controller: Intel Corporation 82801JI (ICH10 Family) SATA AHCI Controller 00:1f.3 SMBus: Intel Corporation 82801JI (ICH10 Family) SMBus Controller ### Group 14 ### 01:00.0 VGA compatible controller: NVIDIA Corporation NV44 [GeForce 7100 GS] (rev a1) ### Group 15 ### 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 16 ### 3f:00.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture Generic Non-Core Registers (rev 05) 3f:00.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture System Address Decoder (rev 05) ### Group 17 ### 3f:02.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Link 0 (rev 05) 3f:02.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Physical 0 (rev 05) ### Group 18 ### 3f:03.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller (rev 05) 3f:03.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Target Address Decoder (rev 05) 3f:03.4 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Test Registers (rev 05) ### Group 19 ### 3f:04.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Control Registers (rev 05) 3f:04.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Address Registers (rev 05) 3f:04.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Rank Registers (rev 05) 3f:04.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Thermal Control Registers (rev 05) ### Group 20 ### 3f:05.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Control Registers (rev 05) 3f:05.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Address Registers (rev 05) 3f:05.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Rank Registers (rev 05) 3f:05.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Thermal Control Registers (rev 05) ### Group 21 ### 3f:06.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Control Registers (rev 05) 3f:06.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Address Registers (rev 05) 3f:06.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Rank Registers (rev 05) 3f:06.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Thermal Control Registers (rev 05)</code></pre></div><p>With new ACS patch :</p><div class="codebox"><pre class="vscroll"><code>### Group 0 ### 00:00.0 Host bridge: Intel Corporation 5520/5500/X58 I/O Hub to ESI Port (rev 12) ### Group 1 ### 00:03.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 3 (rev 12) ### Group 2 ### 00:07.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 7 (rev 12) ### Group 3 ### 00:10.0 PIC: Intel Corporation 7500/5520/5500/X58 Physical and Link Layer Registers Port 0 (rev 12) 00:10.1 PIC: Intel Corporation 7500/5520/5500/X58 Routing and Protocol Layer Registers Port 0 (rev 12) ### Group 4 ### 00:11.0 PIC: Intel Corporation 7500/5520/5500 Physical and Link Layer Registers Port 1 (rev 12) 00:11.1 PIC: Intel Corporation 7500/5520/5500 Routing &amp; Protocol Layer Register Port 1 (rev 12) ### Group 5 ### 00:13.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub I/OxAPIC Interrupt Controller (rev 12) ### Group 6 ### 00:14.0 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub System Management Registers (rev 12) 00:14.1 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub GPIO and Scratch Pad Registers (rev 12) 00:14.2 PIC: Intel Corporation 7500/5520/5500/X58 I/O Hub Control Status and RAS Registers (rev 12) ### Group 7 ### 00:15.0 PIC: Intel Corporation 7500/5520/5500/X58 Trusted Execution Technology Registers (rev 12) ### Group 8 ### 00:1a.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #4 00:1a.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #5 00:1a.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #6 00:1a.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #2 ### Group 9 ### 00:1b.0 Audio device: Intel Corporation 82801JI (ICH10 Family) HD Audio Controller ### Group 10 ### 00:1c.0 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 1 00:1c.1 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Port 2 00:1c.4 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 5 04:00.0 SATA controller: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 04:00.1 IDE interface: JMicron Technology Corp. JMB363 SATA/IDE Controller (rev 02) 05:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 03) ### Group 11 ### 00:1d.0 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #1 00:1d.1 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #2 00:1d.2 USB controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #3 00:1d.7 USB controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #1 ### Group 12 ### 00:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 90) ### Group 13 ### 00:1f.0 ISA bridge: Intel Corporation 82801JIR (ICH10R) LPC Interface Controller 00:1f.2 SATA controller: Intel Corporation 82801JI (ICH10 Family) SATA AHCI Controller 00:1f.3 SMBus: Intel Corporation 82801JI (ICH10 Family) SMBus Controller ### Group 14 ### 01:00.0 VGA compatible controller: NVIDIA Corporation NV44 [GeForce 7100 GS] (rev a1) ### Group 15 ### 02:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Redwood PRO [Radeon HD 5550/5570/5630/6510/6610/7570] 02:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Redwood HDMI Audio [Radeon HD 5000 Series] ### Group 16 ### 3f:00.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture Generic Non-Core Registers (rev 05) 3f:00.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QuickPath Architecture System Address Decoder (rev 05) ### Group 17 ### 3f:02.0 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Link 0 (rev 05) 3f:02.1 Host bridge: Intel Corporation Xeon 5500/Core i7 QPI Physical 0 (rev 05) ### Group 18 ### 3f:03.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller (rev 05) 3f:03.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Target Address Decoder (rev 05) 3f:03.4 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Test Registers (rev 05) ### Group 19 ### 3f:04.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Control Registers (rev 05) 3f:04.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Address Registers (rev 05) 3f:04.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Rank Registers (rev 05) 3f:04.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 0 Thermal Control Registers (rev 05) ### Group 20 ### 3f:05.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Control Registers (rev 05) 3f:05.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Address Registers (rev 05) 3f:05.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Rank Registers (rev 05) 3f:05.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 1 Thermal Control Registers (rev 05) ### Group 21 ### 3f:06.0 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Control Registers (rev 05) 3f:06.1 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Address Registers (rev 05) 3f:06.2 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Rank Registers (rev 05) 3f:06.3 Host bridge: Intel Corporation Xeon 5500/Core i7 Integrated Memory Controller Channel 2 Thermal Control Registers (rev 05)</code></pre></div><br /><p>If you need more information ask me ^^.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1382708">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=46">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=45">45</a> <a href="viewtopic.php?id=162768&amp;p=46">46</a> <strong>47</strong> <a href="viewtopic.php?id=162768&amp;p=48">48</a> <a href="viewtopic.php?id=162768&amp;p=49">49</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=48">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
