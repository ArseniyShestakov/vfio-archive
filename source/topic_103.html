<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 103) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=103" title="Page 103" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=102" title="Page 102" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=104" title="Page 104" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=102">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=101">101</a> <a href="viewtopic.php?id=162768&amp;p=102">102</a> <strong>103</strong> <a href="viewtopic.php?id=162768&amp;p=104">104</a> <a href="viewtopic.php?id=162768&amp;p=105">105</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=104">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1449472" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#2551</span> <a href="viewtopic.php?pid=1449472#p1449472">2014-08-22 18:47:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84545">groggster</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-22</span></dd> <dd><span>Posts: 1</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi!</p><p>I need some help with getting this running properly. I am currently able to start up the VM with the graphics card passed along, everyting runs fine. I do however have problems getting virt-manager to boot this machine. How do i achieve that? I have tried manually configuring the .xml config files, but to no avail. This is my configuration file:</p><div class="codebox"><pre><code>export QEMU_AUDIO_DRV=alsa QEMU_AUDIO_TIMER_PERIOD=0 qemu-system-x86_64 \ -enable-kvm -M q35 -m 2048 -cpu host -smp 4 \ -bios /usr/share/qemu/bios.bin -vga none -display none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=07:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on,romfile=/mnt/vm/htpc/MSI.HD6450.1024.110407.rom \ -device vfio-pci,host=07:00.1,bus=root.1,addr=00.1 \ -usb -usbdevice host:046d:c52b \ -drive file=/mnt/vm/htpc/htpc,id=disk,format=raw,index=0 -device ide-hd,bus=ide.0,drive=disk \ ;</code></pre></div><p>By executing this script file the VM starts and runs as intended. How to I get it to work in virt-manager?<br />I am able to boot the VM through virt-manager, and it registers the graphics card (&quot;lspci&quot; finds it), but no video is forwarded to it, all I get is video on the virt-manager console. Whats next?</p><p>This vm is running ubuntu for use as a htpc if that matters...</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1449472">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1449615" class="blockpost roweven"> <h2><span><span class="conr">#2552</span> <a href="viewtopic.php?pid=1449615#p1449615">2014-08-23 02:20:18</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79825">redger</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-02-26</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79825">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@ groggster<br />see this post&#160; <a href="https://bbs.archlinux.org/viewtopic.php?pid=1438076#p1438076" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 6#p1438076</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1449615">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1449662" class="blockpost rowodd"> <h2><span><span class="conr">#2553</span> <a href="viewtopic.php?pid=1449662#p1449662">2014-08-23 08:47:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84538">mauorrizze</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-22</span></dd> <dd><span>Posts: 17</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84538">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p><span style="color: #FF0000">edit: the following problem exists in current qemu git version (August 22th/23th), version from August 18th does work. Possibly related to q35*</span><br />*) <a href="https://www.mail-archive.com/qemu-devel@nongnu.org/msg251880.html" rel="nofollow">https://www.mail-archive.com/qemu-devel … 51880.html</a></p><p>Hi, my first try on getting gpu passthrough to work ended with an segfaulting qemu, using the testing snippet from the first post. I tried to debug a little, but using valgrind the gpu does come to live (can see GPU Post-Screen and seabios looking for disks in slow-motion, but hey)!<br />So first I thought my hardware has some bugs or faulty firmware or something, but I hope it might be a software problem. Does anyone else has problems with the latest qemu git?</p><p>My hardware: Intel E3-1245 (V1), MSI Z77A-GD65 / ASRock H77 Pro4-m (the MSI has been successfully used in a home server, passing through a SAS controller), NVidia GTX 750 Ti<br />Software: arch linux with patched mainline 3.16 kernel from first post, qemu-git from AUR (and built and installed in home for debugging purpose)</p><div class="codebox"><pre><code>% uname -a Linux mustrum 3.16.0-1-mainline #1 SMP PREEMPT Fri Aug 22 01:35:09 CEST 2014 x86_64 GNU/Linux</code></pre></div><p>kernel log</p><div class="codebox"><pre class="vscroll"><code>% dmesg | grep -i -e dmar -e iommu -e vfio -e arb -e vga -e drm [ 0.000000] Command line: \vmlinuz-linux-mainline root=PARTUUID=3520fde9-ca4e-4b5c-b48d-077964e89ef5 rootfstype=f2fs ro pci-stub.ids=10de:1380,10de:0fbc i915.enable_hd_vgaarb=1 intel_iommu=on initrd=initramfs-linux-mainline.img [ 0.000000] ACPI: DMAR 0x00000000C9435038 0000B8 (v01 INTEL SNB 00000001 INTL 00000001) [ 0.000000] Kernel command line: \vmlinuz-linux-mainline root=PARTUUID=3520fde9-ca4e-4b5c-b48d-077964e89ef5 rootfstype=f2fs ro pci-stub.ids=10de:1380,10de:0fbc i915.enable_hd_vgaarb=1 intel_iommu=on initrd=initramfs-linux-mainline.img [ 0.000000] Intel-IOMMU: enabled [ 0.031799] dmar: Host address width 36 [ 0.031801] dmar: DRHD base: 0x000000fed90000 flags: 0x0 [ 0.031809] dmar: IOMMU 0: reg_base_addr fed90000 ver 1:0 cap c0000020e60262 ecap f0101a [ 0.031810] dmar: DRHD base: 0x000000fed91000 flags: 0x1 [ 0.031814] dmar: IOMMU 1: reg_base_addr fed91000 ver 1:0 cap c9008020660262 ecap f0105a [ 0.031815] dmar: RMRR base: 0x000000ca48e000 end: 0x000000ca49cfff [ 0.031816] dmar: RMRR base: 0x000000cb800000 end: 0x000000cf9fffff [ 0.031885] IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 1 [ 0.299425] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none [ 0.299428] vgaarb: device added: PCI:0000:01:00.0,decodes=io+mem,owns=none,locks=none [ 0.299430] vgaarb: loaded [ 0.299430] vgaarb: bridge control possible 0000:01:00.0 [ 0.299431] vgaarb: no bridge control possible 0000:00:02.0 [ 0.346403] DMAR: No ATSR found [ 0.346422] IOMMU 0 0xfed90000: using Queued invalidation [ 0.346423] IOMMU 1 0xfed91000: using Queued invalidation [ 0.346424] IOMMU: Setting RMRR: [ 0.346433] IOMMU: Setting identity map for device 0000:00:02.0 [0xcb800000 - 0xcf9fffff] [ 0.346726] IOMMU: Setting identity map for device 0000:00:14.0 [0xca48e000 - 0xca49cfff] [ 0.346741] IOMMU: Setting identity map for device 0000:00:1a.0 [0xca48e000 - 0xca49cfff] [ 0.346753] IOMMU: Setting identity map for device 0000:00:1d.0 [0xca48e000 - 0xca49cfff] [ 0.346761] IOMMU: Prepare 0-16MiB unity mapping for LPC [ 0.346767] IOMMU: Setting identity map for device 0000:00:1f.0 [0x0 - 0xffffff] [ 0.353553] fb0: EFI VGA frame buffer device [ 1.047639] systemd[1]: Starting Arbitrary Executable File Formats File System Automount Point. [ 1.047806] systemd[1]: Set up automount Arbitrary Executable File Formats File System Automount Point. [ 1.222325] [drm] Initialized drm 1.1.0 20060810 [ 1.244809] [drm] Memory usable by graphics device = 2048M [ 1.244811] [drm] VT-d active for gfx access [ 1.244813] [drm] Disabling PPGTT because VT-d is on [ 1.244814] [drm] Replacing VGA console driver [ 1.244818] fb: switching to inteldrmfb from EFI VGA [ 1.262227] [drm] Supports vblank timestamp caching Rev 2 (21.10.2013). [ 1.262228] [drm] Driver supports precise vblank timestamp query. [ 1.262270] [drm] DMAR active, disabling use of stolen memory [ 1.265141] [drm] Wrong MCH_SSKPD value: 0x16040307 [ 1.265143] [drm] This can cause pipe underruns and display issues. [ 1.265143] [drm] Please upgrade your BIOS to fix this. [ 1.329323] fbcon: inteldrmfb (fb0) is primary device [ 1.370543] i915 0000:00:02.0: fb0: inteldrmfb frame buffer device [ 1.392060] vgaarb: device changed decodes: PCI:0000:00:02.0,olddecodes=io+mem,decodes=io:owns=io+mem [ 1.414195] [drm] Initialized i915 1.6.0 20080730 for 0000:00:02.0 on minor 0 [ 2.344673] [drm] Enabling RC6 states: RC6 on, RC6p off, RC6pp off [ 15.312138] [drm] stuck on render ring [ 15.312526] [drm] GPU HANG: ecode 0:0x85fffffd, in systemd-logind [309], reason: Ring hung, action: reset [ 15.312528] [drm] GPU hangs can indicate a bug anywhere in the entire gfx stack, including userspace. [ 15.312530] [drm] Please file a _new_ bug report on bugs.freedesktop.org against DRI -&gt; DRM/Intel [ 15.312531] [drm] drm/i915 developers can then reassign to the right component if it&#039;s not a kernel issue. [ 15.312532] [drm] The gpu crash dump is required to analyze gpu hangs, so please always attach it. [ 15.312533] [drm] GPU crash dump saved to /sys/class/drm/card0/error [ 17.310369] [drm] Enabling RC6 states: RC6 on, RC6p off, RC6pp off [ 36.970235] VFIO - User Level meta-driver version: 0.3 [ 64.491380] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 64.491522] vfio_ecap_init: 0000:01:00.0 hiding ecap 0x1e@0x258 [ 64.491534] vfio_ecap_init: 0000:01:00.0 hiding ecap 0x19@0x900 [ 64.494601] vfio-pci 0000:01:00.1: enabling device (0000 -&gt; 0002)</code></pre></div><p>gdb core dump inspection</p><div class="codebox"><pre class="vscroll"><code>Program terminated with signal SIGSEGV, Segmentation fault. #0 0x00007ffff6903fe0 in g_str_hash () from /usr/lib/libglib-2.0.so.0 (gdb) backtrace #0 0x00007ffff6903fe0 in g_str_hash () from /usr/lib/libglib-2.0.so.0 #1 0x00007ffff6903569 in g_hash_table_lookup () from /usr/lib/libglib-2.0.so.0 #2 0x00000000006b4e94 in type_table_lookup (name=0x8 &lt;error: Cannot access memory at address 0x8&gt;) at qom/object.c:92 #3 0x00000000006b5112 in type_get_by_name (name=0x8 &lt;error: Cannot access memory at address 0x8&gt;) at qom/object.c:158 #4 0x00000000006b514a in type_get_parent (type=0x1344ff0) at qom/object.c:164 #5 0x00000000006b5292 in type_is_ancestor (type=0x1344ff0, target_type=0x10f30c0) at qom/object.c:212 #6 0x00000000006b5ec8 in object_class_dynamic_cast (class=0x7ffff22fd128 &lt;main_arena+1192&gt;, typename=0x7c88c3 &quot;cpu&quot;) at qom/object.c:530 #7 0x00000000006b5c1b in object_dynamic_cast (obj=0x11ec140, typename=0x7c88c3 &quot;cpu&quot;) at qom/object.c:443 #8 0x00000000004b1890 in acpi_add_cpu_info (o=0x11ec140, opaque=0x7fffebcbf950) at /home/marcel/src/qemu/hw/i386/acpi-build.c:133 #9 0x00000000006b6280 in object_child_foreach (obj=0x11ed260, fn=0x4b1867 &lt;acpi_add_cpu_info&gt;, opaque=0x7fffebcbf950) at qom/object.c:676 #10 0x00000000004b18fa in acpi_add_cpu_info (o=0x11ed260, opaque=0x7fffebcbf950) at /home/marcel/src/qemu/hw/i386/acpi-build.c:140 #11 0x00000000006b6280 in object_child_foreach (obj=0x112ed60, fn=0x4b1867 &lt;acpi_add_cpu_info&gt;, opaque=0x7fffebcbf950) at qom/object.c:676 #12 0x00000000004b18fa in acpi_add_cpu_info (o=0x112ed60, opaque=0x7fffebcbf950) at /home/marcel/src/qemu/hw/i386/acpi-build.c:140 #13 0x00000000006b6280 in object_child_foreach (obj=0x1117270, fn=0x4b1867 &lt;acpi_add_cpu_info&gt;, opaque=0x7fffebcbf950) at qom/object.c:676 #14 0x00000000004b18fa in acpi_add_cpu_info (o=0x1117270, opaque=0x7fffebcbf950) at /home/marcel/src/qemu/hw/i386/acpi-build.c:140 #15 0x00000000006b6280 in object_child_foreach (obj=0x1117f70, fn=0x4b1867 &lt;acpi_add_cpu_info&gt;, opaque=0x7fffebcbf950) at qom/object.c:676 #16 0x00000000004b1941 in acpi_get_cpu_info (cpu=0x7fffebcbf950) at /home/marcel/src/qemu/hw/i386/acpi-build.c:149 #17 0x00000000004b5054 in acpi_build (guest_info=0x1122470, tables=0x7fffebcbf9f0) at /home/marcel/src/qemu/hw/i386/acpi-build.c:1486 #18 0x00000000004b55e8 in acpi_build_update (build_opaque=0x13021b0, offset=0) at /home/marcel/src/qemu/hw/i386/acpi-build.c:1623 #19 0x000000000062f2f2 in fw_cfg_read (s=0x117c720) at hw/nvram/fw_cfg.c:255 #20 0x000000000062f404 in fw_cfg_comb_read (opaque=0x117c720, addr=1, size=1) at hw/nvram/fw_cfg.c:291 #21 0x000000000045e793 in memory_region_read_accessor (mr=0x117ec10, addr=1, value=0x7fffebcbfb50, size=1, shift=0, mask=255) at /home/marcel/src/qemu/memory.c:410 #22 0x000000000045e9ef in access_with_adjusted_size (addr=1, value=0x7fffebcbfb50, size=1, access_size_min=1, access_size_max=4, access=0x45e741 &lt;memory_region_read_accessor&gt;, mr=0x117ec10) at /home/marcel/src/qemu/memory.c:480 #23 0x0000000000460fc2 in memory_region_dispatch_read1 (mr=0x117ec10, addr=1, size=1) at /home/marcel/src/qemu/memory.c:1097 #24 0x0000000000461084 in memory_region_dispatch_read (mr=0x117ec10, addr=1, pval=0x7fffebcbfc08, size=1) at /home/marcel/src/qemu/memory.c:1119 #25 0x0000000000463c2c in io_mem_read (mr=0x117ec10, addr=1, pval=0x7fffebcbfc08, size=1) at /home/marcel/src/qemu/memory.c:1963 #26 0x0000000000419fcc in address_space_rw (as=0xc2e180 &lt;address_space_io&gt;, addr=1297, buf=0x7ffff7ea4000 &lt;error: Cannot access memory at address 0x7ffff7ea4000&gt;, len=1, is_write=false) at /home/marcel/src/qemu/exec.c:2086 #27 0x000000000045bfb0 in kvm_handle_io (port=1297, data=0x7ffff7ea4000, direction=0, size=1, count=1024) at /home/marcel/src/qemu/kvm-all.c:1597 #28 0x000000000045c3ee in kvm_cpu_exec (cpu=0x11323e0) at /home/marcel/src/qemu/kvm-all.c:1734 #29 0x0000000000445947 in qemu_kvm_cpu_thread_fn (arg=0x11323e0) at /home/marcel/src/qemu/cpus.c:939 #30 0x00007ffff3da5124 in start_thread () from /usr/lib/libpthread.so.0 #31 0x00007ffff203d4bd in clone () from /usr/lib/libc.so.6 (gdb) list 2914 2915 QDECREF(pdict); 2916 g_free(id); 2917 g_free(type); 2918 g_free(dummy); 2919 if (err) { 2920 qerror_report_err(err); 2921 error_free(err); 2922 return -1; 2923 }</code></pre></div><p><a href="http://txt.do/k882" rel="nofollow">Valgrind output: http://txt.do/k882</a><br />(Stopped right after the gpu comes to live. Lots of unimportant &quot;Conditional jump or move depends on uninitialised value(s)&quot;, scroll almost to the end for &quot;Invalid read of size 8&quot;)</p> <p class="postedit"><em>Last edited by mauorrizze (2014-08-24 02:04:46)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1449662">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1449665" class="blockpost roweven"> <h2><span><span class="conr">#2554</span> <a href="viewtopic.php?pid=1449665#p1449665">2014-08-23 09:04:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84422">somearchfan</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-18</span></dd> <dd><span>Posts: 33</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84422">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Linux-mainline 3.16.1 + patches. Additional changes: tickrate set to 1000 Hz and preemption model has been set to voluntary.</p><p><a href="http://netload.in/dateixLakD3kkGz/linux-mainline1.tar.gz.htm" rel="nofollow">http://netload.in/dateixLakD3kkGz/linux … tar.gz.htm</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1449665">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450131" class="blockpost rowodd"> <h2><span><span class="conr">#2555</span> <a href="viewtopic.php?pid=1450131#p1450131">2014-08-24 18:12:32</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p><a href="http://edencomputing.com/index.php/2014/04/qemukvm-with-gpu-passthrough-kernel-recompile-the-debian-way/" rel="nofollow">http://edencomputing.com/index.php/2014 … ebian-way/</a></p><div class="codebox"><pre class="vscroll"><code> Virtualization (CONFIG_VIRTUALIZATION=y) Virtualization &gt; Kernel-based Virtual Machine (KVM) Support (CONFIG_KVM=y) Virtualization &gt; KVM for &lt;whichever processor you have&gt; (CONFIG_KVM_INTEL=y and/or CONFIG_KVM_AMD=y) Bus Options (PCI etc) &gt; PCI Stub Driver (CONFIG_PCI_STUB=y) Device Drivers &gt; VFIO Non-Privileged userspace driver framework (CONFIG_VFIO=y) Device Drivers &gt; VFIO Non-Privileged userspace driver framework &gt; VFIO support for PCI Devices (CONFIG_VFIO_PCI=y) Device Drivers &gt; VFIO Non-Privileged userspace driver framework &gt; VFIO support for VGA Devices (CONFIG_VFIO_PCI_VGA=y) The rest of these are optional (but recommended) performance enhancements you may compile as modules [M]: Virtualization &gt; Host kernel accelerator for virtio net (CONFIG_VHOST_NET=m) Device Drivers &gt; Virtio drivers &gt; PCI driver for virtio devices (CONFIG_VIRTIO_PCI=m) Device Drivers &gt; Virtio drivers &gt; Virtio balloon driver (CONFIG_VIRTIO_BALLOON=m) And finally these options will enhance performance and responsiveness of your virtual machines: Processor Type and Features &gt; Preemption Model &gt; Preemptible Kernel (Low Latency Desktop) (CONFIG_PREEMPT=y) Processor Type and Features &gt; Timer Frequency &gt; 1000 Hz (CONFIG_HZ_1000=y)</code></pre></div><p>just apply the batch, then change the above.<br />you have your&#160; kernel.<br />I&#039;m not relly sure about downloading files from unknown sources.. ( the prv post).</p><p>My setup is now working with 2 GPUs, I got Vm1 and Vm2, each one has 6114 Gb of ram, 2 HDDs, the first one using Nvidia GTX 760, the second one uses the AMD sapphire toxic 4780 HD, everything looks great, but if you killed an VM through the host, you will destroy it, and it wont boot anymore, thats make me afride of power loss.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450131">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450235" class="blockpost roweven"> <h2><span><span class="conr">#2556</span> <a href="viewtopic.php?pid=1450235#p1450235">2014-08-24 22:52:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84422">somearchfan</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-18</span></dd> <dd><span>Posts: 33</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84422">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Oh right forgot to tell ya&#039;ll about dat secret NSA backdoor.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450235">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450241" class="blockpost rowodd"> <h2><span><span class="conr">#2557</span> <a href="viewtopic.php?pid=1450241#p1450241">2014-08-24 23:14:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84606">bruce1337</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-24</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84606">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello there,</p><p>thanks to this pertinent resource (and some qualified outside assistance), the inappropriately monikered linux newb that is me has succeeded in passing through dedicated graphics to a VM. So far, I have relied on reading only -- but at 100+ pages, this thread has become so unwieldy that I decided de-lurk (...making it even more unwieldy <img src="https://bbs.archlinux.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" />). Nice signup captcha by the way! Hope you will forgive any violations of tech etiquette I&#039;m bound to make and let me know if I did, so that I may avoid them in the future.</p><p>For the record, I&#039;m running</p><p>Xeon E3-1246v3 <br />ASRock H97 Pro4, supporting both Vt-d and IOMMU (as far as I can tell...)</p><p>My issue is with virt-manager (both 0.9.5 &amp; 1.01), and seems to be identical to <a href="https://bbs.archlinux.org/viewtopic.php?pid=1343553#p1343553" rel="nofollow">Chetyre&#039;s discussed on p.26</a>: qemu, when invoked by virt-manager, fails to access /dev/vfio/x while (seemingly?) succeeding when run from the command line. I followed all subsequent directions I could find, i.e.</p><p>/etc/libvirt/qemu.conf</p><div class="quotebox"><blockquote><div><p>user = &quot;+0&quot;<br />group = &quot;+0&quot;</p><p>group_device_acl = [&#160; &#160; <br />+&#160; &#160; &quot;/dev/vfio/1&quot;, &quot;/dev/vfio/13&quot;<br />]</p><p>clear_emulator_capabilities = 0</p><p>relaxed_acs_check = 1</p></div></blockquote></div><p>(/dev/vfio/13 contains 2 entries: video and audio from the GTX [edit: or rather the respective iommu_group does...])</p><p>Unfortunately, I could locate neither additional info nor a confirmation of the problem&#039;s solution further down the thread. Strangely, the problem persists when running virt-manager itself as root. To be clear: running the barebone qemu config (ioh3420 + GTX) from the command line results in Seabios output up to &quot;no bootable device&quot; from the GTX, so I&#039;m assuming the principal setup to be correct -- it&#039;s just that for now, I would prefer to rely on the convenience of virt-manager offering a working setup for interfacing to the VM by spice and mouse/keyboard emulation instead of applying everything manually through qemu-argv. The last couple of days have been filled with a lot of studying, I think it&#039;s about time for some playing...</p><p>[edit: After some wrestling with qemu (or rather my ignorance of it), my odyssey has come to a a (certainly temporary) conclusion -- things are finally working! Has anyone ever figured out what exactly determines whether qemu will grab either mouse, keyboard, both, or sometimes nothing? Is it all a function of &quot;-device qxl&quot; (hard to believe...)?&#160; Also, does anyone know if I can copy my concurrent .img directly to a dedicated logical volume or will the &quot;physical partition&quot; rules apply and demand loopback MBR? Thanks!]</p><p>[edit #2: Well, this is somewhat embarassing, but as I now know, all the troubles I&#039;ve been having with qemu&#039;s command line invocation were clearly due to PEBKAC. Pro-tip: Do NOT insert comments into the multiline command of your shell script like ol&#039; silly bruce did. Also, dd&#039;ing an image to a dedicated LV works without a hitch, no additional steps required.]</p> <p class="postedit"><em>Last edited by bruce1337 (2014-08-26 13:09:50)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450241">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450243" class="blockpost roweven"> <h2><span><span class="conr">#2558</span> <a href="viewtopic.php?pid=1450243#p1450243">2014-08-24 23:19:53</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84422">somearchfan</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-18</span></dd> <dd><span>Posts: 33</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84422">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>bruce1337 wrote:</cite><blockquote><div><p>For the record, I&#039;m running</p><p>Xeon E3-1246v3 <br />ASRock H97 Pro4, supporting both Vt-d and IOMMU (as far as I can tell...)</p></div></blockquote></div><p>Just a quick fyi: the H97 Pro4 does support VT-D (you can disable / enable it in the bios settings) and IOMMU, so no worries there. I&#039;m using a fairly similar board, the H97M Pro 4. The only difference is the form factor afaik.</p><p>Cheers</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450243">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450256" class="blockpost rowodd"> <h2><span><span class="conr">#2559</span> <a href="viewtopic.php?pid=1450256#p1450256">2014-08-25 00:30:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84606">bruce1337</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-24</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84606">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>It&#039;s not the size that matters, it&#039;s how you wield it...still, mine *is* bigger! Then again, those 2 additional PCI slots will hardly see any action, ever...</p><p>Actually, it was ASRock&#039;s reputed feature support beyond Intel&#039;s chipset standards that made me buy it, so I wasn&#039;t worried too much. Still, good to have direct confirmation! (And should you ever be bored, do take the guided tour of the UEFI, it&#039;s pretty goofy, to say the least...)</p> <p class="postedit"><em>Last edited by bruce1337 (2014-08-25 00:37:32)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450256">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450286" class="blockpost roweven"> <h2><span><span class="conr">#2560</span> <a href="viewtopic.php?pid=1450286#p1450286">2014-08-25 05:09:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78377">sitonapanotis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-08</span></dd> <dd><span>Posts: 15</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Ive been trying to get my kvm +qemu vm up and running on an arch host, eventually running windows 8.1 as a guest.</p><p>my setup is a vt-d and IOMMU compatible mobo and intel processor with a r9 270 for the host and a GTX 770 for the guest.<br />I am using the 3.16.1 kernel package from the ABS to which I applied the acs override patch. (I didnt change any of the options/flags, maybe I need to do that?)</p><p>running with these options</p><div class="codebox"><pre><code>root=/dev/mapper/VolGroup00-lvroot rw initrd=/initramfs-linux-custom-acs.img intel_iommu=on</code></pre></div><p>Right now im getting the devices to bind to vfio just fine but when I try to run my test script I run into errors.</p><p>here is the script im using to test.</p><div class="codebox"><pre><code> qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=02:00.1,bus=root.1,addr=00.1</code></pre></div><p>and here is the output I get from running it from root</p><div class="codebox"><pre><code>qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: failed to get group 1 qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>any ideas as to where I am going wrong?</p> <p class="postedit"><em>Last edited by sitonapanotis (2014-08-25 05:18:59)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450286">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450302" class="blockpost rowodd"> <h2><span><span class="conr">#2561</span> <a href="viewtopic.php?pid=1450302#p1450302">2014-08-25 08:22:20</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><p>Ive been trying to get my kvm +qemu vm up and running on an arch host, eventually running windows 8.1 as a guest.</p><p>my setup is a vt-d and IOMMU compatible mobo and intel processor with a r9 270 for the host and a GTX 770 for the guest.<br />I am using the 3.16.1 kernel package from the ABS to which I applied the acs override patch. (I didnt change any of the options/flags, maybe I need to do that?)</p><p>running with these options</p><div class="codebox"><pre><code>root=/dev/mapper/VolGroup00-lvroot rw initrd=/initramfs-linux-custom-acs.img intel_iommu=on</code></pre></div><p>Right now im getting the devices to bind to vfio just fine but when I try to run my test script I run into errors.</p><p>here is the script im using to test.</p><div class="codebox"><pre><code> qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=02:00.1,bus=root.1,addr=00.1</code></pre></div><p>and here is the output I get from running it from root</p><div class="codebox"><pre><code>qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: failed to get group 1 qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>any ideas as to where I am going wrong?</p></div></blockquote></div><p>Look at the QEMU configuration QEMU.conf, as three posts above. Set QEMU processes to run as root, do </p><div class="codebox"><pre><code>ls /dev/vfio</code></pre></div><p> and add what you find there to the group_device_acl in qemu.conf, as above (or look through this thread for other examples). Lastly, invoke qemu-system-x86_64 as root.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450302">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450375" class="blockpost roweven"> <h2><span><span class="conr">#2562</span> <a href="viewtopic.php?pid=1450375#p1450375">2014-08-25 12:48:43</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><p>I applied the acs override patch. (I didnt change any of the options/flags, maybe I need to do that?)</p><div class="codebox"><pre><code>qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver.</code></pre></div><p>any ideas as to where I am going wrong?</p></div></blockquote></div><p>The error message is indicating exactly what&#039;s wrong.&#160; There are more devices in the IOMMU group than you&#039;re passing through to the guest.&#160; An IOMMU group cannot be split between host and guest, therefore all the device in the group must be bound to vfio-pci (or pci-stub) for the group to be viable.&#160; There are scripts around like lsgroup for easily viewing the IOMMU group devices, or just look in /sys/kernel/iommu_group/&#160; Applying the ACS override patch without activating it on the commandline does nothing.</p><p>BTW, the signal to noise ratio of this thread has dropped to pretty unbearable levels.&#160; I&#039;ve started the below blog as an attempt to help.&#160; I&#039;ve got a couple things in mind to post about, but I welcome suggestions.&#160; I&#039;m working on another detailed post describing ACS and IOMMU groups, then maybe I&#039;ll get back to some hands-on examples.&#160; Bear with me as I build some content.&#160; If anyone wants to contribute a post, please contact me.</p><p><a href="http://vfio.blogspot.com/" rel="nofollow">http://vfio.blogspot.com/</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450375">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450508" class="blockpost rowodd"> <h2><span><span class="conr">#2563</span> <a href="viewtopic.php?pid=1450508#p1450508">2014-08-25 20:48:48</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78377">sitonapanotis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-08</span></dd> <dd><span>Posts: 15</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><p>I applied the acs override patch. (I didnt change any of the options/flags, maybe I need to do that?)</p><div class="codebox"><pre><code>qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver.</code></pre></div><p>any ideas as to where I am going wrong?</p></div></blockquote></div><p>The error message is indicating exactly what&#039;s wrong.&#160; There are more devices in the IOMMU group than you&#039;re passing through to the guest.&#160; An IOMMU group cannot be split between host and guest, therefore all the device in the group must be bound to vfio-pci (or pci-stub) for the group to be viable.&#160; There are scripts around like lsgroup for easily viewing the IOMMU group devices, or just look in /sys/kernel/iommu_group/&#160; Applying the ACS override patch without activating it on the commandline does nothing.</p><p>BTW, the signal to noise ratio of this thread has dropped to pretty unbearable levels.&#160; I&#039;ve started the below blog as an attempt to help.&#160; I&#039;ve got a couple things in mind to post about, but I welcome suggestions.&#160; I&#039;m working on another detailed post describing ACS and IOMMU groups, then maybe I&#039;ll get back to some hands-on examples.&#160; Bear with me as I build some content.&#160; If anyone wants to contribute a post, please contact me.</p><p><a href="http://vfio.blogspot.com/" rel="nofollow">http://vfio.blogspot.com/</a></p></div></blockquote></div><p>It apppears that my processor&#160; radeon card/radeon sound device and nvidia card/sound device are all in the same group which is what is causing problems.</p><p>How do I go about enableing the acs override?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450508">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450511" class="blockpost roweven"> <h2><span><span class="conr">#2564</span> <a href="viewtopic.php?pid=1450511#p1450511">2014-08-25 20:53:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><p>I applied the acs override patch. (I didnt change any of the options/flags, maybe I need to do that?)</p><div class="codebox"><pre><code>qemu-system-x86_64: -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error, group 1 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver.</code></pre></div><p>any ideas as to where I am going wrong?</p></div></blockquote></div><p>The error message is indicating exactly what&#039;s wrong.&#160; There are more devices in the IOMMU group than you&#039;re passing through to the guest.&#160; An IOMMU group cannot be split between host and guest, therefore all the device in the group must be bound to vfio-pci (or pci-stub) for the group to be viable.&#160; There are scripts around like lsgroup for easily viewing the IOMMU group devices, or just look in /sys/kernel/iommu_group/&#160; Applying the ACS override patch without activating it on the commandline does nothing.</p><p>BTW, the signal to noise ratio of this thread has dropped to pretty unbearable levels.&#160; I&#039;ve started the below blog as an attempt to help.&#160; I&#039;ve got a couple things in mind to post about, but I welcome suggestions.&#160; I&#039;m working on another detailed post describing ACS and IOMMU groups, then maybe I&#039;ll get back to some hands-on examples.&#160; Bear with me as I build some content.&#160; If anyone wants to contribute a post, please contact me.</p><p><a href="http://vfio.blogspot.com/" rel="nofollow">http://vfio.blogspot.com/</a></p></div></blockquote></div><p>It apppears that my processor&#160; radeon card/radeon sound device and nvidia card/sound device are all in the same group which is what is causing problems.</p><p>How do I go about enableing the acs override?</p></div></blockquote></div><p>Really?&#160; You&#039;re not even willing to google &quot;acs override&quot;?</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450511">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450515" class="blockpost rowodd"> <h2><span><span class="conr">#2565</span> <a href="viewtopic.php?pid=1450515#p1450515">2014-08-25 20:58:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78377">sitonapanotis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-08</span></dd> <dd><span>Posts: 15</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>sitonapanotis wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>The error message is indicating exactly what&#039;s wrong.&#160; There are more devices in the IOMMU group than you&#039;re passing through to the guest.&#160; An IOMMU group cannot be split between host and guest, therefore all the device in the group must be bound to vfio-pci (or pci-stub) for the group to be viable.&#160; There are scripts around like lsgroup for easily viewing the IOMMU group devices, or just look in /sys/kernel/iommu_group/&#160; Applying the ACS override patch without activating it on the commandline does nothing.</p><p>BTW, the signal to noise ratio of this thread has dropped to pretty unbearable levels.&#160; I&#039;ve started the below blog as an attempt to help.&#160; I&#039;ve got a couple things in mind to post about, but I welcome suggestions.&#160; I&#039;m working on another detailed post describing ACS and IOMMU groups, then maybe I&#039;ll get back to some hands-on examples.&#160; Bear with me as I build some content.&#160; If anyone wants to contribute a post, please contact me.</p><p><a href="http://vfio.blogspot.com/" rel="nofollow">http://vfio.blogspot.com/</a></p></div></blockquote></div><p>It apppears that my processor&#160; radeon card/radeon sound device and nvidia card/sound device are all in the same group which is what is causing problems.</p><p>How do I go about enableing the acs override?</p></div></blockquote></div><p>Really?&#160; You&#039;re not even willing to google &quot;acs override&quot;?</p></div></blockquote></div><p>Im reading mailing list posts on it as we speak, I just thought this would be a good place to ask for more specific instructions. I didn&#039;t know that was inapropriate for the disscussion here. Anyway thank you for the help so far, without this thread I wouldnt even have been able to get as far as I have already.</p><p>edit: </p><p>got it working with pcie_acs_override=downstream</p><p>edit2:</p><p>qemu starts now but I dont get output from my passed through card on my second monitor.<br />when testing using &quot;vga std&quot; in place of &quot;vga none&quot; the vm/seabios boots fine.<br /> I searched through the thread for others who seemed to have similar problems and saw that some of them had solved those problems but I was unable to identify how. If anyone has experienced/fixed this problem let me know.</p> <p class="postedit"><em>Last edited by sitonapanotis (2014-08-26 08:48:30)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450515">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450647" class="blockpost roweven"> <h2><span><span class="conr">#2566</span> <a href="viewtopic.php?pid=1450647#p1450647">2014-08-26 10:01:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>you need to read op post about vga patches (not acs) and how to activate them...</p> <p class="postedit"><em>Last edited by slis (2014-08-26 10:01:44)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450647">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450726" class="blockpost rowodd"> <h2><span><span class="conr">#2567</span> <a href="viewtopic.php?pid=1450726#p1450726">2014-08-26 14:52:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>What&#039;s your favorite over-asked question here?&#160; <a href="http://vfio.blogspot.com/2014/08/vfiovga-faq.html" rel="nofollow">http://vfio.blogspot.com/2014/08/vfiovga-faq.html</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450726">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450738" class="blockpost roweven"> <h2><span><span class="conr">#2568</span> <a href="viewtopic.php?pid=1450738#p1450738">2014-08-26 15:36:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84606">bruce1337</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-24</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84606">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>As someone who diligently tried to obtain answers by reading through this thread (yes...all of it), I believe you have already caught all prime suspects -- would be great to have this linked prominently in the OP. Also, I respectfully tip my hat to you, good sir! I certainly wouldn&#039;t be in the position I am in now were it not for your dedication, both in terms of technology as well as communication, and for that, you have my sincerest thanks. I shall try to pay it forward with the talents at my disposal.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450738">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450748" class="blockpost rowodd"> <h2><span><span class="conr">#2569</span> <a href="viewtopic.php?pid=1450748#p1450748">2014-08-26 16:03:38</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>3rd <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450748">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450756" class="blockpost roweven"> <h2><span><span class="conr">#2570</span> <a href="viewtopic.php?pid=1450756#p1450756">2014-08-26 16:33:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I don&#039;t expect everyone is following my new blog (yet), but I wrote this up yesterday:</p><p><a href="http://vfio.blogspot.com/2014/08/primary-graphics-assignment-without-vga.html" rel="nofollow">http://vfio.blogspot.com/2014/08/primar … t-vga.html</a></p><p>I&#039;m not the first to try this, former active user on this thread DanaGoyette attempted this, but never fully debugged the issues.&#160; Using OVMF (UEFI) for the guest we can avoid all of the issues with the VGA aspects of GPU assignment.&#160; This means that we don&#039;t care about how broken the i915 driver is and we don&#039;t need the x-vga option for the assigned device, making it just another assigned devices as far as libvirt is concerned.</p><p>Also:</p><p><a href="http://vfio.blogspot.com/2014/08/upstream-updates-for-august-26th-2014.html" rel="nofollow">http://vfio.blogspot.com/2014/08/upstre … -2014.html</a></p><p>If you&#039;re a GeForce user, libirt just got support for kvm=off and QEMU will now automatically enable the primary device quirk for Nvidia GPUs independent of VGA.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450756">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450859" class="blockpost rowodd"> <h2><span><span class="conr">#2571</span> <a href="viewtopic.php?pid=1450859#p1450859">2014-08-26 20:29:58</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78377">sitonapanotis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-08</span></dd> <dd><span>Posts: 15</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>What&#039;s your favorite over-asked question here?&#160; <a href="http://vfio.blogspot.com/2014/08/vfiovga-faq.html" rel="nofollow">http://vfio.blogspot.com/2014/08/vfiovga-faq.html</a></p></div></blockquote></div><p>This faq is SUPER useful, I was having problem 4, which I fixed now.<br />Thank you!</p><p>edit: Got everything set up sucessfully! Thank you so much to everyone in the thread!</p> <p class="postedit"><em>Last edited by sitonapanotis (2014-08-27 03:16:22)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450859">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1450896" class="blockpost roweven"> <h2><span><span class="conr">#2572</span> <a href="viewtopic.php?pid=1450896#p1450896">2014-08-26 22:58:55</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84278">Wimma77</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-12</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84278">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>I don&#039;t expect everyone is following my new blog (yet), but I wrote this up yesterday:<br />...</p></div></blockquote></div><p>Thanks so much for all the details.<br />I&#039;ve just successfully got my HD7770 passed through to my Win7 VM (trick was to not pass the sound with it - good tip redger) and proved capability.<br />And that was on 14.04 with vanilla qemu and 3.16 kernel.<br />Still have to work out networking and sound, but progress is always encouraging.<br />I will have to consider Win8 based on your UEFI comments, but will wait for my GTX750ti first and give that a crack.<br />Thanks again for the help.<br />Will try your blog and see how it goes.Getting closer to a steam streaming server!<br />Cheers.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1450896">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1451035" class="blockpost rowodd"> <h2><span><span class="conr">#2573</span> <a href="viewtopic.php?pid=1451035#p1451035">2014-08-27 13:03:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83719">josipva</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-21</span></dd> <dd><span>Posts: 17</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=83719">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi! Can someone help with following questions?</p><p>- How much performance can I expect from i7-4790k running host arch-linux and 2 win 8.1 virtual machines for gaming?<br />- How similar performance would be compared to i5 4690 running windows natively (assuming same graphics cards in those situations) ?</p> <p class="postedit"><em>Last edited by josipva (2014-08-27 13:03:50)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1451035">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1451047" class="blockpost roweven"> <h2><span><span class="conr">#2574</span> <a href="viewtopic.php?pid=1451047#p1451047">2014-08-27 13:52:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>josipva wrote:</cite><blockquote><div><p>Hi! Can someone help with following questions?</p><p>- How much performance can I expect from i7-4790k running host arch-linux and 2 win 8.1 virtual machines for gaming?<br />- How similar performance would be compared to i5 4690 running windows natively (assuming same graphics cards in those situations) ?</p></div></blockquote></div><p>I haven&#039;t tried this myself so I can&#039;t say for certain it would work but why not. If, for example, you would pass 3 vcpu to each guest, keeping 2 vcpu for the host and pinning accordingly I would assume you would get equal or faster performance for most tasks. I don&#039;t think there&#039;s a penalty to assigning an odd number of vcpu though I could be mistaken. Even with the performance hit compared to bare metal there is a 500 MHz difference in base clock and turbo speeds between the 4790K and 4690, that should in part or fully make compensate depending on the application. You&#039;d likely have somewhat reduced performance in applications where having a fourth core available is a benefit. However again I haven&#039;t tried this.</p><p>I have an 4790K with Win 8.1 using 4 vcpu and a 7950, if you&#039;d like I can run a benchmark if you tell me which one. Windows performance index is 8.1 for CPU, memory and graphics.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1451047">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1451054" class="blockpost rowodd"> <h2><span><span class="conr">#2575</span> <a href="viewtopic.php?pid=1451054#p1451054">2014-08-27 14:12:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>josipva wrote:</cite><blockquote><div><p>Hi! Can someone help with following questions?</p><p>- How much performance can I expect from i7-4790k running host arch-linux and 2 win 8.1 virtual machines for gaming?<br />- How similar performance would be compared to i5 4690 running windows natively (assuming same graphics cards in those situations) ?</p></div></blockquote></div><p>I expect your clock scaling from 4GHz to 3.5GHz for the VM is probably sufficiently conservative to account for the overhead, but if you split an i7-4790k in half, you&#039;re probably looking at something more like an i3-4330 per VM.&#160; Threading doesn&#039;t come anywhere close to doubling the throughput of a core, so running two quad-core VMs on a quad-core + threads host is overcommitting the CPU resources.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1451054">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=102">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=101">101</a> <a href="viewtopic.php?id=162768&amp;p=102">102</a> <strong>103</strong> <a href="viewtopic.php?id=162768&amp;p=104">104</a> <a href="viewtopic.php?id=162768&amp;p=105">105</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=104">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
