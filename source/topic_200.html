<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 200) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=200" title="Page 200" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=199" title="Page 199" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=201" title="Page 201" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=199">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=198">198</a> <a href="viewtopic.php?id=162768&amp;p=199">199</a> <strong>200</strong> <a href="viewtopic.php?id=162768&amp;p=201">201</a> <a href="viewtopic.php?id=162768&amp;p=202">202</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=201">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1524938" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#4976</span> <a href="viewtopic.php?pid=1524938#p1524938">2015-05-01 04:10:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>carterghill wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>@carterghill</p><p>Remove the &lt;graphics&gt; and &lt;video&gt; sections.</p></div></blockquote></div><p>Sorry I should&#039;ve clarified, I have tried without them as well. I only I had them in just now so that I could actually use windows. Without those tags, there is still no output on my second monitor.</p></div></blockquote></div><p>Isn&#039;t is kvm hidden state=ON? not OFF? And you must get output from passthrough gpu regradless of driver working.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524938">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1524939" class="blockpost roweven"> <h2><span><span class="conr">#4977</span> <a href="viewtopic.php?pid=1524939#p1524939">2015-05-01 04:10:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>gg wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>@gg</p><p>I can&#039;t really figure out whether the patch is an improvement for you.&#160; There&#039;s really not much difference for VM shutdown vs VM reset as far as the types of resets that occur for the device.&#160; My testing on a Bonaire seemed to indicate that resets vs shutdown/restart had about the same success rate, ie. mostly working but occasionally not.&#160; The SMC firmware must be running for the reset to work, otherwise it reverts to previous behavior, which in my experience gives you a black screen rather than bsod.</p></div></blockquote></div><p>Before using the patch on qemu 2.3 I was using 2.1 and was not once able to restart or shutdown|start a guest machine without suspending or rebooting the host. It seems from what I&#039;m experiencing that the patch has finally provided a reset (under certain conditions). Is there something else in qemu, the kernel, and the vfio-pci module in particular, that might be making this possible if not the patch you provided for qemu?</p></div></blockquote></div><p>Nope, if there&#039;s an improvement, it&#039;s definitely from this patch.&#160; I just couldn&#039;t figure out from the previous post whether things were actually better for you with the patch.&#160; Thanks</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524939">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1524940" class="blockpost rowodd"> <h2><span><span class="conr">#4978</span> <a href="viewtopic.php?pid=1524940#p1524940">2015-05-01 04:13:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89315">gg</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-06</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>gg wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>@gg</p><p>I can&#039;t really figure out whether the patch is an improvement for you.&#160; There&#039;s really not much difference for VM shutdown vs VM reset as far as the types of resets that occur for the device.&#160; My testing on a Bonaire seemed to indicate that resets vs shutdown/restart had about the same success rate, ie. mostly working but occasionally not.&#160; The SMC firmware must be running for the reset to work, otherwise it reverts to previous behavior, which in my experience gives you a black screen rather than bsod.</p></div></blockquote></div><p>Before using the patch on qemu 2.3 I was using 2.1 and was not once able to restart or shutdown|start a guest machine without suspending or rebooting the host. It seems from what I&#039;m experiencing that the patch has finally provided a reset (under certain conditions). Is there something else in qemu, the kernel, and the vfio-pci module in particular, that might be making this possible if not the patch you provided for qemu?</p></div></blockquote></div><p>Nope, if there&#039;s an improvement, it&#039;s definitely from this patch.&#160; I just couldn&#039;t figure out from the previous post whether things were actually better for you with the patch.&#160; Thanks</p></div></blockquote></div><p>Yes, was definitely a huge step. Thanks!</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524940">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1524941" class="blockpost roweven"> <h2><span><span class="conr">#4979</span> <a href="viewtopic.php?pid=1524941#p1524941">2015-05-01 04:16:38</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><div class="quotebox"><cite>carterghill wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>@carterghill</p><p>Remove the &lt;graphics&gt; and &lt;video&gt; sections.</p></div></blockquote></div><p>Sorry I should&#039;ve clarified, I have tried without them as well. I only I had them in just now so that I could actually use windows. Without those tags, there is still no output on my second monitor.</p></div></blockquote></div><p>Isn&#039;t is kvm hidden state=ON? not OFF? And you must get output from passthrough gpu regradless of driver working.</p></div></blockquote></div><p>Yes, hidden state=&#039;on&#039;&#160; Good catch</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524941">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1524946" class="blockpost rowodd"> <h2><span><span class="conr">#4980</span> <a href="viewtopic.php?pid=1524946#p1524946">2015-05-01 05:38:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90664">carterghill</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-04-26</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:carterghill@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>slis wrote:</cite><blockquote><div><div class="quotebox"><cite>carterghill wrote:</cite><blockquote><div><p>Sorry I should&#039;ve clarified, I have tried without them as well. I only I had them in just now so that I could actually use windows. Without those tags, there is still no output on my second monitor.</p></div></blockquote></div><p>Isn&#039;t is kvm hidden state=ON? not OFF? And you must get output from passthrough gpu regradless of driver working.</p></div></blockquote></div><p>Yes, hidden state=&#039;on&#039;&#160; Good catch</p></div></blockquote></div><p>Ah okay, I changed that and there&#039;s still no output on my second monitor <img src="https://bbs.archlinux.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" />. I sort of expected this, seeing as how I purposely tried with earlier drivers initially and had no output then either. So we know that it&#039;s being passed through because I can see it in the device manager when I view it through VNC, right? And since apparently I should get output regardless of drivers (I should&#039;ve known that...) what else could be causing this issue? Oh, and thanks for your help so far you guys <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> <p class="postedit"><em>Last edited by carterghill (2015-05-01 05:38:55)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524946">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1524948" class="blockpost roweven"> <h2><span><span class="conr">#4981</span> <a href="viewtopic.php?pid=1524948#p1524948">2015-05-01 06:11:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>If you dont have output your i915 patch is not working, or you need to patch host nvidia driver for vga, or your gpu does not have uefi&#160; bios for ovmf.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1524948">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525054" class="blockpost rowodd"> <h2><span><span class="conr">#4982</span> <a href="viewtopic.php?pid=1525054#p1525054">2015-05-01 15:10:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90798">ZaoX64</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-05-01</span></dd> <dd><span>Posts: 4</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hellow im finish my simple config.&#160; <br />IT WORKS... <br />Sound terible crakling*^&amp;$$. I am working on it <img src="https://bbs.archlinux.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Ungine Valley and Heaven benchmark pass.</p><p>MSI Z77&#160; + i7-3770 VT-d<br />NVIDIA EVGA GTX660 ( rom flash to support UEFI )</p><p>Host on 3.19-3-3-ARCH witch QEMU 2.2.1 + OVMF + intel GPU + 2 monitor&#160; (old one and new model&#160; with multi input 27&#039;&#039;&#160; )<br />Guest OS&#160; Windows Server 2012 x64. with GTX660 + 1&#160; monitor (shared with Host OS)<br />I have 2 sets of mouse and keyboard, one for OS.</p><p>my simple bash script:</p><div class="codebox"><pre><code>#!/bin/bash export QEMU_ALSA_DAC_BUFFER=&quot;512&quot; export QEMU_ALSA_DAC_PERIOD_SIZE=&quot;1024&quot; export QEMU_AUDIO_DRV=&quot;alsa&quot; cp -f /usr/share/edk2.git/ovmf-x64/OVMF_VARS-pure-efi.fd /tmp/my_var.fd qemu-system-x86_64 \ -enable-kvm \ -cpu host,kvm=off,hv_time,hv_relaxed,hv_vapic,hv_spinlocks=0x1fff \ -smp 4,sockets=1,cores=4,threads=1 \ -m 4096 \ -soundhw hda \ -vga none \ -device vfio-pci,host=01:00.0 -device vfio-pci,host=01:00.1 \ -drive if=pflash,format=raw,readonly,file=&quot;/usr/share/edk2.git/ovmf-x64/OVMF_CODE-pure-efi.fd&quot; \ -drive if=pflash,format=raw,file=&quot;./efi_var.fd&quot; \ -hda ./winbox01.img \ -cdrom /dev/sr0 \ -usb -usbdevice host:046d:c316 -usbdevice host:1bcf:0005 </code></pre></div><p>&#160; &#160; </p><p>What do you think -M q35 will be bettr for my VM ?</p> <p class="postedit"><em>Last edited by ZaoX64 (2015-05-01 19:26:05)</em></p> </div> <div class="postsignature postmsg"><hr /><p>[MSI Z77A-G43 i7-3770 32GB GTX660]</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525054">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525059" class="blockpost roweven"> <h2><span><span class="conr">#4983</span> <a href="viewtopic.php?pid=1525059#p1525059">2015-05-01 15:33:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ZaoX64 wrote:</cite><blockquote><div><div class="codebox"><pre><code> -cpu host,kvm=off,hv_time,hv_relaxed,hv_vapic,hv_spinlocks=0x1fff \</code></pre></div></div></blockquote></div><p>Are you running an older Nvidia driver to be able to use the hyper-v extensions?&#160; Generally all those hv_foo options need to be removed to avoid Code 43 on latest Nvidia driver.</p><div class="quotebox"><blockquote><div><p>What do you think -m q35 will be bettr for my VM ?</p></div></blockquote></div><p>100% no</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525059">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525060" class="blockpost rowodd"> <h2><span><span class="conr">#4984</span> <a href="viewtopic.php?pid=1525060#p1525060">2015-05-01 15:34:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>If you dont have output your i915 patch is not working, or you need to patch host nvidia driver for vga, or your gpu does not have uefi&#160; bios for ovmf.</p></div></blockquote></div><p>i915 patch shouldn&#039;t be relevant since they&#039;re not using IGD, but I do agree that something is wrong with vga arbitration/routing since there isn&#039;t any output to the screen.&#160; I&#039;d try a newer kernel.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525060">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525066" class="blockpost roweven"> <h2><span><span class="conr">#4985</span> <a href="viewtopic.php?pid=1525066#p1525066">2015-05-01 15:53:14</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90664">carterghill</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-04-26</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:carterghill@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>If you dont have output your i915 patch is not working, or you need to patch host nvidia driver for vga, or your gpu does not have uefi&#160; bios for ovmf.</p></div></blockquote></div><p>i915 patch shouldn&#039;t be relevant since they&#039;re not using IGD, but I do agree that something is wrong with vga arbitration/routing since there isn&#039;t any output to the screen.&#160; I&#039;d try a newer kernel.</p></div></blockquote></div><p>I am on the latest kernel (to my knowledge) 3.19. Maybe I should try the i915 patch again. How exactly do I run the patch? I&#039;ve had a lot of trouble finding a decent guide that shows how to run a patch, and most of these threads just say where do find the patch and not what to do with it... I know that GTX 760 should work, I&#039;ve seen other people succeed with it. How would I patch my host nvidia driver for VGA?</p> <p class="postedit"><em>Last edited by carterghill (2015-05-01 15:56:16)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525066">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525112" class="blockpost rowodd"> <h2><span><span class="conr">#4986</span> <a href="viewtopic.php?pid=1525112#p1525112">2015-05-01 19:10:24</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90798">ZaoX64</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-05-01</span></dd> <dd><span>Posts: 4</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Are you running an older Nvidia driver to be able to use the hyper-v extensions?&#160; Generally all those hv_foo options need to be removed to avoid Code 43 on latest Nvidia driver.</p></div></blockquote></div><p>Currently NV driver version are 331.58 (I know to old - but safe) but i planing to successivly update driver to higher posible.<br />I don&#039;t konw highest working version.<br />(mayby someday all nv driver 350+ will work )</p><p>I would like use this enviroment to develop my multiplatform game.</p> <p class="postedit"><em>Last edited by ZaoX64 (2015-05-01 19:17:25)</em></p> </div> <div class="postsignature postmsg"><hr /><p>[MSI Z77A-G43 i7-3770 32GB GTX660]</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525112">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525122" class="blockpost roweven"> <h2><span><span class="conr">#4987</span> <a href="viewtopic.php?pid=1525122#p1525122">2015-05-01 19:25:42</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ZaoX64 wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Are you running an older Nvidia driver to be able to use the hyper-v extensions?&#160; Generally all those hv_foo options need to be removed to avoid Code 43 on latest Nvidia driver.</p></div></blockquote></div><p>Currently NV driver version are 331.58 (I know to old - but safe) but i planing to successivly update driver to higher posible.<br />I don&#039;t konw highest working version.<br />(mayby someday all nv driver 350+ will work )</p><p>I would like use this enviroment to develop my multiplatform game.</p></div></blockquote></div><p>At 331.58, you don&#039;t even need kvm=off, that change didn&#039;t happen until 338.77.&#160; If you go up to 344.11 you&#039;ll need to remove all those hv_foo enablers.&#160; IME, the graphics performance gain from newer drivers trumps the benefit of the hyper-v extensions.&#160; If graphics performance isn&#039;t your #1 priority then maybe there are cases for using older drivers.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525122">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525124" class="blockpost rowodd"> <h2><span><span class="conr">#4988</span> <a href="viewtopic.php?pid=1525124#p1525124">2015-05-01 19:49:46</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90798">ZaoX64</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-05-01</span></dd> <dd><span>Posts: 4</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>ZaoX64 wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Are you running an older Nvidia driver to be able to use the hyper-v extensions?&#160; Generally all those hv_foo options need to be removed to avoid Code 43 on latest Nvidia driver.</p></div></blockquote></div><p>Currently NV driver version are 331.58 (I know to old - but safe) but i planing to successivly update driver to higher posible.<br />I don&#039;t konw highest working version.<br />(mayby someday all nv driver 350+ will work )</p><p>I would like use this enviroment to develop my multiplatform game.</p></div></blockquote></div><p>At 331.58, you don&#039;t even need kvm=off, that change didn&#039;t happen until 338.77.&#160; If you go up to 344.11 you&#039;ll need to remove all those hv_foo enablers.&#160; IME, the graphics performance gain from newer drivers trumps the benefit of the hyper-v extensions.&#160; If graphics performance isn&#039;t your #1 priority then maybe there are cases for using older drivers.</p></div></blockquote></div><p>I remove Hyper-V and use 347.88. With good result.<br />I will try 350...</p> <p class="postedit"><em>Last edited by ZaoX64 (2015-05-01 19:50:41)</em></p> </div> <div class="postsignature postmsg"><hr /><p>[MSI Z77A-G43 i7-3770 32GB GTX660]</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525124">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525211" class="blockpost roweven"> <h2><span><span class="conr">#4989</span> <a href="viewtopic.php?pid=1525211#p1525211">2015-05-02 07:35:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90710">toxster</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-04-28</span></dd> <dd><span>Posts: 4</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=90710">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hey just wanted to post a small success story, </p><p>Intel 5960X w/ Asus Strix 970 GTX (radeon HD as primary), latest nvidia drivers works when using kvm=off, <span class="bbs">cannot get Geforce Experience to recognize that i have a nvidia card, but the driver works, have anyone got passed this?</span> edit: it just started working, weird, maybe some windows update...</p><p>Win 8.1 using ovmf (ovmf-git/svn and qemu 2.3.50 (built from git 3 nights ago)</p><p>GTA 5 running quite smooth @ 4K High, ~47fps</p><p>however, there seem to be some 60 fps limitation, even if i set heaven and valley benchmarks at ridiculously low resolution with all settings on low or none, it cannot get past 60 fps?!</p><p>Thanks for the good job guys, now I can have a gaming rig, docker host, and dev setup on the same computer <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Host:<br />Kernel: 4.0.1-1-ARCH (no patches!)<br />MB: Gigabyte X99 Gaming 5<br />CPU: Intel 5960X<br />Guest GFX: ASUS STRIX Geforce 970 GTX<br />Host GFX: Radeon HD4350 (set as primary in BIOS)</p> <p class="postedit"><em>Last edited by toxster (2015-05-04 13:21:06)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525211">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525491" class="blockpost rowodd"> <h2><span><span class="conr">#4990</span> <a href="viewtopic.php?pid=1525491#p1525491">2015-05-03 05:44:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79300">shawnt</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-02-07</span></dd> <dd><span>Posts: 2</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Same as above, wanna share some progress so far I got. </p><p>Hardware: msi z97 gaming-5, i5-4690k, evga gtx 750 ti</p><p>What have succeeded:<br />stock kernel, qemu-system-x86_64, ovmf, windows 8.1 64bit, nvidia driver 338<br />linux-vfio, qemu-system-x86_64, seabios, windows 8.1 64bit, nvidia driver 338<br />linux-vfio, qemu-system-i386, seabios, windows 8.1 32bit, nvidia driver 338</p><p>stock kernel, qemu-system-x86_64, ovmf, windows 10 64bit 9926 build, nvidia driver 350<br />linux-vfio, qemu-system-x86_64, seabios, windows 10 64bit 9926 build, nvidia driver 350<br />linux-vfio, qemu-system-i386, seabios, windows 10 32bit 9926 build, nvidia driver 350</p><p>What have failed:<br />Windows 10 32bit/64bit 10041 build in all conditions fail to install as BSOD &quot;system_thread_exception_not_handled&quot;. The install went through without vfio passthrough under both seabios and ovmf (still not able to boot if switch to vfio after installation gets done).<br />Windows 10 9926 build with 338 driver has some glitches during my planetside 2 gaming. It got fixed after upgrading to 344 driver, although I&#039;m not sure if it&#039;s caused by the 338 driver or something else. Haven&#039;t got a chance to verify.<br />Nvidia 352 beta under windows 10 9926 build gets code 43 error with kvm=off and no hv_* (arms racing has begun?).<br />It seems ovmf under qemu-system-i386 doesn&#039;t work with vfio enabled, that&#039;s why 32bit with ovmf is missing in the list.</p><p>Thanks to all the people working on qemu and vfio project, especially to the OP for working on this guide. Really blows my mind how much potential power I can get from my archlinux PC.<br />Sorry about my english as a non-native speaker</p><p>Update: from the post on page 209, Windows 10 beyond 9926 would need CPU either core2duo or kvm64 with +lahf_lm,+cx16. Nvidia driver 352 and 358 requires 10041+ build to run.</p> <p class="postedit"><em>Last edited by shawnt (2015-05-31 07:23:11)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525491">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525502" class="blockpost roweven"> <h2><span><span class="conr">#4991</span> <a href="viewtopic.php?pid=1525502#p1525502">2015-05-03 07:36:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81197">scoobydog</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-04-14</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=81197">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>with your help, I run Battlefield 4 and Battlefield Hardline in KVM Win 7 Pro x64 on a Debian 8.0 Jessie, without patches or special modifications, with good FPS, 50-60 in FHD and 30-40 in UHD.</p><p>here is a short video <a href="https://youtu.be/N9QwDmYBRgg" rel="nofollow">https://youtu.be/N9QwDmYBRgg</a></p><p>Info&#039;s</p><p>Host:<br />&#160; Debian 8.0 Jessie 01.05.2015<br />Guest:<br />&#160; KVM Win7 Pro amd64 with Nvidia whql Driver 350.12 64bit<br />Hardware:<br />&#160; CPU i7 4820K socket 2011<br />&#160; Mainboard Gigabyte GA-X79-UP4 Rev. 1.0<br />&#160; Graphic card: <br />&#160; &#160; Host: Gigabyte GV-N75TOC-2GI<br />&#160; &#160; Guest: Asus GTX780-DC2OC-3GD5<br />Patches: <br />&#160; none, Debian standard<br />Modifications:<br />&#160; /etc/default/grub<br />&#160; &#160; GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet intel_iommu=on pci_stub.ids=(ids from GTX780)&quot;<br />&#160; /etc/initramfs-tools/modules<br />&#160; &#160; add &quot;pci_stub&quot; at the end<br />after change, start this as root:<br />&#160; update-initramfs -u<br />&#160; update-grub2<br />&#160; and reboot</p><p>After boot:<br />&#160; First bind graphic card to vfio:<br />&#160; &#160; lspci give this information for my GTX780<br />&#160; &#160; 04:00.0 VGA compatible controller: NVIDIA Corporation GK110 GeForce GTX 780 rev a1<br />&#160; &#160; 04:00.1 Audio device: NVIDIA Corporation GK110 HDMI Audio rev a1<br />&#160; &#160; vfio-bind from <a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow">https://bbs.archlinux.org/viewtopic.php?id=162768</a><br />&#160; &#160; as root start &quot;vfio-bind 0000:04:00.0 0000:04:00.1&quot;</p><p>now you can start the virtual machine ---</p><p>qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \<br />-smp 4,sockets=1,cores=4,threads=1 \<br />-machine q35,accel=kvm \<br />-soundhw hda \<br />-device vfio-pci,host=0x:00.0,rombar=1,x-vga=on \<br />-device vfio-pci,host=0x:00.1 \<br />-bios /usr/share/seabios/bios.bin \<br />-device virtio-net-pci,netdev=user.0,mac=52:54:00:03:02:01 \<br />-netdev user,id=user.0 \<br />-drive file=win7-x64_system.qcow2,if=none,id=drive-virtio-disk0,format=qcow2 \<br />-device virtio-blk-pci,scsi=off,addr=0x7,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 \<br />-drive file=win7-games.qcow2,if=none,id=drive-virtio-disk1,format=qcow2 \<br />-device virtio-blk-pci,scsi=off,addr=0x8,drive=drive-virtio-disk1,id=virtio-disk1 \<br />-rtc base=localtime,driftfix=slew \<br />-usbdevice host:x.x \<br />-usbdevice host:y.y \<br />-vga none</p><p>Thanks for your Help.</p> <p class="postedit"><em>Last edited by scoobydog (2015-05-03 12:24:51)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525502">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525838" class="blockpost rowodd"> <h2><span><span class="conr">#4992</span> <a href="viewtopic.php?pid=1525838#p1525838">2015-05-04 06:24:00</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89315">gg</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-06</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>gg wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>gg wrote:</cite><blockquote><div><p>Before using the patch on qemu 2.3 I was using 2.1 and was not once able to restart or shutdown|start a guest machine without suspending or rebooting the host. It seems from what I&#039;m experiencing that the patch has finally provided a reset (under certain conditions). Is there something else in qemu, the kernel, and the vfio-pci module in particular, that might be making this possible if not the patch you provided for qemu?</p></div></blockquote></div><p>Nope, if there&#039;s an improvement, it&#039;s definitely from this patch.&#160; I just couldn&#039;t figure out from the previous post whether things were actually better for you with the patch.&#160; Thanks</p></div></blockquote></div><p>Yes, was definitely a huge step. Thanks!</p></div></blockquote></div><p>Today I&#039;m using a fresh install of Windows 8.1 (and kernel 4.1-rc2, qemu 2.3, and OVMF) and the R9 290 is resetting on each reboot whether or not a Quadro 6000 is also passed-through. </p><p>My longstanding issue with resetting Hawaii appears to be largely resolved! <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525838">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1525925" class="blockpost roweven"> <h2><span><span class="conr">#4993</span> <a href="viewtopic.php?pid=1525925#p1525925">2015-05-04 13:11:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>gg wrote:</cite><blockquote><div><p>Today I&#039;m using a fresh install of Windows 8.1 (and kernel 4.1-rc2, qemu 2.3, and OVMF) and the R9 290 is resetting on each reboot whether or not a Quadro 6000 is also passed-through. </p><p>My longstanding issue with resetting Hawaii appears to be largely resolved! <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>QEMU 2.3 or qemu.git.&#160; The reset patch didn&#039;t go in until after 2.3.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1525925">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526032" class="blockpost rowodd"> <h2><span><span class="conr">#4994</span> <a href="viewtopic.php?pid=1526032#p1526032">2015-05-04 19:24:05</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89315">gg</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-06</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>gg wrote:</cite><blockquote><div><p>Today I&#039;m using a fresh install of Windows 8.1 (and kernel 4.1-rc2, qemu 2.3, and OVMF) and the R9 290 is resetting on each reboot whether or not a Quadro 6000 is also passed-through. </p><p>My longstanding issue with resetting Hawaii appears to be largely resolved! <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>QEMU 2.3 or qemu.git.&#160; The reset patch didn&#039;t go in until after 2.3.</p></div></blockquote></div><p>That was with qemu.git branch/tag v2.3.0 and your patch. I&#039;ve now built again from qemu.git head, which includes your patch, and it also works the same (well).</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526032">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526174" class="blockpost roweven"> <h2><span><span class="conr">#4995</span> <a href="viewtopic.php?pid=1526174#p1526174">2015-05-05 11:26:54</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90273">ughman</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-04-12</span></dd> <dd><span>Posts: 7</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:chekwob@yahoo.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ughman wrote:</cite><blockquote><div><p>I am going now to move the guest-assigned card to another PCI-e x16 slot and attempt again, not expecting any success.</p></div></blockquote></div><p>It seems this has fixed my issue completely. I am now successfully passing through an AMD R9 290 while leaving an NVIDIA 9800 GT as the host device (nouveau driver).</p><p>For future reference, this is the exact hardware I am using:</p><ul><li><p>Athlon X4 860K - AMD AD860KXBJABOX</p></li><li><p>Radeon R9 290 - Sapphire &quot;tri-x oc&quot; 100362-2SR</p></li><li><p>A88X Bolton D4 motherboard - ASRock &quot;fatal1ty&quot; 90-MXGT60-A0UAY1Z</p></li></ul><p>I had previously had my card installed in the PCI-e x16 3.0 slot; my fix was to move it to the x4 2.0 slot (physically x16, labeled as &quot;x4 mode&quot;). The labels in the motherboard user guide for these slots are PCIE2 and PCIE4 respectively. It is unfortunate that I could not get the R9 into the 3.0 slot since the other card can&#039;t do 3.0, and I don&#039;t do much graphics-wise on the host. Still, I am very pleased with the results.</p><p>This is my current working QEMU script, using the older windows install which had been previously running on a bare metal AM2+ phenom system</p><div class="codebox"><pre><code>#!/bin/sh export QEMU_AUDIO_DRV=sdl export QEMU_AUDIO_DAC_FIXED_SETTINGS=1 export QEMU_AUDIO_DAC_FIXED_FREQ=44100 export QEMU_AUDIO_DAC_FIXED_FMT=S16 export QEMU_SDL_SAMPLES=1024 qemu-system-x86_64 \ -machine pc-i440fx-2.1,accel=kvm,usb=off \ -cpu host \ -drive file=OVMF.fd,format=raw,if=pflash \ -drive file=/dev/mapper/mass-win--uefi,format=raw,if=virtio \ -m 4096 \ -smp 3 \ -device ich9-usb-ehci1,id=usb,bus=pci.0,addr=0x5.0x7 \ -device ich9-usb-uhci1,masterbus=usb.0,firstport=0,bus=pci.0,multifunction=on,addr=0x5 \ -device ich9-usb-uhci2,masterbus=usb.0,firstport=2,bus=pci.0,addr=0x5.0x1 \ -device ich9-usb-uhci3,masterbus=usb.0,firstport=4,bus=pci.0,addr=0x5.0x2 \ -device usb-host,id=usb-keyboard-mouse,bus=usb.0,vendorid=0x13ba,productid=0x0018 \ -netdev user,id=net \ -device rtl8139,netdev=net,bus=pci.0,addr=0x6 \ -device vfio-pci,host=02:00.0,bus=pci.0,addr=0x8 \ -device vfio-pci,host=02:00.1,bus=pci.0,addr=0x9 \ -vga none \ -serial none \ -soundhw hda \ -nographic \ $*</code></pre></div><p>Thanks for this thread, and thanks Duelist for providing a lot of help and information.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526174">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526184" class="blockpost rowodd"> <h2><span><span class="conr">#4996</span> <a href="viewtopic.php?pid=1526184#p1526184">2015-05-05 13:26:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ughman wrote:</cite><blockquote><div><p>...<br />I had previously had my card installed in the PCI-e x16 3.0 slot; my fix was to move it to the x4 2.0 slot (physically x16, labeled as &quot;x4 mode&quot;). The labels in the motherboard user guide for these slots are PCIE2 and PCIE4 respectively. It is unfortunate that I could not get the R9 into the 3.0 slot since the other card can&#039;t do 3.0, and I don&#039;t do much graphics-wise on the host. Still, I am very pleased with the results.</p><p>This is my current working QEMU script, using the older windows install which had been previously running on a bare metal AM2+ phenom system</p><p>...</p><p>Thanks for this thread, and thanks Duelist for providing a lot of help and information.</p></div></blockquote></div><p>AFAIR, all pci-e slots on Kaveri C/APUs are 3.0, and x1 3.0 has the same bandwidth as x16 2.0 or something. Trinity and Richland, on the other hand, can&#039;t do PCI-E 3.0 at all.<br />Try running lspci -vv as root to see the actual pci-e bandwidth speed. I think it won&#039;t bottleneck much.</p><div class="codebox"><pre><code> LnkCap: Port #0, Speed 8GT/s, Width x16, ASPM L0s L1, Exit Latency L0s &lt;64ns, L1 &lt;1us ClockPM- Surprise- LLActRep- BwNot- ASPMOptComp+ LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- CommClk+ ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt- LnkSta: Speed 5GT/s, Width x16, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt- DevCap2: Completion Timeout: Not Supported, TimeoutDis-, LTR-, OBFF Not Supported DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis-, LTR-, OBFF Disabled LnkCtl2: Target Link Speed: 8GT/s, EnterCompliance- SpeedDis- Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS- Compliance De-emphasis: -6dB</code></pre></div><p>This is HD7750 as 01:00.0 @ first 16x 2.0 on 750K Trinity in F2A55(Hudson D2?..).</p><div class="codebox"><pre><code> LnkCap: Port #1, Speed 8GT/s, Width x16, ASPM L0s L1, Exit Latency L0s &lt;64ns, L1 &lt;1us ClockPM- Surprise- LLActRep- BwNot- ASPMOptComp+ LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- CommClk+ ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt- LnkSta: Speed 5GT/s, Width x4, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt- DevCap2: Completion Timeout: Not Supported, TimeoutDis-, LTR-, OBFF Not Supported DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis-, LTR-, OBFF Disabled LnkCtl2: Target Link Speed: 8GT/s, EnterCompliance- SpeedDis- Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS- Compliance De-emphasis: -6dB</code></pre></div><p>This is the second HD7750 as 02:00.0 @ second 16x 2.0. It&#039;s routed as 8x, although i can&#039;t recall if there was any warning about it being only an <strong>x4</strong> port. Since all the power lines are fed through the first 12 or so pins, it&#039;d be weird to route the port, but not use it&#039;s full bandwidth.</p><div class="codebox"><pre><code> LnkCap: Port #0, Speed 2.5GT/s, Width x16, ASPM L0s L1, Exit Latency L0s &lt;256ns, L1 &lt;4us ClockPM+ Surprise- LLActRep- BwNot- ASPMOptComp- LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- CommClk+ ExtSynch- ClockPM+ AutWidDis- BWInt- AutBWInt- LnkSta: Speed 2.5GT/s, Width x1, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt- DevCap2: Completion Timeout: Not Supported, TimeoutDis+, LTR-, OBFF Not Supported DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis-, LTR-, OBFF Disabled LnkCtl2: Target Link Speed: 2.5GT/s, EnterCompliance- SpeedDis- Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS- Compliance De-emphasis: -6dB</code></pre></div><p>And this is GT610 as 04:00.0 @ first 1x 2.0 through the powered(12V line with molex aka IDE power connector) 1x-&gt;16x riser.</p><p>I&#039;m just curious what it looks like in your system. And if you will consider putting R9 290 in a riser card, please, could you give me a photo of result? It&#039;s quite a lenghty card, so i suppose it&#039;d be sitting is some weird place and/or position inside the case. I&#039;ve stuffed my GT610 that way that it&#039;s metal bracket is centimeter away from the CPU fan, this fact gives me some lulz.</p><p>Also, how did you move the baremetal setup to the VM? Was there BSOD 7B? Migrating to ESP+EFI loader?</p><p>OH! And don&#039;t forget to <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">fix your entry!</a></p> <p class="postedit"><em>Last edited by Duelist (2015-05-05 13:34:53)</em></p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526184">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526201" class="blockpost roweven"> <h2><span><span class="conr">#4997</span> <a href="viewtopic.php?pid=1526201#p1526201">2015-05-05 14:44:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90273">ughman</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-04-12</span></dd> <dd><span>Posts: 7</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:chekwob@yahoo.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>Try running lspci -vv as root to see the actual pci-e bandwidth speed. I think it won&#039;t bottleneck much.</p></div></blockquote></div><div class="codebox"><pre><code> Capabilities: [78] Express (v1) Endpoint, MSI 00 DevCap: MaxPayload 128 bytes, PhantFunc 0, Latency L0s &lt;512ns, L1 &lt;4us ExtTag+ AttnBtn- AttnInd- PwrInd- RBE+ FLReset- DevCtl: Report errors: Correctable- Non-Fatal- Fatal- Unsupported- RlxdOrd- ExtTag- PhantFunc- AuxPwr- NoSnoop+ MaxPayload 128 bytes, MaxReadReq 512 bytes DevSta: CorrErr- UncorrErr- FatalErr- UnsuppReq- AuxPwr- TransPend- LnkCap: Port #0, Speed 2.5GT/s, Width x16, ASPM L0s L1, Exit Latency L0s &lt;512ns, L1 &lt;1us ClockPM- Surprise- LLActRep- BwNot- ASPMOptComp- LnkCtl: ASPM Disabled; RCB 128 bytes Disabled- CommClk+ ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt- LnkSta: Speed 2.5GT/s, Width x16, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt-</code></pre></div><p>This is the 9800 GT host card as 01:00.0 @ x16 3.0</p><div class="codebox"><pre><code> Capabilities: [58] Express (v2) Legacy Endpoint, MSI 00 DevCap: MaxPayload 256 bytes, PhantFunc 0, Latency L0s &lt;4us, L1 unlimited ExtTag+ AttnBtn- AttnInd- PwrInd- RBE+ FLReset- DevCtl: Report errors: Correctable- Non-Fatal- Fatal- Unsupported- RlxdOrd- ExtTag+ PhantFunc- AuxPwr- NoSnoop+ MaxPayload 256 bytes, MaxReadReq 512 bytes DevSta: CorrErr- UncorrErr- FatalErr- UnsuppReq- AuxPwr- TransPend- LnkCap: Port #1, Speed 8GT/s, Width x16, ASPM L0s L1, Exit Latency L0s &lt;64ns, L1 &lt;1us ClockPM- Surprise- LLActRep- BwNot- ASPMOptComp+ LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- CommClk+ ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt- LnkSta: Speed 2.5GT/s, Width x1, TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt- DevCap2: Completion Timeout: Not Supported, TimeoutDis-, LTR-, OBFF Not Supported DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis-, LTR-, OBFF Disabled LnkCtl2: Target Link Speed: 8GT/s, EnterCompliance- SpeedDis- Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS- Compliance De-emphasis: -6dB LnkSta2: Current De-emphasis Level: -3.5dB, EqualizationComplete-, EqualizationPhase1- EqualizationPhase2-, EqualizationPhase3-, LinkEqualizationRequest-</code></pre></div><p>This is the R9 290 as 02:00.0 @ x16 2.0 &quot;x4 mode&quot;. Looking at this it seems like it&#039;s actually running at x1? That even worse.</p><p>The board&#039;s user manual itself says this:</p><div class="quotebox"><blockquote><div><p>PCIE2 (PCIe 3.0 x16 slot) is used for PCI Express x16 lane width graphics cards.<br />PCIE4 (PCIe 2.0 x16 slot) is used for PCI Express x4 lane width graphics cards.</p></div></blockquote></div><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>And if you will consider putting R9 290 in a riser card, please, could you give me a photo of result? It&#039;s quite a lenghty card, so i suppose it&#039;d be sitting is some weird place and/or position inside the case.</p></div></blockquote></div><p>The case is pretty big, there&#039;s 10 slots in the back so I just use the spare slots and stick a piece of cardboard under the riser to insulate it. I had a string of cable ties through the plastic fan cooling assembly thing to hold the card straight with more than just the backplate since the riser sits loose in the case. I&#039;ll take a picture of it when I get around to trying that setup again.</p><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>Also, how did you move the baremetal setup to the VM? Was there BSOD 7B? Migrating to ESP+EFI loader?</p></div></blockquote></div><p>The original setup was a ~80 G partition on a 1TB MBR drive, with some kind of 100M system partiton alongside it. Ignoring the 100M partition, I created a new LVM volume just large enough for the first partition and an MBR part table. I used fdisk on that and then copied the original partition right in. Apparently you can&#039;t just dd NTFS filesystems around wherever you want, there&#039;s something in the NTFS header which specifies the first drive sector/block/whatever for the filesystem, so I ended up modifying some part of the FS header with a hex editor to get it to work. Since I only copied that partition and not the 100M other thing, I used some boot repair tools on the win7 install disc which copied in the boot manager garbage and got it working after a few runs of it. I fixed the 0x7B BSOD by making some registry edit change using regedit from the install disc. I did something similar to this <a href="http://jsmcomputers.biz/wp/?p=249" rel="nofollow">http://jsmcomputers.biz/wp/?p=249</a>, also the same trick to get virtio working but changing the virtio key in that location.</p><p>Switching to UEFI, I made a new 100G LV, formatted it in fdisk as gpt and added the original partition to the start and a 100M &quot;EFI System Partition&quot; to the end, which is apparently fat32 with a special UUID. Running the same boot fixing thing on the win7 disc a couple times got that working, I don&#039;t remember running any command line programs but I might have. This time I used gparted instead of pv (or dd) which probably did make some changes to the <span class="bbs">partition table</span> NTFS header, so I didn&#039;t need to use a hex editor this time.</p><p>I have to say the windows boot stuff is really rather ugly. I suppose it&#039;s better than it was for 2k and XP, but it&#039;s still pretty bad.</p><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>OH! And don&#039;t forget to <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">fix your entry!</a></p></div></blockquote></div><p>Interesting, I don&#039;t think I submitted anything, it was probably added by someone else? The main page says the sheet is locked because of vandalism or something, so I don&#039;t think I can edit it myself.</p> <p class="postedit"><em>Last edited by ughman (2015-05-05 14:53:43)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526201">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526208" class="blockpost rowodd"> <h2><span><span class="conr">#4998</span> <a href="viewtopic.php?pid=1526208#p1526208">2015-05-05 15:13:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=90902">wulfspider</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-05-05</span></dd> <dd><span>Posts: 6</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=90902">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi,</p><p>I am new to this topic. So I have some questions.</p><p>What is &quot;better&quot;? The qemu default chipset or q35? Which one is better for Windows 8?</p><p>Which bios should I use? Seabios or OVMF? Which one is better for Windows 8? (I want to import my Windows 8 Key from the ACPI table)</p><p>Which combination would have the best performance?</p><p>In a lot of posts of qemu commands I saw something like this:</p><div class="codebox"><pre><code>qemu-system-x86_64 --enable-kvm -M q35 -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=07:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=07:00.1,bus=root.1,addr=00.1</code></pre></div><p>What is the function of the bus and the addr parameter?</p><p>I read somewhere if I use the OVMF bios I wouldn&#039;t need the following parameter. Is that right?</p><div class="codebox"><pre><code>multifunction=on,x-vga=on</code></pre></div><p>Thanks you <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Edit:<br />One more question: Why should I add a rom parameter to the graphics card?</p> <p class="postedit"><em>Last edited by wulfspider (2015-05-05 15:17:14)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526208">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526223" class="blockpost roweven"> <h2><span><span class="conr">#4999</span> <a href="viewtopic.php?pid=1526223#p1526223">2015-05-05 16:39:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>There is no better, performance is same, 440fx is recommended.</p><p>Seabios is for old legacy vga mode (needs kernel patch maybe), ovmf is uefi (no patches needed).</p><p>Bus and addr tells qemu where to put it on virtual bus/port or smth like that <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Yes x-vga can be avoided using ovmf.</p><p>Sometimes rebooting vm doesn&#039;t work well, and using rom helps. It did with my old 560ti.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526223">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1526224" class="blockpost rowodd"> <h2><span><span class="conr">#5000</span> <a href="viewtopic.php?pid=1526224#p1526224">2015-05-05 16:42:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>5000!&#160; (sorry, had to do it)</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1526224">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=199">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=198">198</a> <a href="viewtopic.php?id=162768&amp;p=199">199</a> <strong>200</strong> <a href="viewtopic.php?id=162768&amp;p=201">201</a> <a href="viewtopic.php?id=162768&amp;p=202">202</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=201">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
