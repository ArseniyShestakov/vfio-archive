<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 18) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=18" title="Page 18" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=17" title="Page 17" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=19" title="Page 19" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=17">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=16">16</a> <a href="viewtopic.php?id=162768&amp;p=17">17</a> <strong>18</strong> <a href="viewtopic.php?id=162768&amp;p=19">19</a> <a href="viewtopic.php?id=162768&amp;p=20">20</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=19">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1312400" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#426</span> <a href="viewtopic.php?pid=1312400#p1312400">2013-08-15 05:37:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73469">Evonat</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-24</span></dd> <dd><span>Posts: 12</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>irtimmer wrote:</cite><blockquote><div><p>I have try this on my new computer (Nvdia GTX 660 and Intel Hasswell 4600). I have patched seabios, qemu and kernel mentioned in the opening post. It works while using the ArchLinux cd but I can&#039;t get it work under Seabios and Windows. It looks like there is still something missing in Seabios to properly initialize the GPU. Using ArchLinux to visualize Linux isn&#039;t very useful for me so I hope someone knows how to fix this. I could of course provide some more debug information if someone can tell me what is useful.</p><p>While running qemu with -vga none it is by default not possible to grab the keyboard and mouse in the Qemu window. After searching for an option to enable this while not using a emulated video card driver I have found somekind of a hack. If you add &#039;-device qxl&#039; to the Qemu command you would get a second video card which is showed in the Qemu window. In my testing it looks it won&#039;t cause conflicts (probably because it doesn&#039;t have a video bios).</p></div></blockquote></div><p>I have a very similar problem: I manage to install windows using a cirrus/qxl/whatever card, and using pci-assign instead of vfio-pci my card works and I can even disable the &quot;secondary display&quot; from Windows so that only my display is on and the QEMU windows stays black.<br />But if I disable whatever graphic card I selected with -vga, Windows doesn&#039;t boot. The display stays black and nothing happens. If I try to gracefully power down QEMU with system_powerdown after a few seconds it turns off, so it&#039;s not like it&#039;s freezed or something.<br />I&#039;d really like to know what is happening, so I even tried to add a secondary qxl adapter with:</p><div class="codebox"><pre><code>-device qxl,bus=root.1,addr=01.0 \ -spice port=54321,disable-ticketing</code></pre></div><p>But I can&#039;t see anything from remote-viewer and I noticed that Windows doesn&#039;t even have the drivers for it (it says it&#039;s an &quot;unknown adapter&quot; from the device manager), so at this point I&#039;m at a loss.<br />I could be happy and start using it with a -vga adapter enabled but disabled from Windows, but it still bothers me.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1312400">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1312459" class="blockpost roweven"> <h2><span><span class="conr">#427</span> <a href="viewtopic.php?pid=1312459#p1312459">2013-08-15 11:00:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Have you guys tried blacklisting the intel driver on the host some people reported problems using it</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1312459">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1312475" class="blockpost rowodd"> <h2><span><span class="conr">#428</span> <a href="viewtopic.php?pid=1312475#p1312475">2013-08-15 12:02:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73469">Evonat</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-24</span></dd> <dd><span>Posts: 12</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I haven&#039;t even compiled them in the kernel, let alone modprobed them!</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1312475">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1312559" class="blockpost roweven"> <h2><span><span class="conr">#429</span> <a href="viewtopic.php?pid=1312559#p1312559">2013-08-15 16:43:24</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73469">Evonat</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-24</span></dd> <dd><span>Posts: 12</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Oh, also, here&#039;s a funny thing: I can boot the guest arch with -vga none only when I&#039;m using the unpatched seabios. I patch it, and the display doesn&#039;t turn on.<br />I guess there must be a problem with the identification of the primary VGA card in the seabios or qemu. I hope I can figure out how the code works and see if I can write me a patch.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1312559">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313007" class="blockpost rowodd"> <h2><span><span class="conr">#430</span> <a href="viewtopic.php?pid=1313007#p1313007">2013-08-16 15:17:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><p>IT WORKS!</p></div></blockquote></div><p>I’ve made a few minor tweaks to my system since the time of my <a href="https://bbs.archlinux.org/viewtopic.php?pid=1304619#p1304619" rel="nofollow">previous posts</a>.&#160; &#160;For those interested, here’s my current setup, which seems to be running Windows 7 Ultimate (64-bit) guests nearly flawlessly:</p><div class="codebox"><pre><code>MB: ASUS M5A99FX PRO R2.0 w/ BIOS v2005 CPU: AMD Phenom II X4 955 RAM: 20 GB DDR3 1600 Host GPU: Radeon HD6670 w/ Catalyst 13.4 driver Guest GPU: Nvidia GTX550Ti w/ Nvidia 331.82 driver Ubuntu 13.10 (fully updated) Kernel 3.12.0 (from Ubuntu kernel-ppa/mainline, no patches) or 3.11.0-14 (from Ubuntu repository, no patches) Qemu 1.7.0 (from ppa:jacob/virtualisation, no patches) or 1.5.0 (from Ubuntu repository, no patches) Seabios 1.7.3 (from Ubuntu repository, no patches)</code></pre></div><p>Using the Nvidia 331.82 driver, I have HDMI audio and a Windows experience score of 7.3 for both desktop graphics and gaming graphics.&#160; My Windows experience scores for processor and memory are 7.3 and 7.5, respectively.&#160; My Windows experience score for disk access is currently an unimpressive 6.0, but I&#039;m sure that score could be improved through many means.&#160; Note that, although kernel 3.11.0-14 (from the Ubuntu repository, no patches) paired with Qemu 1.5.0 (from the Ubuntu repository, no patches) works well with my hardware, mainline kernel 3.12.0 (from Ubuntu kernel-ppa/mainline, no patches) paired with Qemu 1.7.0 (from ppa:jacob/virtualisation, no patches), likely works with a broader range of hardware since the latter combination supports bus reset.&#160; Between these two options, I recommend using mainline kernel 3.12 and Qemu 1.7.0.</p><p>Here are the start up commands that I&#039;m using:</p><div class="codebox"><pre><code>sudo vfio-bind 0000:03:00.0 0000:03:00.1 0000:00:16.0 0000:00:16.2 &amp;&amp; \ sudo qemu-system-x86_64 \ -enable-kvm \ -M q35 \ -m 4096 \ -cpu host \ -daemonize \ -smp 4,sockets=1,cores=4,threads=1 \ -bios /usr/share/qemu/bios.bin \ -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root \ -device vfio-pci,host=03:00.0,bus=root,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=03:00.1,bus=root,addr=00.1 \ -device ahci,bus=pcie.0,id=ahci \ -drive file=/storage/images/Win7HVM.img,id=disk,format=raw \ -device ide-hd,bus=ahci.0,drive=disk \ -device vfio-pci,host=00:16.0,bus=pcie.0 \ -device vfio-pci,host=00:16.2,bus=pcie.0 \</code></pre></div><p>Using BIOS v2005, IOMMU seems to work nearly flawlessly on my ASUS M5A99FX PRO R2.0 motherboard and &quot;dmesg | grep AMD-Vi&quot; gives me the following output:</p><div class="codebox"><pre><code>$ dmesg | grep AMD-Vi [ 1.149303] AMD-Vi: Found IOMMU at 0000:00:00.2 cap 0x40 [ 1.149305] AMD-Vi: Interrupt remapping enabled [ 1.159117] AMD-Vi: Lazy IO/TLB flushing enabled</code></pre></div><p>Since I&#039;m using a stock Ubuntu kernel, which is missing a few components needed for vfio, I added the following to /etc/modules:</p><div class="codebox"><pre><code>pci_stub vfio vfio_iommu_type1 vfio_pci # vfio_pci_vga (For now, this component is in the stock Ubuntu kernel.) kvm kvm_amd</code></pre></div><p>Note that if using an Intel CPU, you would want to replace &quot;kvm_amd&quot; with &quot;kvm_intel&quot; in the /etc/modules file described above.</p><p>After adding the above to /etc/modules, although probably not necessary, I updated initramfs using the following:</p><div class="codebox"><pre><code>sudo update-initramfs -u</code></pre></div><p>So that pci-stub will claim my Nvidia GTX550Ti GPU at boot, I edited my Grub cmdline found in /etc/default/grub to read as follows:</p><div class="codebox"><pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash pci-stub.ids=10de:1244,10de:0bee&quot;</code></pre></div><p>Note that I used lspci to determine the value &quot;10de:1244,10de:0bee&quot; that corresponds to my Nvidia GTX550Ti GPU.</p><p>After editing the Grub cmdline, I updated Grub using the following:</p><div class="codebox"><pre><code>sudo update-grub</code></pre></div><p>After booting with the Grub cmdline edited as above, &quot;dmesg | grep pci-stub&quot; gives me the following output:</p><div class="codebox"><pre><code>$ dmesg | grep pci-stub [ 6.430514] pci-stub: add 10DE:1244 sub=FFFFFFFF:FFFFFFFF cls=00000000/00000000 [ 6.430538] pci-stub 0000:03:00.0: claimed by stub [ 6.430554] pci-stub: add 10DE:0BEE sub=FFFFFFFF:FFFFFFFF cls=00000000/00000000 [ 6.430566] pci-stub 0000:03:00.1: claimed by stub</code></pre></div><p>For the sake of describing with completeness the steps that I took, I&#039;ll add that, following <a href="https://bbs.archlinux.org/viewtopic.php?pid=1268413#p1268413" rel="nofollow">nbhs&#039;s tutorial</a>, I created /usr/bin/vfio-bind, and added to it the following:</p><div class="codebox"><pre><code>#!/bin/bash modprobe vfio-pci for dev in &quot;$@&quot;; do vendor=$(cat /sys/bus/pci/devices/$dev/vendor) device=$(cat /sys/bus/pci/devices/$dev/device) if [ -e /sys/bus/pci/devices/$dev/driver ]; then echo $dev &gt; /sys/bus/pci/devices/$dev/driver/unbind fi echo $vendor $device &gt; /sys/bus/pci/drivers/vfio-pci/new_id done</code></pre></div><p>I changed the file&#039;s permissions to 755:</p><div class="codebox"><pre><code>chmod 755 /usr/bin/vfio-bind</code></pre></div><p>Also following <a href="https://bbs.archlinux.org/viewtopic.php?pid=1268413#p1268413" rel="nofollow">nbhs&#039;s tutorial</a>, I created /etc/vfio-pci.cfg and added to it the following:</p><div class="codebox"><pre><code>DEVICES=&quot;0000:03:00.0 0000:03:00.1 0000:00:16.0 0000:00:16.2&quot;</code></pre></div><p>I used lspci to determine which pci addresses to add to the above file.&#160; The &quot;0000:03:00.0&quot; and &quot;0000:03:00.1&quot; addresses correspond to my Nvidia GTX550Ti&#160; GPU.&#160; The &quot;0000:00:16.0&quot; and &quot;0000:00:16.2&quot; addresses correspond to an otherwise unused USB 2.0 controller, which allows me to pass through a separate keyboard and mouse.&#160; &#160;Of course, other addresses can be added in addition to, or in place of, the above mentioned addresses that I&#039;m using.&#160; But note that, in my case, adding and binding any pci addresses corresponding to any USB 3.0 controller prevents the guest from booting, and at least in a few instances, corrupted my guests, rendering them unbootable.&#160; So use caution if attempting to pass through a USB 3.0 controller.</p><p>Finally, and also following <a href="https://bbs.archlinux.org/viewtopic.php?pid=1268413#p1268413" rel="nofollow">nbhs&#039;s tutorial</a>, I created /etc/systemd/system/binds-vfio-pci.service and added to it the following:</p><div class="codebox"><pre><code>[Unit] Description=Binds devices to vfio-pci After=syslog.target [Service] EnvironmentFile=-/etc/vfio-pci.cfg Type=oneshot RemainAfterExit=yes ExecStart=-/usr/bin/vfio-bind $DEVICES [Install] WantedBy=multi-user.target</code></pre></div><p>As I said, the above setup seems to be running Windows 7 Ultimate (64-bit) guests nearly flawlessly. </p><p>I’ve also managed to passthrough my Nvidia GPU to an Ubuntu 13.10 guest.&#160; The Ubuntu VM starts up and runs reasonably well with GPU passthrough.&#160; However, unlike with the Windows VM, which consistently shuts down without incident for me, the Ubuntu VM often hangs on exit, sometimes requiring reboot of the host to clear the GPU.&#160; Or at least that was the case with Qemu 1.5.&#160; I’ll be testing Ubuntu VMs with Qemu 1.7 soon.</p><p>EDITS:&#160; Updated to reflect that BIOS v2005 cures previously reported IOMMU errors and other small tweaks, including the use of mainline kernel 3.12 and Qemu 1.7.0 from ppa:jacob/virtualisation.</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-12-08 05:22:25)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313007">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313423" class="blockpost roweven"> <h2><span><span class="conr">#431</span> <a href="viewtopic.php?pid=1313423#p1313423">2013-08-17 14:29:20</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=74189">mikeserv</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-08-17</span></dd> <dd><span>Posts: 8</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=74189">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>My config:</p><p>Gigabyte 970A-D3 v3.0 (latest FD firmware)<br />AMD Phenom II X6 1045T 2.7ghz <br />2x8GB DDR3 1600; 2X4GB DDR3 1600 <br />2GB Nvidia GT640 (flashed with GOP compatible rom emailed me from eVGA upon request last year)<br />120GB Kingston SSD + 2X3TB WD Green; bcache + btrfs RAID0 data, RAID1 metadata array</p><p>I&#039;d really like to run the linux hypervisor headless and passthrough the 1 video card to a Windows installation. I&#039;ve seen the 2 gpu requirement a few times in this thread and am curious about it. Why is it necessary if you don&#039;t really care to view the host? Or, if x is a requirement, can I configure the host to use framebuffer only like with xvfb or xvnc?</p><p>-Mike</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313423">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313537" class="blockpost rowodd"> <h2><span><span class="conr">#432</span> <a href="viewtopic.php?pid=1313537#p1313537">2013-08-17 19:31:01</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mikeserv wrote:</cite><blockquote><div><p>I&#039;d really like to run the linux hypervisor headless and passthrough the 1 video card to a Windows installation. I&#039;ve seen the 2 gpu requirement a few times in this thread and am curious about it. Why is it necessary if you don&#039;t really care to view the host? Or, if x is a requirement, can I configure the host to use framebuffer only like with xvfb or xvnc?</p></div></blockquote></div><p>As to whether the VFIO component of KVM will work in a headless mode, I honestly don&#039;t know.&#160; So I&#039;ll leave that question for others to answer.</p><p>Although I can&#039;t directly answer your question, I can offer one possible alternative configuration:&#160; Have you considered installing a cheap video card in your (probably unused) pci slot for use as a &quot;primary&quot; card on your host?</p><p>In my case, I have a cheap &quot;ATI Rage XL Pro&quot; card (about $10 on ebay) installed in an otherwise unused pci slot of a XenServer setup.&#160; &#160;I only use the card to access xsconsole, which is a non-graphical interface, and the card works well for that purpose.&#160; &#160;To make this work, I set my bios to boot pci (rather than pcie) first.</p><p>If your bios allows for selecting pci to boot first, which I think it does, then although not truly headless, you could probably use an &quot;ATI Rage XL Pro&quot;pci graphics card (or possibly something a bit more potent, depending on your needs) as the primary card for your KVM w/VFIO host.&#160; Such a card would not only be cheap, but would also draw very little power.&#160; (Given your goals, you also might want to consider open source <a href="http://www.xenserver.org" rel="nofollow">XenServer</a>.&#160; But that&#039;s another topic.)</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-08-17 19:44:47)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313537">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313543" class="blockpost roweven"> <h2><span><span class="conr">#433</span> <a href="viewtopic.php?pid=1313543#p1313543">2013-08-17 20:02:31</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=74189">mikeserv</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-08-17</span></dd> <dd><span>Posts: 8</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=74189">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I have had very little luck with Xen. Of course I last tried all of this Feb. At the time I couldn&#039;t find a single verifiable report of anyone successfully passing through a Fermi+ Nvidia to a Windows Vista+ guest. If I remember correctly it was due to Seabios memory space limitations and large Nvidia Roms. I requested the GOP ROM specifically in the hopes that qemu&#039;s UEFI firmware at the time could get past that but I got fed up and quit before I tried it.</p><p>Anyway, I kicked myself then (again!) for the GPU impulse buy (dammit Fry&#039;s) and figured I could just wait. I did some cool stuff with multiple lxc guests, vts and XDMCP, which I mean to do again as well... And I checked Google again today just to look for any possible improvements and found this!</p><p>The way I figure it I should be able to both. I was thinking that while the Windows guest ran I wouldn&#039;t have any need of the card because the tv is the machine&#039;s only local display and could power it down, rmmod nvidia, and modprobe pci-stub it, then when wanting to switch back I could reverse that. Too far-fetched?</p><p>Still, I probably should grab a cheap second GPU, I guess. Or maybe a PSU (gotta cheap diablotek 450 that came with the barebones kit now) and a nicer AMD... For Linux the 640 is more than adequate but it&#039;s a dog gaming board... I guess I&#039;d probably need to verify I could keep it cool, too...</p><p>So thanks, Gizmo, I&#039;ll definitely consider your suggestion but would still love to hear from anyone else that may know of a workable single GPU config...</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313543">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313817" class="blockpost rowodd"> <h2><span><span class="conr">#434</span> <a href="viewtopic.php?pid=1313817#p1313817">2013-08-18 16:45:10</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=74223">g.art</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-08-18</span></dd> <dd><span>Posts: 1</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi guys!</p><p>Currently my setup is Host GPU - GTS250 (nouveau), Guest GPU which running Windows 7 Ultimate 64-bit - Radeon 6930. Everything run smooth with VFIO and your guide (thx to nbhs btw). But right now i got Radeon 5850 and i wanna use it as my host GPU, and i&#039;m wondering is it possible to not blacklist the radeon(OSS) module in host? Cause i wanna use it simultanesly with my guest running Windows, like in my current config.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313817">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1313893" class="blockpost roweven"> <h2><span><span class="conr">#435</span> <a href="viewtopic.php?pid=1313893#p1313893">2013-08-18 20:59:15</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53621">teekay</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-10-26</span></dd> <dd><span>Posts: 267</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53621">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>g.art wrote:</cite><blockquote><div><p>Hi guys!</p><p>Currently my setup is Host GPU - GTS250 (nouveau), Guest GPU which running Windows 7 Ultimate 64-bit - Radeon 6930. Everything run smooth with VFIO and your guide (thx to nbhs btw). But right now i got Radeon 5850 and i wanna use it as my host GPU, and i&#039;m wondering is it possible to not blacklist the radeon(OSS) module in host? Cause i wanna use it simultanesly with my guest running Windows, like in my current config.</p></div></blockquote></div><p>You could use pci-stub to &quot;hide&quot; the 6930 from the host&#039;s radeon driver. It&#039;s also explained in the guide how to do that.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1313893">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1315129" class="blockpost rowodd"> <h2><span><span class="conr">#436</span> <a href="viewtopic.php?pid=1315129#p1315129">2013-08-21 20:09:52</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53621">teekay</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-10-26</span></dd> <dd><span>Posts: 267</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53621">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Am I the only one who gets BSODs with a message like &quot;your system BIOS is not fully ACPI compilant&quot; when using Qemu 1.6.0 and seabios 1.7.2.2 patched?<br />Seabios 1.7.3-stable branch works fine here with Qemu 1.6.0 (and the patch is included there).</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1315129">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1315180" class="blockpost roweven"> <h2><span><span class="conr">#437</span> <a href="viewtopic.php?pid=1315180#p1315180">2013-08-21 22:27:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>teekay wrote:</cite><blockquote><div><p>Am I the only one who gets BSODs with a message like &quot;your system BIOS is not fully ACPI compilant&quot; when using Qemu 1.6.0 and seabios 1.7.2.2 patched?<br />Seabios 1.7.3-stable branch works fine here with Qemu 1.6.0 (and the patch is included there).</p></div></blockquote></div><p>I can&#039;t say if you&#039;re the only one, but those packages work fine for me:</p><div class="codebox"><pre><code>seabios 1.7.2.2-1 qemu-vga-current 1.6.0.g7b4b0e9-1</code></pre></div> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1315180">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1317963" class="blockpost rowodd"> <h2><span><span class="conr">#438</span> <a href="viewtopic.php?pid=1317963#p1317963">2013-08-28 03:25:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=69685">Chetyre</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-03-27</span></dd> <dd><span>Posts: 34</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=69685">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi,</p><p>I installed the patched kernel + qemu + seabios, but when I try intel_iommu=on, it gets stuck with a bunch of &quot;buffer io error on device dm-3&quot;. with intel_iommu=off it boots correctly, but then I can&#039;t find the iommu groups or something and vfio-pci won&#039;t work. </p><p>What could be wrong?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1317963">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318480" class="blockpost roweven"> <h2><span><span class="conr">#439</span> <a href="viewtopic.php?pid=1318480#p1318480">2013-08-29 11:27:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><p>Hi,</p><p>I installed the patched kernel + qemu + seabios, but when I try intel_iommu=on, it gets stuck with a bunch of &quot;buffer io error on device dm-3&quot;. with intel_iommu=off it boots correctly, but then I can&#039;t find the iommu groups or something and vfio-pci won&#039;t work. </p><p>What could be wrong?</p></div></blockquote></div><p>It could be like in the case of andy123, the sata controller isnt working properly with iommu enabled.</p> <p class="postedit"><em>Last edited by nbhs (2013-08-29 11:27:39)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318480">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318492" class="blockpost rowodd"> <h2><span><span class="conr">#440</span> <a href="viewtopic.php?pid=1318492#p1318492">2013-08-29 11:54:47</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=69685">Chetyre</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-03-27</span></dd> <dd><span>Posts: 34</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=69685">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><p>Hi,</p><p>I installed the patched kernel + qemu + seabios, but when I try intel_iommu=on, it gets stuck with a bunch of &quot;buffer io error on device dm-3&quot;. with intel_iommu=off it boots correctly, but then I can&#039;t find the iommu groups or something and vfio-pci won&#039;t work. </p><p>What could be wrong?</p></div></blockquote></div><p>It could be like in the case of andy123, the sata controller isnt working properly with iommu enabled.</p></div></blockquote></div><br /><p>Did he find a solution? Because if I can&#039;t turn iommu on then vfio won&#039;t work right? My motherboard is an Asrock Z77 Extreme4, with two controllers, an intel one and an asmedia one. The intel controller is bound to pci-back. </p><p>I&#039;m not really sure where to begin with this.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318492">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318497" class="blockpost roweven"> <h2><span><span class="conr">#441</span> <a href="viewtopic.php?pid=1318497#p1318497">2013-08-29 12:15:02</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><p>Hi,</p><p>I installed the patched kernel + qemu + seabios, but when I try intel_iommu=on, it gets stuck with a bunch of &quot;buffer io error on device dm-3&quot;. with intel_iommu=off it boots correctly, but then I can&#039;t find the iommu groups or something and vfio-pci won&#039;t work. </p><p>What could be wrong?</p></div></blockquote></div><p>It could be like in the case of andy123, the sata controller isnt working properly with iommu enabled.</p></div></blockquote></div><br /><p>Did he find a solution? Because if I can&#039;t turn iommu on then vfio won&#039;t work right? My motherboard is an Asrock Z77 Extreme4, with two controllers, an intel one and an asmedia one. The intel controller is bound to pci-back. </p><p>I&#039;m not really sure where to begin with this.</p></div></blockquote></div><p>pci-back i a xen module, you shouldnt bind anything to it</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318497">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318501" class="blockpost rowodd"> <h2><span><span class="conr">#442</span> <a href="viewtopic.php?pid=1318501#p1318501">2013-08-29 12:17:46</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=69685">Chetyre</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-03-27</span></dd> <dd><span>Posts: 34</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=69685">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>It could be like in the case of andy123, the sata controller isnt working properly with iommu enabled.</p></div></blockquote></div><br /><p>Did he find a solution? Because if I can&#039;t turn iommu on then vfio won&#039;t work right? My motherboard is an Asrock Z77 Extreme4, with two controllers, an intel one and an asmedia one. The intel controller is bound to pci-back. </p><p>I&#039;m not really sure where to begin with this.</p></div></blockquote></div><p>pci-back i a xen module, you shouldnt bind anything to it</p></div></blockquote></div><br /><p>sorry, I&#039;m still using xen so I got confused. I meant pci-stub.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318501">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318514" class="blockpost roweven"> <h2><span><span class="conr">#443</span> <a href="viewtopic.php?pid=1318514#p1318514">2013-08-29 13:15:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>Chetyre wrote:</cite><blockquote><div><br /><p>Did he find a solution? Because if I can&#039;t turn iommu on then vfio won&#039;t work right? My motherboard is an Asrock Z77 Extreme4, with two controllers, an intel one and an asmedia one. The intel controller is bound to pci-back. </p><p>I&#039;m not really sure where to begin with this.</p></div></blockquote></div><p>pci-back i a xen module, you shouldnt bind anything to it</p></div></blockquote></div><br /><p>sorry, I&#039;m still using xen so I got confused. I meant pci-stub.</p></div></blockquote></div><p>Have you tried booting without binding the controller to pci-stub?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318514">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318538" class="blockpost rowodd"> <h2><span><span class="conr">#444</span> <a href="viewtopic.php?pid=1318538#p1318538">2013-08-29 14:49:02</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I got different error messages, but if it is similar to my case you could try detaching all drives from one controller and booting and if you still get errors try the other controller.<br />My &quot;solution&quot; to the problem is: not using the second sata controller. If it turns out you really have the exact same problem, then you are lucky, because there is a patch for it for intel hardware (not for amd, which I use).</p> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318538">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1318766" class="blockpost roweven"> <h2><span><span class="conr">#445</span> <a href="viewtopic.php?pid=1318766#p1318766">2013-08-29 23:16:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=69685">Chetyre</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-03-27</span></dd> <dd><span>Posts: 34</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=69685">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Ok, I tried both your suggestions, but still the same thing.</p><p>I managed to boot with intel_iommu=on ONCE, but only after I removed everything from pci-stub.ids. but as I said it only worked once, and then I just got a black screen with nothing in it. but when I do that I can change to tty1, but it just stays there doing nothing</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1318766">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1319392" class="blockpost rowodd"> <h2><span><span class="conr">#446</span> <a href="viewtopic.php?pid=1319392#p1319392">2013-08-31 20:52:05</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=61151">Lekensteyn</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: Netherlands</span></dd> <dd><span>Registered: 2012-06-19</span></dd> <dd><span>Posts: 179</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:peter@lekensteyn.nl">Email</a></span> <span class="website"><a href="https://lekensteyn.nl/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I am new to this IOMMU thing, just installed an i7 3770 on a GA-Z68X-UD3H-B3 (rev 1.3), BIOS U1l. Using -device pci-assign,host=xx:yy.z successfully passes a USB controller and NIC (when ran as root).</p><p>After looking around, it seems that &quot;VFIO&quot; must be used for passing a VGA card, but I cannot simply unbind all devices under an IOMMU group, that will render me without networking and disk! Can you (desktop owners, not laptop) post the output of:</p><div class="codebox"><pre><code>(for i in /sys/kernel/iommu_groups/*;do echo &quot;IOMMU: $i&quot;;for dev in $i/devices/*;do lspci -s &quot;${dev##*/}&quot;; done; echo;done)</code></pre></div><p>Output for my machine:</p><div class="codebox"><pre class="vscroll"><code>IOMMU: /sys/kernel/iommu_groups/0 00:00.0 Host bridge: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor DRAM Controller (rev 09) IOMMU: /sys/kernel/iommu_groups/1 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller (rev 09) IOMMU: /sys/kernel/iommu_groups/2 00:1a.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #2 (rev 05) IOMMU: /sys/kernel/iommu_groups/3 00:1b.0 Audio device: Intel Corporation 6 Series/C200 Series Chipset Family High Definition Audio Controller (rev 05) IOMMU: /sys/kernel/iommu_groups/4 00:1c.0 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 1 (rev b5) 00:1c.3 PCI bridge: Intel Corporation 82801 PCI Bridge (rev b5) 00:1c.4 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 5 (rev b5) 00:1c.5 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 6 (rev b5) 00:1c.6 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 7 (rev b5) 00:1c.7 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 8 (rev b5) 02:00.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 30) 03:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8169 PCI Gigabit Ethernet Controller (rev 10) 04:00.0 USB controller: Etron Technology, Inc. EJ168 USB 3.0 Host Controller (rev 01) 05:00.0 USB controller: Etron Technology, Inc. EJ168 USB 3.0 Host Controller (rev 01) 06:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 06) 07:00.0 SATA controller: Marvell Technology Group Ltd. 88SE9172 SATA 6Gb/s Controller (rev 11) IOMMU: /sys/kernel/iommu_groups/5 00:1d.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #1 (rev 05) IOMMU: /sys/kernel/iommu_groups/6 00:1f.0 ISA bridge: Intel Corporation Z68 Express Chipset Family LPC Controller (rev 05) 00:1f.2 SATA controller: Intel Corporation 6 Series/C200 Series Chipset Family SATA AHCI Controller (rev 05) 00:1f.3 SMBus: Intel Corporation 6 Series/C200 Series Chipset Family SMBus Controller (rev 05)</code></pre></div><p>There is no discrete video card attached, I first need to get these groups more sane.</p><p>Edit:<br />I just noticed that the devices are either located under bus 00, device 1c or that they are the 00:1c.x device. From <a href="http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM" rel="nofollow">http://www.linux-kvm.org/page/How_to_as … T-d_in_KVM</a>: <em>VT-d spec specifies that all conventional PCI devices behind a PCIe-to PCI/PCI-X bridge or conventional PCI bridge can only be collectively assigned to the same guest. PCIe devices do not have this restriction.</em></p><p>Am I out of luck then with this motherboard?</p> <p class="postedit"><em>Last edited by Lekensteyn (2013-08-31 21:30:09)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1319392">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1319488" class="blockpost roweven"> <h2><span><span class="conr">#447</span> <a href="viewtopic.php?pid=1319488#p1319488">2013-09-01 03:58:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Mine does suffer from it fortunately there&#039;s a kernel ivrs override parameter (from kernel 3.10 up) in the kernel to work arround the interrupt remmaping issue</p></div></blockquote></div><p>Yep, I saw your earlier post:</p><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You&#039;ll need to add &quot;ivrs_ioapic[9]=00:14.0 ivrs_ioapic[10]=00:00.1&quot; to your grub configuration, also you&#039;ll need either kernel 3.10 or 3.9 with this patch&#160; <a href="http://www.filesend.net/download.php?f=1235d9b1277c65672c3d01a6933f9356" rel="nofollow">amd_iommu_fixes.patch.tar.gz</a>, this will enable interrupt remapping on your board so you wont need this line anymore: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div></div></blockquote></div><p>My motherboard&#039;s IVRS&#160; errors seem to be slightly different from your motherboard&#039;s IVRS errors.&#160; My board&#039;s errors include:&#160; 1)&#160; &quot;ivrs_ioapic[5] not in IVRS table&quot;;&#160; 2)&#160; &quot;ivrs_ioapic[6] not in IVRS table&quot; and 3) &quot;No southbridge IOAPIC found&quot;&#160; I&#039;m not sure how to determine what addresses correspond to the &quot;ivrs_ioapic[5]&quot; and &quot;ivrs_ioapic[6]&quot; errors on my board.</p><p>How did you determine that ivrs_ioapic[9] corresponds to 00:14.0 and that ivrs_ioapic[10] corresponds to 00:00.1 on your board?</p></div></blockquote></div><p>yeah its got to do with the number of cpu cores on your board just add ivrs_ioapic[5]=00:14.0 ivrs_ioapic[6]=00:00.1 as a kernel parameter to grub and you&#039;re done, once you get it working remove this line: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div><p>Im not going to write anything to Asus anymore this is my last board from them, they dont support linux, and they dont care fixing anything after the release, my next MB will be Gigabyte</p></div></blockquote></div><p>In capitulation to my repeated nagging and pestering, ASUS finally sent me a patched BIOS (M5A99FX-PRO-R20-ASUS-9903.CAP) that attempts to address the IVRS&#160; errors that I was having with my ASUS M5A99FX PRO R2.0 motherboard.&#160; </p><p>Much to my surprise and satisfaction, the patched BIOS resolves ALL the IVRS&#160; errors that I had with my motherboard, eliminating the need for the kernel IVRS override.&#160; Yippee!</p><p>The support rep couldn&#039;t tell me when a version of the BIOS that includes the patch will be available for download from ASUS.&#160; Hopefully soon.</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-09-01 08:44:36)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1319488">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1319554" class="blockpost rowodd"> <h2><span><span class="conr">#448</span> <a href="viewtopic.php?pid=1319554#p1319554">2013-09-01 10:59:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Lekensteyn wrote:</cite><blockquote><div><p>I am new to this IOMMU thing, just installed an i7 3770 on a GA-Z68X-UD3H-B3 (rev 1.3), BIOS U1l. Using -device pci-assign,host=xx:yy.z successfully passes a USB controller and NIC (when ran as root).</p><p>After looking around, it seems that &quot;VFIO&quot; must be used for passing a VGA card, but I cannot simply unbind all devices under an IOMMU group, that will render me without networking and disk! Can you (desktop owners, not laptop) post the output of:</p><div class="codebox"><pre><code>(for i in /sys/kernel/iommu_groups/*;do echo &quot;IOMMU: $i&quot;;for dev in $i/devices/*;do lspci -s &quot;${dev##*/}&quot;; done; echo;done)</code></pre></div><p>Output for my machine:</p><div class="codebox"><pre class="vscroll"><code>IOMMU: /sys/kernel/iommu_groups/0 00:00.0 Host bridge: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor DRAM Controller (rev 09) IOMMU: /sys/kernel/iommu_groups/1 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller (rev 09) IOMMU: /sys/kernel/iommu_groups/2 00:1a.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #2 (rev 05) IOMMU: /sys/kernel/iommu_groups/3 00:1b.0 Audio device: Intel Corporation 6 Series/C200 Series Chipset Family High Definition Audio Controller (rev 05) IOMMU: /sys/kernel/iommu_groups/4 00:1c.0 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 1 (rev b5) 00:1c.3 PCI bridge: Intel Corporation 82801 PCI Bridge (rev b5) 00:1c.4 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 5 (rev b5) 00:1c.5 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 6 (rev b5) 00:1c.6 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 7 (rev b5) 00:1c.7 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 8 (rev b5) 02:00.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 30) 03:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8169 PCI Gigabit Ethernet Controller (rev 10) 04:00.0 USB controller: Etron Technology, Inc. EJ168 USB 3.0 Host Controller (rev 01) 05:00.0 USB controller: Etron Technology, Inc. EJ168 USB 3.0 Host Controller (rev 01) 06:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 06) 07:00.0 SATA controller: Marvell Technology Group Ltd. 88SE9172 SATA 6Gb/s Controller (rev 11) IOMMU: /sys/kernel/iommu_groups/5 00:1d.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #1 (rev 05) IOMMU: /sys/kernel/iommu_groups/6 00:1f.0 ISA bridge: Intel Corporation Z68 Express Chipset Family LPC Controller (rev 05) 00:1f.2 SATA controller: Intel Corporation 6 Series/C200 Series Chipset Family SATA AHCI Controller (rev 05) 00:1f.3 SMBus: Intel Corporation 6 Series/C200 Series Chipset Family SMBus Controller (rev 05)</code></pre></div><p>There is no discrete video card attached, I first need to get these groups more sane.</p><p>Edit:<br />I just noticed that the devices are either located under bus 00, device 1c or that they are the 00:1c.x device. From <a href="http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM" rel="nofollow">http://www.linux-kvm.org/page/How_to_as … T-d_in_KVM</a>: <em>VT-d spec specifies that all conventional PCI devices behind a PCIe-to PCI/PCI-X bridge or conventional PCI bridge can only be collectively assigned to the same guest. PCIe devices do not have this restriction.</em></p><p>Am I out of luck then with this motherboard?</p></div></blockquote></div><p>See: <a href="https://bbs.archlinux.org/viewtopic.php?pid=1307091#p1307091" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 1#p1307091</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1319554">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1319555" class="blockpost roweven"> <h2><span><span class="conr">#449</span> <a href="viewtopic.php?pid=1319555#p1319555">2013-09-01 11:00:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><p>Yep, I saw your earlier post:</p><br /><br /><p>My motherboard&#039;s IVRS&#160; errors seem to be slightly different from your motherboard&#039;s IVRS errors.&#160; My board&#039;s errors include:&#160; 1)&#160; &quot;ivrs_ioapic[5] not in IVRS table&quot;;&#160; 2)&#160; &quot;ivrs_ioapic[6] not in IVRS table&quot; and 3) &quot;No southbridge IOAPIC found&quot;&#160; I&#039;m not sure how to determine what addresses correspond to the &quot;ivrs_ioapic[5]&quot; and &quot;ivrs_ioapic[6]&quot; errors on my board.</p><p>How did you determine that ivrs_ioapic[9] corresponds to 00:14.0 and that ivrs_ioapic[10] corresponds to 00:00.1 on your board?</p></div></blockquote></div><p>yeah its got to do with the number of cpu cores on your board just add ivrs_ioapic[5]=00:14.0 ivrs_ioapic[6]=00:00.1 as a kernel parameter to grub and you&#039;re done, once you get it working remove this line: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div><p>Im not going to write anything to Asus anymore this is my last board from them, they dont support linux, and they dont care fixing anything after the release, my next MB will be Gigabyte</p></div></blockquote></div><p>In capitulation to my repeated nagging and pestering, ASUS finally sent me a patched BIOS (M5A99FX-PRO-R20-ASUS-9903.CAP) that attempts to address the IVRS&#160; errors that I was having with my ASUS M5A99FX PRO R2.0 motherboard.&#160; </p><p>Much to my surprise and satisfaction, the patched BIOS resolves ALL the IVRS&#160; errors that I had with my motherboard, eliminating the need for the kernel IVRS override.&#160; Yippee!</p><p>The support rep couldn&#039;t tell me when a version of the BIOS that includes the patch will be available for download from ASUS.&#160; Hopefully soon.</p></div></blockquote></div><p>That is good news! i wonder if they&#039;ll release an updated bios for the rest of their boards with this issue</p> <p class="postedit"><em>Last edited by nbhs (2013-09-01 11:00:58)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1319555">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1319587" class="blockpost rowodd"> <h2><span><span class="conr">#450</span> <a href="viewtopic.php?pid=1319587#p1319587">2013-09-01 14:09:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=61151">Lekensteyn</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: Netherlands</span></dd> <dd><span>Registered: 2012-06-19</span></dd> <dd><span>Posts: 179</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:peter@lekensteyn.nl">Email</a></span> <span class="website"><a href="https://lekensteyn.nl/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>Lekensteyn wrote:</cite><blockquote><div><p>[..]<br />I just noticed that the devices are either located under bus 00, device 1c or that they are the 00:1c.x device. From <a href="http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM" rel="nofollow">http://www.linux-kvm.org/page/How_to_as … T-d_in_KVM</a>: <em>VT-d spec specifies that all conventional PCI devices behind a PCIe-to PCI/PCI-X bridge or conventional PCI bridge can only be collectively assigned to the same guest. PCIe devices do not have this restriction.</em></p><p>Am I out of luck then with this motherboard?</p></div></blockquote></div><p>See: <a href="https://bbs.archlinux.org/viewtopic.php?pid=1307091#p1307091" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 1#p1307091</a></p></div></blockquote></div><p>Thank you, I encountered these patches earlier today. Perhaps someone could edit the first post to make a note of this patch?</p><p>Note: this may break the safety provided by IOMMU, devices can bypass the IOMMU and reach other devices in the same IOMMU domain. Though when compared with pci-assign, it is not that bad. (pci-assign requires you running as root to access the full PCI config space (which requires CAP_SYS_ADMIN)). See also <a href="http://www.linux-kvm.org/wiki/images/b/b4/2012-forum-VFIO.pdf" rel="nofollow">http://www.linux-kvm.org/wiki/images/b/ … m-VFIO.pdf</a>, page 29.</p> <p class="postedit"><em>Last edited by Lekensteyn (2013-09-01 14:36:42)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1319587">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=17">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=16">16</a> <a href="viewtopic.php?id=162768&amp;p=17">17</a> <strong>18</strong> <a href="viewtopic.php?id=162768&amp;p=19">19</a> <a href="viewtopic.php?id=162768&amp;p=20">20</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=19">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
