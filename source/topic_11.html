<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 11) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=11" title="Page 11" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=10" title="Page 10" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=12" title="Page 12" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=10">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=9">9</a> <a href="viewtopic.php?id=162768&amp;p=10">10</a> <strong>11</strong> <a href="viewtopic.php?id=162768&amp;p=12">12</a> <a href="viewtopic.php?id=162768&amp;p=13">13</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=12">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1301718" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#251</span> <a href="viewtopic.php?pid=1301718#p1301718">2013-07-18 21:22:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73162">myweb</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-13</span></dd> <dd><span>Posts: 68</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73162">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>/run/media/user/CopiedData - is a hard drive with NTFS filesystem (/ is placed on SSD, soft archive, media, etc on usual hard drive)<br />I have tried vice versa: place installation image on SSD and windows to hard drive - 10 minutes passed and partitioning window is shown.<br />I also tried place windows to SSD and installation image to RAM disk - result is the same - freeze.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301718">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301722" class="blockpost roweven"> <h2><span><span class="conr">#252</span> <a href="viewtopic.php?pid=1301722#p1301722">2013-07-18 21:29:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>myweb wrote:</cite><blockquote><div><p>/run/media/user/CopiedData - is a hard drive with NTFS filesystem (/ is placed on SSD, soft archive, media, etc on usual hard drive)<br />I have tried vice versa: place installation image on SSD and windows to hard drive - 10 minutes passed and partitioning window is shown.<br />I also tried place windows to SSD and installation image to RAM disk - result is the same - freeze.</p></div></blockquote></div><p>Does this also happen using the the ide or virtio controller instead of ahci?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301722">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301724" class="blockpost rowodd"> <h2><span><span class="conr">#253</span> <a href="viewtopic.php?pid=1301724#p1301724">2013-07-18 21:34:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73162">myweb</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-13</span></dd> <dd><span>Posts: 68</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73162">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I tried to execute with virtio:</p><p>qemu-system-x86_64 -M q35&#160; -m 4096&#160; -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device ahci,bus=pcie.0,id=ahci \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd -device ide-cd,bus=ahci.1,drive=isocd \<br />-drive if=none,id=drive0,cache=none,aio=native,format=raw,file=/home/abrilevskiy/windows.img \<br />-device virtio-blk,drive=drive0,scsi=off,config-wce=off,x-data-plane=on</p><p>windows installer does not recognize any hard drive</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301724">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301728" class="blockpost roweven"> <h2><span><span class="conr">#254</span> <a href="viewtopic.php?pid=1301728#p1301728">2013-07-18 21:38:20</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>myweb wrote:</cite><blockquote><div><p>I tried to execute with virtio:</p><p>qemu-system-x86_64 -M q35&#160; -m 4096&#160; -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device ahci,bus=pcie.0,id=ahci \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd -device ide-cd,bus=ahci.1,drive=isocd \<br />-drive if=none,id=drive0,cache=none,aio=native,format=raw,file=/home/abrilevskiy/windows.img \<br />-device virtio-blk,drive=drive0,scsi=off,config-wce=off,x-data-plane=on</p><p>windows installer does not recognize any hard drive</p></div></blockquote></div><p>Try the ide controller, its on the guide, im really not sure whats causing your problem, i think another user had the same problem a few pages back, if that doesnt work try using the old chipset (remove the -M q35 part)</p> <p class="postedit"><em>Last edited by nbhs (2013-07-18 21:39:47)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301728">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301735" class="blockpost rowodd"> <h2><span><span class="conr">#255</span> <a href="viewtopic.php?pid=1301735#p1301735">2013-07-18 21:53:35</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73162">myweb</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-13</span></dd> <dd><span>Posts: 68</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73162">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I tried:<br />qemu-system-x86_64 -m 4096&#160; -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device piix4-ide -boot d \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd \<br />-drive file=/home/abrilevskiy/windows.img,if=ide,format=raw,index=2</p><p>but VM could not boot: boot drive is not found</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301735">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301743" class="blockpost roweven"> <h2><span><span class="conr">#256</span> <a href="viewtopic.php?pid=1301743#p1301743">2013-07-18 22:11:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73162">myweb</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-13</span></dd> <dd><span>Posts: 68</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73162">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>It looks like I mistaken with parameters.</p><p>qemu-system-x86_64 -m 4096&#160; -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device piix4-ide -boot d \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd&#160; -device ide-cd,bus=ide.1,drive=isocd \<br />-drive file=/home/abrilevskiy/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk</p><p>but I receive: qemu-system-x86_64: -device ide-cd,bus=ide.1,drive=isocd: Property &#039;ide-cd.drive&#039; can&#039;t take value &#039;isocd&#039;, it&#039;s in use</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301743">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301744" class="blockpost rowodd"> <h2><span><span class="conr">#257</span> <a href="viewtopic.php?pid=1301744#p1301744">2013-07-18 22:13:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>myweb wrote:</cite><blockquote><div><p>I tried:<br />qemu-system-x86_64 -m 4096&#160; -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device piix4-ide -boot d \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd \<br />-drive file=/home/abrilevskiy/windows.img,if=ide,format=raw,index=2</p><p>but VM could not boot: boot drive is not found</p></div></blockquote></div><div class="codebox"><pre><code>qemu-system-x86_64 -m 1024 -M q35 -enable-kvm -boot menu=on -cpu host -device piix4-ide,bus=pcie.0 -drive file=/home/nbhs/windows.img,id=windisk,format=raw -device ide-hd,bus=ide.0,drive=windisk -drive file=/home/nbhs/windows8.iso,id=isocd -device ide-cd,bus=ide.1,drive=isocd</code></pre></div><p>works for me</p><p>EDIT:</p><div class="codebox"><pre><code>qemu-system-x86_64 -m 1024 -enable-kvm -boot menu=on -cpu host -hda /home/nbhs/windows.img -cdrom windows8.iso</code></pre></div><p>also works (-hda and -cdrom wont work using the q35 chipset), to use virtio i think all you need to do is add if=virtio at the end and it will automatically add the virtio controller too., tho you&#039;ll probably need the drivers, ex:</p><div class="codebox"><pre><code>qemu-system-x86_64 -m 1024 -enable-kvm -boot menu=on -cpu host -drive file=/home/nbhs/windows.img,id=windisk,format=raw,if=virtio -drive file=/home/nbhs/windows8.iso,id=isocd,if=virtio</code></pre></div> <p class="postedit"><em>Last edited by nbhs (2013-07-18 22:26:56)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301744">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301747" class="blockpost roweven"> <h2><span><span class="conr">#258</span> <a href="viewtopic.php?pid=1301747#p1301747">2013-07-18 22:19:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73162">myweb</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-13</span></dd> <dd><span>Posts: 68</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73162">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>qemu-system-x86_64 -m 4096&#160; -M q35 -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device piix4-ide -boot menu=on \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd&#160; -device ide-cd,bus=ide.1,drive=isocd \<br />-drive file=/home/abrilevskiy/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk</p><p>works for me, thank you!</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301747">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1301750" class="blockpost rowodd"> <h2><span><span class="conr">#259</span> <a href="viewtopic.php?pid=1301750#p1301750">2013-07-18 22:25:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>myweb wrote:</cite><blockquote><div><p>qemu-system-x86_64 -m 4096&#160; -M q35 -enable-kvm -cpu host&#160; \<br />-smp 2,sockets=1,cores=2,threads=1 -vga std \<br />-L ~/tmp/src/seabios-1.7.3/out/ \<br />-device piix4-ide -boot menu=on \<br />-drive file=/home/abrilevskiy/ramdisk/9200.16384.120725-1247_x64frev_Enterprise_VL_HRM_CENA_X64FREV_EN-US_DVD.iso,id=isocd&#160; -device ide-cd,bus=ide.1,drive=isocd \<br />-drive file=/home/abrilevskiy/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk</p><p>works for me, thank you!</p></div></blockquote></div><p>No problem once you install it you might want to use virtio drivers, or the ahci controller, see my edited post above.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1301750">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1303688" class="blockpost roweven"> <h2><span><span class="conr">#260</span> <a href="viewtopic.php?pid=1303688#p1303688">2013-07-24 14:18:43</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73469">Evonat</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-24</span></dd> <dd><span>Posts: 12</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Soon I will have the necessary equipment to do this, but aside from the VGA I&#039;m interestend in passing through my PCIe audio device.<br />I&#039;ve got an Asus Xonar Essence STX and the motherboard&#039;s integrated sound.<br />I&#039;d like to use the latter for the host and a Windows VM, reserving the former for a specific Linux VM.<br />I&#039;d connect my headphones to the Xonar.<br />Is such a configuration even possible, or I should just give up and connect my headphones to the internal audio (and that won&#039;t do)?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1303688">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1303692" class="blockpost rowodd"> <h2><span><span class="conr">#261</span> <a href="viewtopic.php?pid=1303692#p1303692">2013-07-24 14:35:58</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Evonat wrote:</cite><blockquote><div><p>Soon I will have the necessary equipment to do this, but aside from the VGA I&#039;m interestend in passing through my PCIe audio device.<br />I&#039;ve got an Asus Xonar Essence STX and the motherboard&#039;s integrated sound.<br />I&#039;d like to use the latter for the host and a Windows VM, reserving the former for a specific Linux VM.<br />I&#039;d connect my headphones to the Xonar.<br />Is such a configuration even possible, or I should just give up and connect my headphones to the internal audio (and that won&#039;t do)?</p></div></blockquote></div><p>Well it should be possible, i am able to passthrough my integrated sound card to a vm and it works fine</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1303692">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1303847" class="blockpost roweven"> <h2><span><span class="conr">#262</span> <a href="viewtopic.php?pid=1303847#p1303847">2013-07-25 00:54:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=16709">reacocard</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/16709.png?m=1369614080" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2008-05-25</span></dd> <dd><span>Posts: 20</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:reacocard@reacocard.com">Email</a></span> <span class="website"><a href="http://www.reacocard.com" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Evonat wrote:</cite><blockquote><div><p>Soon I will have the necessary equipment to do this, but aside from the VGA I&#039;m interestend in passing through my PCIe audio device.<br />I&#039;ve got an Asus Xonar Essence STX and the motherboard&#039;s integrated sound.<br />I&#039;d like to use the latter for the host and a Windows VM, reserving the former for a specific Linux VM.<br />I&#039;d connect my headphones to the Xonar.<br />Is such a configuration even possible, or I should just give up and connect my headphones to the internal audio (and that won&#039;t do)?</p></div></blockquote></div><p>You can probably pass-through the second card just fine like any other pci device. As far as the headphones go, if you want audio from both cards I&#039;d suggest either just combining the outputs by cables with something like this <a href="http://amzn.com/B0016LDZ36" rel="nofollow">http://amzn.com/B0016LDZ36</a> or connecting the line-out of the integrated audio to the line-in on the Xonar. The latter method has the downside that audio from the integrated card becomes dependent on the proper operation of the VM with the Xonar however.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1303847">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304181" class="blockpost rowodd"> <h2><span><span class="conr">#263</span> <a href="viewtopic.php?pid=1304181#p1304181">2013-07-26 00:54:15</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p><strong>Testing if its working out</strong></p><p>Lets test if its working, as root:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=07:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=07:00.1,bus=root.1,addr=00.1</code></pre></div><p>[...]</p><p>You should see a black qemu window on your main display, and seabios ouput on your monitor from your passthru&#039;d card saying it cant find anything to boot.<br />Its important to use -M q35 which is the new qemu emulated intel chipset with pcie support, <br />&quot;-device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1&quot; creates a pcie root port and we attach our gpu to it. <br />We must also use x-vga=on option on our gpu (and -vga none) otherwise it wont work</p></div></blockquote></div><br /><p>@nbhs:</p><p>This is a GREAT tutorial.&#160; Thanks so much for creating it!</p><p>Because I&#039;m not quite ready to invest the time into applying the suggested patches, I thought I&#039;d test my luck by trying this tutorial on a daily build of Ubuntu 13.10 that included the following, but without any patches:</p><div class="codebox"><pre><code>Mainline Kernel 3.11 RC2 qemu 1.5.0 seabios 1.7.3</code></pre></div><p>And I added the following to /etc/modules:&#160; </p><div class="codebox"><pre><code>vfio vfio_iommu_type1 vfio_pci pci_stub kvm kvm_amd</code></pre></div><p>THE GOOD NEWS:&#160; Even without the patches or custom kernel, the above suggested test was successful.&#160; That is, I saw the black qemu window on my main display, and seabios ouput on my monitor from my passthru&#039;d card saying it cant find anything to boot.&#160; So far, so good.</p><p>Now to try booting a VM:</p><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p><strong>DISK:</strong> </p><p><strong>Creating and passing a disk image to qemu:</strong></p><p>By default -M q35 creates an emulated sata controller, but it seems its not working on windows yet, so we attach the old ahci controller:</p><div class="codebox"><pre><code>-device ahci,bus=pcie.0,id=ahci</code></pre></div><p>[...]</p><p>And attach a disk to it:</p><div class="codebox"><pre><code>-drive file=/home/nbhs/windows.img,id=disk,format=raw -device ide-hd,bus=ahci.0,drive=disk</code></pre></div></div></blockquote></div><br /><p>I had previously created a Windows 7 HVM using Virt-Manager under KVM (but without vfio), and so I plugged into the above the appropriate path to the Windows 7 image.&#160; &#160;Much to my delight, when I attempted to boot the HVM, the monitor from my passthru&#039;d card displayed boot information after which the Windows 7 welcome screen appeared for a few seconds.&#160; &#160;But just when I was about to celebrate.... BSOD.</p><p>So I&#039;m wondering:</p><p>(1)&#160; Am I mistaken to think that, barring other problems, the Windows 7 HVM that I previously created using Virt-Manager under KVM should boot?</p><p>(2) Provided that the Windows 7 HVM that I created as described above should boot, what is the likelihood that the recommended patches will cure the BSOD that I&#039;m experiencing?&#160; That is, were either of the patches created to address issues that arise late into the boot phase, like I&#039;m experiencing?&#160; Or were the patches created to address different issues?</p><br /><p>UPDATE:&#160; I managed to get this working.&#160; &#160;Have a look <a href="https://bbs.archlinux.org/viewtopic.php?pid=1304619#p1304619" rel="nofollow">HERE</a> for details.</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-07-27 06:48:54)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304181">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304186" class="blockpost roweven"> <h2><span><span class="conr">#264</span> <a href="viewtopic.php?pid=1304186#p1304186">2013-07-26 01:23:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p><strong>Testing if its working out</strong></p><p>Lets test if its working, as root:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 1024 -cpu host \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=07:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=07:00.1,bus=root.1,addr=00.1</code></pre></div><p>[...]</p><p>You should see a black qemu window on your main display, and seabios ouput on your monitor from your passthru&#039;d card saying it cant find anything to boot.<br />Its important to use -M q35 which is the new qemu emulated intel chipset with pcie support, <br />&quot;-device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1&quot; creates a pcie root port and we attach our gpu to it. <br />We must also use x-vga=on option on our gpu (and -vga none) otherwise it wont work</p></div></blockquote></div><br /><p>@nbhs:</p><p>This is a GREAT tutorial.&#160; Thanks so much for creating it!</p><p>Because I&#039;m not quite ready to invest the time into applying the suggested patches, I thought I&#039;d test my luck by trying this tutorial on a daily build of Ubuntu 13.10 that included the following, but without any patches:</p><div class="codebox"><pre><code>Mainline Kernel 3.11 RC2 qemu 1.5.0 seabios 1.7.3</code></pre></div><p>And I added the following to /etc/modules:&#160; </p><div class="codebox"><pre><code>vfio vfio_iommu_type1 vfio_pci pci_stub kvm kvm_amd</code></pre></div><p>THE GOOD NEWS:&#160; Even without the patches or custom kernel, the test was successful.&#160; That is, I saw the black qemu window on my main display, and seabios ouput on my monitor from my passthru&#039;d card saying it cant find anything to boot.&#160; So far, so good.</p><p>Now to try booting a VM:</p><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p><strong>DISK:</strong> </p><p><strong>Creating and passing a disk image to qemu:</strong></p><p>By default -M q35 creates an emulated sata controller, but it seems its not working on windows yet, so we attach the old ahci controller:</p><div class="codebox"><pre><code>-device ahci,bus=pcie.0,id=ahci</code></pre></div><p>[...]</p><p>And attach a disk to it:</p><div class="codebox"><pre><code>-drive file=/home/nbhs/windows.img,id=disk,format=raw -device ide-hd,bus=ahci.0,drive=disk</code></pre></div></div></blockquote></div><br /><p>I had previously created a Windows 7 HVM using Virt-Manager under KVM (but without vfio), and so I plugged into the above the appropriate path to the Windows 7 image.&#160; &#160;Much to my delight, when I attempted to boot the HVM, the monitor from my passthru&#039;d card displayed boot information after which the Windows 7 welcome screen appeared for a few seconds.&#160; &#160;But just when I was about to celebrate.... BSOD.</p><p>So I&#039;m wondering:</p><p>(1)&#160; Am I mistaken to think that, barring other problems, the Windows 7 HVM that I previously created using Virt-Manager under KVM should boot?</p><p>(2) Provided that the Windows 7 HVM that I created as described above should boot, what is the likelihood that the recommended patches will cure the BSOD that I&#039;m experiencing?&#160; That is, were either of the patches created to address issues that arise late into the boot phase, like I&#039;m experiencing?&#160; Or were the patches created to address different issues?</p></div></blockquote></div><p>Thank you, would you mind mentioning your build?</p><p>1) It should<br />2) what bsod are you experiencing?, in my experience using these patches will solve most problems, since without them once you shutdown/reset the vm the gpu will stay in a bad state, and most people are having 0 problems with these patches</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304186">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304190" class="blockpost rowodd"> <h2><span><span class="conr">#265</span> <a href="viewtopic.php?pid=1304190#p1304190">2013-07-26 02:26:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Thank you, would you mind mentioning your build?</p><p>1) It should<br />2) what bsod are you experiencing?, in my experience using these patches will solve most problems, since without them once you shutdown/reset the vm the gpu will stay in a bad state, and most people are having 0 problems with these patches</p></div></blockquote></div><p>@nbhs:</p><p>Thanks much for the quick reply!</p><p>As for the BSOD, it appears and disappears very quickly, and so unfortunately, I haven&#039;t had a chance to read the details.&#160; But I can tell you that it always occurs just about when I would expect to see the Windows 7 login prompt.</p><p>As for my current test system, it includes:</p><div class="quotebox"><blockquote><div><p>MB:&#160; ASUS M5A99FX PRO R2.0 (&quot;options vfio_iommu_type1 allow_unsafe_interrupts=1&quot; applied to overcome IOMMU issue)<br />CPU:&#160; AMD Phenom II X4 955&#160; (I have access to a newer CPU, but this one is usually reliable and works well with Xen.)<br />RAM: 20 GB ddr3 1600<br />GPUs: I&#039;ve tried various combinations of a Radeon HD6670, an Nvidia GT610, and an Nvidia GTX550Ti.</p></div></blockquote></div><p>This GPU combination passed your initial test (no drive attached) and allows for seeing the Windows welcome screen before a BSOD:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Nvidia GT610 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Nvidia GTX550Ti &lt;-- Windows display</p></div></blockquote></div><p>This GPU combination also passed your initial test&#160; and allows for seeing the Windows welcome screen before a BSOD:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Radeon HD6670 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Nvidia GTX550Ti &lt;-- Windows display</p></div></blockquote></div><p>This GPU combination passed your initial test, but the screen attached to the secondary GPU remained BLANK (without any BSOD) when attempting to boot from an image:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Nvidia GT610 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Radeon HD6670 &lt;-- Windows display</p></div></blockquote></div><p>I&#039;m surprised that the monitor attached to the Radeon HD6670 remained blank when attempting to boot from an image.&#160; My Radeon HD6670 consistently works well with GPU passthrough under Xen, whereas GPU passthough has never worked with either of my Nvidia cards under Xen.</p><p>When I get a chance, I&#039;ll try with the patches applied to qemu and seabios.&#160; &#160;</p><p>REQUEST:&#160; I&#039;m a Linux neophyte.&#160; Would you be so kind as to suggest a tutorial on how to apply patches?</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-07-26 02:30:37)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304190">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304200" class="blockpost roweven"> <h2><span><span class="conr">#266</span> <a href="viewtopic.php?pid=1304200#p1304200">2013-07-26 03:01:14</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Thank you, would you mind mentioning your build?</p><p>1) It should<br />2) what bsod are you experiencing?, in my experience using these patches will solve most problems, since without them once you shutdown/reset the vm the gpu will stay in a bad state, and most people are having 0 problems with these patches</p></div></blockquote></div><p>@nbhs:</p><p>Thanks much for the quick reply!</p><p>As for the BSOD, it appears and disappears very quickly, and so unfortunately, I haven&#039;t had a chance to read the details.&#160; But I can tell you that it always occurs just about when I would expect to see the Windows 7 login prompt.</p><p>As for my current test system, it includes:</p><div class="quotebox"><blockquote><div><p>MB:&#160; ASUS M5A99FX PRO R2.0 (&quot;options vfio_iommu_type1 allow_unsafe_interrupts=1&quot; applied to overcome IOMMU issue)<br />CPU:&#160; AMD Phenom II X4 955&#160; (I have access to a newer CPU, but this one is usually reliable and works well with Xen.)<br />RAM: 20 GB ddr3 1600<br />GPUs: I&#039;ve tried various combinations of a Radeon HD6670, an Nvidia GT610, and an Nvidia GTX550Ti.</p></div></blockquote></div><p>This GPU combination passed your initial test (no drive attached) and allows for seeing the Windows welcome screen before a BSOD:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Nvidia GT610 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Nvidia GTX550Ti &lt;-- Windows display</p></div></blockquote></div><p>This GPU combination also passed your initial test&#160; and allows for seeing the Windows welcome screen before a BSOD:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Radeon HD6670 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Nvidia GTX550Ti &lt;-- Windows display</p></div></blockquote></div><p>This GPU combination passed your initial test, but the screen attached to the secondary GPU remained BLANK (without any BSOD) when attempting to boot from an image:</p><div class="quotebox"><blockquote><div><p>Primary GPU: Nvidia GT610 &lt;-- Ubuntu display, using opensource module<br />Secondary GPU: Radeon HD6670 &lt;-- Windows display</p></div></blockquote></div><p>I&#039;m surprised that the monitor attached to the Radeon HD6670 remained blank when attempting to boot from an image.&#160; My Radeon HD6670 consistently works well with GPU passthrough under Xen, whereas GPU passthough has never worked with either of my Nvidia cards under Xen.</p><p>When I get a chance, I&#039;ll try with the patches applied to qemu and seabios.&#160; &#160;</p><p>REQUEST:&#160; I&#039;m a Linux neophyte.&#160; Would you be so kind as to suggest a tutorial on how to apply patches?</p></div></blockquote></div><p>Perhaps the radeon card requires some quirks that are included in the patches, it is indeed weird that it did not work, you can also try to do a clean install of windows without virt-manager (using the qemu command line as described in the guide), and if you are passing through the radeon card use the eject method also described in the guide, my initial test passing through the geforce 470 gtx was without any patches using a clean kernel and qemu 1.5, also take into consideration that some driver combinations on the host might produce some problems (its on the &quot;issues&quot; section), as for a patching guide well i guess you can google &quot;how to patch on linux&quot;, i would also say doing a crash course on arch might be good, you dont actually have to patch anything since i provide the required packages (patched and all), and its not hard at all once you get it running, plus the community here is great and im sure any problem you have can be resolved.If you indeed want to try it i recommend installing it on a virtual machine first to get the hang of it.</p><p>EDIT: forgot to add i havent really tried seabios 1.7.3, i did try master from git before it was released and i got a BSOD saying it wasnt an acpi compilant system blah blah blah, thats why i recommend using 1.7.2 + a patch</p> <p class="postedit"><em>Last edited by nbhs (2013-07-26 03:03:39)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304200">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304205" class="blockpost rowodd"> <h2><span><span class="conr">#267</span> <a href="viewtopic.php?pid=1304205#p1304205">2013-07-26 03:42:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Perhaps the radeon card requires some quirks that are included in the patches, it is indeed weird that it did not work, you can also try to do a clean install of windows without virt-manager (using the qemu command line as described in the guide), and if you are passing through the radeon card use the eject method also described in the guide, my initial test passing through the geforce 470 gtx was without any patches using a clean kernel and qemu 1.5, also take into consideration that some driver combinations on the host might produce some problems (its on the &quot;issues&quot; section), as for a patching guide well i guess you can google &quot;how to patch on linux&quot;, i would also say doing a crash course on arch might be good, you dont actually have to patch anything since i provide the required packages (patched and all), and its not hard at all once you get it running, plus the community here is great and im sure any problem you have can be resolved.If you indeed want to try it i recommend installing it on a virtual machine first to get the hang of it.</p><p>EDIT: forgot to add i havent really tried seabios 1.7.3, i did try master from git before it was released and i got a BSOD saying it wasnt an acpi compilant system blah blah blah, thats why i recommend using 1.7.2 + a patch</p></div></blockquote></div><br /><p>Thanks much.&#160; When I get a chance, I&#039;ll create a clean Windows VM.&#160; And I might even bite the bullet and try the patches.&#160; But since I want to stick with Ubuntu and like to keep my system up-to-date, I&#039;m hoping that the patches will make their way upstream soon.</p><p>By the way, I saw that you reported the IOMMU problem with your motherboard to Asus.&#160; &#160;A few of us got together and wrote to the same Asus customer rep who has volunteered to be a single point of contact for this issue.&#160; If you&#039;d like to write to that customer rep, please send me a pm and I&#039;ll provide his contact information.</p><p>Oh, would you happen to know of any AMD 990FX-based motherboards that don&#039;t suffer from IOMMU issues?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304205">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304249" class="blockpost roweven"> <h2><span><span class="conr">#268</span> <a href="viewtopic.php?pid=1304249#p1304249">2013-07-26 09:02:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Perhaps the radeon card requires some quirks that are included in the patches, it is indeed weird that it did not work, you can also try to do a clean install of windows without virt-manager (using the qemu command line as described in the guide), and if you are passing through the radeon card use the eject method also described in the guide, my initial test passing through the geforce 470 gtx was without any patches using a clean kernel and qemu 1.5, also take into consideration that some driver combinations on the host might produce some problems (its on the &quot;issues&quot; section), as for a patching guide well i guess you can google &quot;how to patch on linux&quot;, i would also say doing a crash course on arch might be good, you dont actually have to patch anything since i provide the required packages (patched and all), and its not hard at all once you get it running, plus the community here is great and im sure any problem you have can be resolved.If you indeed want to try it i recommend installing it on a virtual machine first to get the hang of it.</p><p>EDIT: forgot to add i havent really tried seabios 1.7.3, i did try master from git before it was released and i got a BSOD saying it wasnt an acpi compilant system blah blah blah, thats why i recommend using 1.7.2 + a patch</p></div></blockquote></div><br /><p>Thanks much.&#160; When I get a chance, I&#039;ll create a clean Windows VM.&#160; And I might even bite the bullet and try the patches.&#160; But since I want to stick with Ubuntu and like to keep my system up-to-date, I&#039;m hoping that the patches will make their way upstream soon.</p><p>By the way, I saw that you reported the IOMMU problem with your motherboard to Asus.&#160; &#160;A few of us got together and wrote to the same Asus customer rep who has volunteered to be a single point of contact for this issue.&#160; If you&#039;d like to write to that customer rep, please send me a pm and I&#039;ll provide his contact information.</p><p>Oh, would you happen to know of any AMD 990FX-based motherboards that don&#039;t suffer from IOMMU issues?</p></div></blockquote></div><p>Mine does suffer from it fortunately there&#039;s a kernel ivrs override parameter (from kernel 3.10 up) in the kernel to work arround the interrupt remmaping issue</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304249">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304261" class="blockpost rowodd"> <h2><span><span class="conr">#269</span> <a href="viewtopic.php?pid=1304261#p1304261">2013-07-26 09:57:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73506">GizmoChicken</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-25</span></dd> <dd><span>Posts: 15</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73506">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><p>I saw that you reported the IOMMU problem with your motherboard to Asus....</p></div></blockquote></div><p>Mine does suffer from it fortunately there&#039;s a kernel ivrs override parameter (from kernel 3.10 up) in the kernel to work arround the interrupt remmaping issue</p></div></blockquote></div><p>Yep, I saw your earlier post:</p><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You&#039;ll need to add &quot;ivrs_ioapic[9]=00:14.0 ivrs_ioapic[10]=00:00.1&quot; to your grub configuration, also you&#039;ll need either kernel 3.10 or 3.9 with this patch&#160; <a href="http://www.filesend.net/download.php?f=1235d9b1277c65672c3d01a6933f9356" rel="nofollow">amd_iommu_fixes.patch.tar.gz</a>, this will enable interrupt remapping on your board so you wont need this line anymore: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div></div></blockquote></div><p>My motherboard&#039;s IVRS&#160; errors seem to be slightly different from your motherboard&#039;s IVRS errors.&#160; My board&#039;s errors include:&#160; 1)&#160; &quot;ivrs_ioapic[5] not in IVRS table&quot;;&#160; 2)&#160; &quot;ivrs_ioapic[6] not in IVRS table&quot; and 3) &quot;No southbridge IOAPIC found&quot;&#160; I&#039;m not sure how to determine what addresses correspond to the &quot;ivrs_ioapic[5]&quot; and &quot;ivrs_ioapic[6]&quot; errors on my board.</p><p>How did you determine that ivrs_ioapic[9] corresponds to 00:14.0 and that ivrs_ioapic[10] corresponds to 00:00.1 on your board?</p> <p class="postedit"><em>Last edited by GizmoChicken (2013-07-26 09:58:41)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304261">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304397" class="blockpost roweven"> <h2><span><span class="conr">#270</span> <a href="viewtopic.php?pid=1304397#p1304397">2013-07-26 18:43:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53621">teekay</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-10-26</span></dd> <dd><span>Posts: 267</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53621">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><p>Oh, would you happen to know of any AMD 990FX-based motherboards that don&#039;t suffer from IOMMU issues?</p></div></blockquote></div><p>The Gigabyte 990FXA-UD5 rev. 3.0 I use has no issues with interrrupt remapping. Same for the 990FXA-UD3 as far as I know.<br />The only issue this board has is, if IOMMU is enabled, the Marvell SATA controller doesn&#039;t see any drives in Linux (a bug in the amd_iommu driver) but then again the marvell controller can be passed through to the VM.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304397">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304403" class="blockpost rowodd"> <h2><span><span class="conr">#271</span> <a href="viewtopic.php?pid=1304403#p1304403">2013-07-26 18:56:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>teekay wrote:</cite><blockquote><div><p>The only issue this board has is, if IOMMU is enabled, the Marvell SATA controller doesn&#039;t see any drives in Linux (a bug in the amd_iommu driver) but then again the marvell controller can be passed through to the VM.</p></div></blockquote></div><p>In case you tried this, did you manage to get the Marvell controller working inside a VM? For me, I got IO_PAGE_FAULTs in dmesg and Windows gave me a BSOD and the only fix I could find applies to the intel-iommu driver (<a href="http://lkml.indiana.edu/hypermail/linux/kernel/1303.0/00079.html" rel="nofollow">http://lkml.indiana.edu/hypermail/linux … 00079.html</a>).<br />Also, technically it&#039;s not a bug in the amd-iommu driver, but in the Marvell Controller hardware. My board is a AsRock 990FX Extreme4, so same chipset and SATA controller as the Gigabyte.</p> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304403">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304410" class="blockpost roweven"> <h2><span><span class="conr">#272</span> <a href="viewtopic.php?pid=1304410#p1304410">2013-07-26 19:06:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>GizmoChicken wrote:</cite><blockquote><div><p>I saw that you reported the IOMMU problem with your motherboard to Asus....</p></div></blockquote></div><p>Mine does suffer from it fortunately there&#039;s a kernel ivrs override parameter (from kernel 3.10 up) in the kernel to work arround the interrupt remmaping issue</p></div></blockquote></div><p>Yep, I saw your earlier post:</p><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You&#039;ll need to add &quot;ivrs_ioapic[9]=00:14.0 ivrs_ioapic[10]=00:00.1&quot; to your grub configuration, also you&#039;ll need either kernel 3.10 or 3.9 with this patch&#160; <a href="http://www.filesend.net/download.php?f=1235d9b1277c65672c3d01a6933f9356" rel="nofollow">amd_iommu_fixes.patch.tar.gz</a>, this will enable interrupt remapping on your board so you wont need this line anymore: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div></div></blockquote></div><p>My motherboard&#039;s IVRS&#160; errors seem to be slightly different from your motherboard&#039;s IVRS errors.&#160; My board&#039;s errors include:&#160; 1)&#160; &quot;ivrs_ioapic[5] not in IVRS table&quot;;&#160; 2)&#160; &quot;ivrs_ioapic[6] not in IVRS table&quot; and 3) &quot;No southbridge IOAPIC found&quot;&#160; I&#039;m not sure how to determine what addresses correspond to the &quot;ivrs_ioapic[5]&quot; and &quot;ivrs_ioapic[6]&quot; errors on my board.</p><p>How did you determine that ivrs_ioapic[9] corresponds to 00:14.0 and that ivrs_ioapic[10] corresponds to 00:00.1 on your board?</p></div></blockquote></div><p>yeah its got to do with the number of cpu cores on your board just add ivrs_ioapic[5]=00:14.0 ivrs_ioapic[6]=00:00.1 as a kernel parameter to grub and you&#039;re done, once you get it working remove this line: </p><div class="codebox"><pre><code>vfio_iommu_type1.allow_unsafe_interrupts=1</code></pre></div><p>Im not going to write anything to Asus anymore this is my last board from them, they dont support linux, and they dont care fixing anything after the release, my next MB will be Gigabyte</p> <p class="postedit"><em>Last edited by nbhs (2013-07-26 19:16:12)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304410">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304412" class="blockpost rowodd"> <h2><span><span class="conr">#273</span> <a href="viewtopic.php?pid=1304412#p1304412">2013-07-26 19:09:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><div class="quotebox"><cite>teekay wrote:</cite><blockquote><div><p>The only issue this board has is, if IOMMU is enabled, the Marvell SATA controller doesn&#039;t see any drives in Linux (a bug in the amd_iommu driver) but then again the marvell controller can be passed through to the VM.</p></div></blockquote></div><p>In case you tried this, did you manage to get the Marvell controller working inside a VM? For me, I got IO_PAGE_FAULTs in dmesg and Windows gave me a BSOD and the only fix I could find applies to the intel-iommu driver (<a href="http://lkml.indiana.edu/hypermail/linux/kernel/1303.0/00079.html" rel="nofollow">http://lkml.indiana.edu/hypermail/linux … 00079.html</a>).<br />Also, technically it&#039;s not a bug in the amd-iommu driver, but in the Marvell Controller hardware. My board is a AsRock 990FX Extreme4, so same chipset and SATA controller as the Gigabyte.</p></div></blockquote></div><p>Have you tried appending iommu=pt to your grub cfg?</p> <p class="postedit"><em>Last edited by nbhs (2013-07-26 19:16:56)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304412">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304425" class="blockpost roweven"> <h2><span><span class="conr">#274</span> <a href="viewtopic.php?pid=1304425#p1304425">2013-07-26 19:47:32</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=53953">andy123</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2011-11-04</span></dd> <dd><span>Posts: 169</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=53953">Email</a></span> <span class="website"><a href="http://ajs124.de" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>In case you tried this, did you manage to get the Marvell controller working inside a VM? For me, I got IO_PAGE_FAULTs in dmesg and Windows gave me a BSOD and the only fix I could find applies to the intel-iommu driver (<a href="http://lkml.indiana.edu/hypermail/linux/kernel/1303.0/00079.html" rel="nofollow">http://lkml.indiana.edu/hypermail/linux … 00079.html</a>).<br />Also, technically it&#039;s not a bug in the amd-iommu driver, but in the Marvell Controller hardware. My board is a AsRock 990FX Extreme4, so same chipset and SATA controller as the Gigabyte.</p></div></blockquote></div><p>Have you tried appending iommu=pt to your grub cfg?</p></div></blockquote></div><p>syslinux.cfg and yes. (I just checked /proc/cmdline)<br />At first there are the option rom errors, which I might have fixed but then there are these </p><div class="codebox"><pre><code>AMD-Vi: Event logged [IO_PAGE_FAULT device=02:00.1 domain=0x0000 address=0x00000000af418000 flags=0x0050]</code></pre></div><p>The thing is, I forward 02:00.0 not 02:00.1, but the Marvell Controller does some strange things I don&#039;t understand, because I have no idea how PCIe works.</p> </div> <div class="postsignature postmsg"><hr /><p>i&#039;m sorry for my poor english wirting skills…</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304425">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1304426" class="blockpost rowodd"> <h2><span><span class="conr">#275</span> <a href="viewtopic.php?pid=1304426#p1304426">2013-07-26 19:50:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>andy123 wrote:</cite><blockquote><div><p>In case you tried this, did you manage to get the Marvell controller working inside a VM? For me, I got IO_PAGE_FAULTs in dmesg and Windows gave me a BSOD and the only fix I could find applies to the intel-iommu driver (<a href="http://lkml.indiana.edu/hypermail/linux/kernel/1303.0/00079.html" rel="nofollow">http://lkml.indiana.edu/hypermail/linux … 00079.html</a>).<br />Also, technically it&#039;s not a bug in the amd-iommu driver, but in the Marvell Controller hardware. My board is a AsRock 990FX Extreme4, so same chipset and SATA controller as the Gigabyte.</p></div></blockquote></div><p>Have you tried appending iommu=pt to your grub cfg?</p></div></blockquote></div><p>syslinux.cfg and yes. (I just checked /proc/cmdline)<br />At first there are the option rom errors, which I might have fixed but then there are these </p><div class="codebox"><pre><code>AMD-Vi: Event logged [IO_PAGE_FAULT device=02:00.1 domain=0x0000 address=0x00000000af418000 flags=0x0050]</code></pre></div><p>The thing is, I forward 02:00.0 not 02:00.1, but the Marvell Controller does some strange things I don&#039;t understand, because I have no idea how PCIe works.</p></div></blockquote></div><p>Have you tried passing through both? the marvell device is prolly a multifunction device, so you should pass it through as such, maybe even behind a pcie root port like the gpu, something like this:</p><div class="codebox"><pre><code>-device ioh3420,bus=pcie.0,addr=1c.1,multifunction=on,port=2,chassis=2,id=root.2 \ -device vfio-pci,host=02:00.0,bus=root.2,addr=00.0,multifunction=on \ -device vfio-pci,host=02:00.1,bus=root.2,addr=00.1</code></pre></div><p>if you need the rom you can do:</p><div class="codebox"><pre><code>-device ioh3420,bus=pcie.0,addr=1c.1,multifunction=on,port=2,chassis=2,id=root.2 \ -device vfio-pci,host=02:00.0,bus=root.2,addr=00.0,multifunction=on,romfile=/path/to/your/rom.bin \ -device vfio-pci,host=02:00.1,bus=root.2,addr=00.1</code></pre></div><p>or using pci-assign instead of vfio</p> <p class="postedit"><em>Last edited by nbhs (2013-07-26 19:54:51)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1304426">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=10">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=9">9</a> <a href="viewtopic.php?id=162768&amp;p=10">10</a> <strong>11</strong> <a href="viewtopic.php?id=162768&amp;p=12">12</a> <a href="viewtopic.php?id=162768&amp;p=13">13</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=12">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
