<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 185) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=185" title="Page 185" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=184" title="Page 184" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=186" title="Page 186" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=184">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=183">183</a> <a href="viewtopic.php?id=162768&amp;p=184">184</a> <strong>185</strong> <a href="viewtopic.php?id=162768&amp;p=186">186</a> <a href="viewtopic.php?id=162768&amp;p=187">187</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=186">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1514117" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#4601</span> <a href="viewtopic.php?pid=1514117#p1514117">2015-03-25 14:44:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Cubex wrote:</cite><blockquote><div><p>Crashes still occurs randomly, dmesg -w doesn&#039;t show anything relevant when crash occur, debug log neigher, i&#039;m starting to suspect that might be a hardware lockup?<br />Seems to occur more when using CPU intensively but still happens in normal use, Im without clue ATM</p><p>Also discovered something interesting accidentally and I need someone to confirm this, when I compiled the lastest linux-mainline 4.0 rc5.1 I forgot to enable pci stub module, so after shutting down machine Dmesg showed &quot;released&quot; devices loading their respective module, after reboot I discovered that pci stub was not enabled and devices where working normaly before and after running KVM... </p><p>seems that we can grab PCI-E devices runtime without pci-stub? is this really safe? I passed secondary gpu + audio, USB controller and Net adapter, and 4 devices where restored aparently... dmesg of testing:</p><p>0000:02:00.0 is the GTX970 <br />0000:04:00.0 is the USB controller<br />0000:05:00.0 is the NET adapter</p><div class="codebox"><pre class="vscroll"><code>[ 115.651756] usbcore: registered new interface driver snd-usb-audio [ 115.687194] usb 1-14.1: current rate 33186 is different from the runtime rate 16000 [ 115.699927] usb 1-14.1: current rate 33186 is different from the runtime rate 16000 [ 115.724838] usb 1-14.1: current rate 198 is different from the runtime rate 16000 [ 115.732585] usb 1-14.1: current rate 8 is different from the runtime rate 16000 [ 115.734399] usb 1-14.1: 3:1: cannot get min/max values for control 2 (id 3) [ 300.233368] mce: [Hardware Error]: Machine check events logged --QEMU started here-- [ 464.991218] VFIO - User Level meta-driver version: 0.3 [ 465.261701] xhci_hcd 0000:04:00.0: remove, state 4 [ 465.261710] usb usb4: USB disconnect, device number 1 [ 465.261891] xhci_hcd 0000:04:00.0: USB bus 4 deregistered [ 465.261897] xhci_hcd 0000:04:00.0: remove, state 1 [ 465.261901] usb usb3: USB disconnect, device number 1 [ 465.261903] usb 3-1: USB disconnect, device number 2 [ 465.323138] xhci_hcd 0000:04:00.0: USB bus 3 deregistered [ 465.400432] usbcore: deregistering interface driver ov534 [ 465.499432] tun: Universal TUN/TAP device driver, 1.6 [ 465.499437] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt; [ 465.500357] device tap0 entered promiscuous mode [ 465.500534] hostbr0: port 1(tap0) entered listening state [ 465.500543] hostbr0: port 1(tap0) entered listening state [ 465.501220] IPv6: ADDRCONF(NETDEV_UP): hostbr0: link is not ready [ 465.543875] kvm: SMP vm created on host with unstable TSC; guest TSC will not be reliable [ 467.240268] vfio_ecap_init: 0000:02:00.0 hiding ecap 0x1e@0x258 [ 467.240281] vfio_ecap_init: 0000:02:00.0 hiding ecap 0x19@0x900 [ 480.529995] hostbr0: port 1(tap0) entered learning state [ 487.466676] kvm: zapping shadow pages for mmio generation wraparound [ 495.569983] hostbr0: topology change detected, propagating [ 495.569991] hostbr0: port 1(tap0) entered forwarding state [ 495.570023] IPv6: ADDRCONF(NETDEV_CHANGE): hostbr0: link becomes ready --Shutdown of QEMU-- [ 598.207298] hostbr0: port 1(tap0) entered disabled state [ 598.207420] device tap0 left promiscuous mode [ 598.207440] hostbr0: port 1(tap0) entered disabled state --Nouveau starts spilling-- [ 601.701150] nouveau 0000:02:00.0: fb1: nouveaufb frame buffer device [ 601.701157] [drm] Initialized nouveau 1.2.1 20120801 for 0000:02:00.0 on minor 1 [ 601.715319] snd_hda_intel 0000:02:00.1: Disabling MSI [ 601.715336] snd_hda_intel 0000:02:00.1: Handle VGA-switcheroo audio client [ 601.725718] r8169 Gigabit Ethernet driver 2.3LK-NAPI loaded [ 601.725725] r8169 0000:05:00.0: can&#039;t disable ASPM; OS doesn&#039;t have ASPM control [ 601.725731] r8169 0000:05:00.0: enabling device (0400 -&gt; 0403) [ 601.728245] r8169 0000:05:00.0 enp5s0: renamed from eth0 [ 601.758725] xhci_hcd 0000:04:00.0: enabling device (0400 -&gt; 0402) [ 601.758804] xhci_hcd 0000:04:00.0: xHCI Host Controller [ 601.758811] xhci_hcd 0000:04:00.0: new USB bus registered, assigned bus number 3 --Usbs connected to controller starts popping--</code></pre></div></div></blockquote></div><p>Hmm, check your CPU for bugs. I have AMD family 15h cpu, and there&#039;s a revision guide for it saying that &quot;hardware lockups may happen because of an interrupt&quot; and stuff like that.</p><div class="codebox"><pre><code>[ 300.233368] mce: [Hardware Error]: Machine check events logged</code></pre></div><p>This is very, very bad. Check what ever it is. It may be a simple overheat, or something worse.</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514117">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514120" class="blockpost roweven"> <h2><span><span class="conr">#4602</span> <a href="viewtopic.php?pid=1514120#p1514120">2015-03-25 14:46:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Tyrewt wrote:</cite><blockquote><div><p>Anyone notice the time is always out of sync on their Windows 7 guests?&#160; Though configured correctly and using NTP, the time is always off by 3 hours.</p></div></blockquote></div><p>This sounds like you&#039;re setting the rtc to utc (default) instead of local time</p></div></blockquote></div><div class="codebox"><pre><code> &lt;clock offset=&#039;localtime&#039;&gt;</code></pre></div><p>...why windows is so lame on this side?...</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514120">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514122" class="blockpost rowodd"> <h2><span><span class="conr">#4603</span> <a href="viewtopic.php?pid=1514122#p1514122">2015-03-25 14:49:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kraghot wrote:</cite><blockquote><div><p>I&#039;m interested in configuring this type of setup, and I hope I&#039;ll be building a new computer soon. What parts would you recommend for this type of build?</p></div></blockquote></div><p>And check first post for huge spreadsheet with stats when determining what GPUs you probably want to use. But that is a loosy list, as it doesn&#039;t reflect amounts of quirks applied on listed systems.<br />If you want a system that is 100% working - just copy aw&#039;s one;)</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514122">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514195" class="blockpost roweven"> <h2><span><span class="conr">#4604</span> <a href="viewtopic.php?pid=1514195#p1514195">2015-03-25 20:20:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I thought AW was using a Dell Venue 8 Pro?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514195">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514201" class="blockpost rowodd"> <h2><span><span class="conr">#4605</span> <a href="viewtopic.php?pid=1514201#p1514201">2015-03-25 20:54:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>I thought AW was using a Dell Venue 8 Pro?</p></div></blockquote></div><p>Heh, had to google for that one.&#160; My hardware is nothing special, I just live within its limitations and don&#039;t try to use multiple slots off the processor root ports.&#160; One card off the processor root ports, one card off the PCH root ports, GPUs new enough to support UEFI, and each connected to a small craigslist TV to be able to use the audio function directly.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514201">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514205" class="blockpost roweven"> <h2><span><span class="conr">#4606</span> <a href="viewtopic.php?pid=1514205#p1514205">2015-03-25 21:16:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=59241">tritron4</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-04-14</span></dd> <dd><span>Posts: 146</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=59241">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>That would be neet to run kvm on dell venue 8 pro any one had tried <br />I have AMD A8-6600K APU&#160; A88X-pro and couple of R9 270 and it work great. Thanks to </p><div class="codebox"><pre><code>options vfio_iommu_type1 disable_hugepages=1 </code></pre></div> <p class="postedit"><em>Last edited by tritron4 (2015-03-25 21:16:47)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514205">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514261" class="blockpost rowodd"> <h2><span><span class="conr">#4607</span> <a href="viewtopic.php?pid=1514261#p1514261">2015-03-26 03:05:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88848">mutiny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-15</span></dd> <dd><span>Posts: 13</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=88848">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi aw,</p><p>I was just curious, since some PCIe root ports without ACS support but with vendor verification of disabled peer-to-peer interaction, some devices were quirked in the kernel:</p><div class="codebox"><pre><code>static const u16 pci_quirk_intel_pch_acs_ids[] = { /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Ibexpeak PCH */ 0x3b42, 0x3b43, 0x3b44, 0x3b45, 0x3b46, 0x3b47, 0x3b48, 0x3b49, 0x3b4a, 0x3b4b, 0x3b4c, 0x3b4d, 0x3b4e, 0x3b4f, 0x3b50, 0x3b51, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Cougarpoint PCH */ 0x1c10, 0x1c11, 0x1c12, 0x1c13, 0x1c14, 0x1c15, 0x1c16, 0x1c17, 0x1c18, 0x1c19, 0x1c1a, 0x1c1b, 0x1c1c, 0x1c1d, 0x1c1e, 0x1c1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Pantherpoint PCH */ 0x1e10, 0x1e11, 0x1e12, 0x1e13, 0x1e14, 0x1e15, 0x1e16, 0x1e17, 0x1e18, 0x1e19, 0x1e1a, 0x1e1b, 0x1e1c, 0x1e1d, 0x1e1e, 0x1e1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Lynxpoint-H PCH */ 0x8c10, 0x8c11, 0x8c12, 0x8c13, 0x8c14, 0x8c15, 0x8c16, 0x8c17, 0x8c18, 0x8c19, 0x8c1a, 0x8c1b, 0x8c1c, 0x8c1d, 0x8c1e, 0x8c1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Lynxpoint-LP PCH */ 0x9c10, 0x9c11, 0x9c12, 0x9c13, 0x9c14, 0x9c15, 0x9c16, 0x9c17, 0x9c18, 0x9c19, 0x9c1a, 0x9c1b, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Wildcat PCH */ 0x9c90, 0x9c91, 0x9c92, 0x9c93, 0x9c94, 0x9c95, 0x9c96, 0x9c97, 0x9c98, 0x9c99, 0x9c9a, 0x9c9b, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Patsburg (X79) PCH */ 0x1d10, 0x1d12, 0x1d14, 0x1d16, 0x1d18, 0x1d1a, 0x1d1c, 0x1d1e, };</code></pre></div><p>Now basically what I&#039;m wondering, is if adding other root port PCI ids to this list would effectively be the same as applying previous ACS override kernel patches and providing override ID through kernel options? Also, would this be the same for adding the ID for the processor&#039;s own PCIe root ports, and not just PCH root ports?</p><p>I think I&#039;ve posted something like this in the past, but for many Z97 motherboards, the system looks something like:<br /><span class="postimg"><img src="http://i.imgur.com/VtAr2ni.png" alt="VtAr2ni.png" /></span><br />where the only GPU pci-express slots are provided by the processor, and none are available from the PCH, so the only option would be to force separation of the processor root port. What are the ramifications of doing this through the existing quirked list, instead of using your previous ACS patches (besides the obvious possible effects of ACS patches in general)</p> <p class="postedit"><em>Last edited by mutiny (2015-03-26 03:14:09)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514261">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514268" class="blockpost roweven"> <h2><span><span class="conr">#4608</span> <a href="viewtopic.php?pid=1514268#p1514268">2015-03-26 03:36:57</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@mutiny</p><p>The ACS override patch is just a quirk, like the code you&#039;re point to.&#160; It just happens to be a dynamic quirk that let&#039;s you specify devices via the kernel command line.&#160; It&#039;s certainly possible to add static entries for processor root ports, but that table is not the right place to do it.&#160; That table triggers not only reporting the isolation of the device, but enabling of isolation.&#160; So you wouldn&#039;t want to trigger that on anything except devices that follow the same programming model.</p><p>Have you read my <a href="http://vfio.blogspot.com/2014/08/iommu-groups-inside-and-out.html" rel="nofollow">blog post</a> on IOMMU groups?&#160; I think that gives a pretty good overview of why groups take the shape they do and the dangers of assuming isolation where there is none.&#160; The difference between the in-kernel quirks and the command line version is that the in-kernel quirks have some assurance from the hardware vendor that there is actually isolation.&#160; You assume all risk when you patch-in and use the override.&#160; The mechanism by which they work is roughly the same though.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514268">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514269" class="blockpost rowodd"> <h2><span><span class="conr">#4609</span> <a href="viewtopic.php?pid=1514269#p1514269">2015-03-26 03:39:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89764">syshack</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-24</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:syshack@me.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>hi,aw<br /> I followed this article step by step( <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Virtualization_Deployment_and_Administration_Guide/sect-device-GPU.html" rel="nofollow">https://access.redhat.com/documentation … e-GPU.html</a> ) to passthrough Grid K2 to my Win7 vm and got code 43 after installed drivers.</p><p>[root@localhost ~]# uname -a<br />Linux localhost.localdomain 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux<br />[root@localhost ~]# /usr/libexec/qemu-kvm --version<br />QEMU emulator version 1.5.3 (qemu-kvm-1.5.3-60.el7), Copyright (c) 2003-2008 Fabrice Bellard<br />[root@localhost ~]# lspci |grep K2<br />05:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)<br />06:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)</p><p>grub:<br />&#160; &#160; &#160; &#160; linux16 /boot/vmlinuz-3.10.0-123.el7.x86_64 root=UUID=aa5139f6-942e-474e-853c-3d5b2cc49125 ro vconsole.keymap=us crashkernel=auto&#160; vconsole.font=latarcyrheb-sun16 rhgb quiet LANG=en_US.UTF-8 intel_iommu=on rdblacklist=nouveau nouveau.modeset=0</p><p>[root@localhost ~]# lsmod <br />Module&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Size&#160; Used by<br />vhost_net&#160; &#160; &#160; &#160; &#160; &#160; &#160; 33961&#160; 1 <br />macvtap&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 18302&#160; 1 vhost_net<br />macvlan&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 19046&#160; 1 macvtap<br />tun&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 27183&#160; 5 vhost_net<br />vfio_iommu_type1&#160; &#160; &#160; &#160;17636&#160; 2 <br />vfio_pci&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;36438&#160; 2 <br />vfio&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;20810&#160; 8 vfio_iommu_type1,vfio_pci<br />bnep&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;19704&#160; 2 <br />bluetooth&#160; &#160; &#160; &#160; &#160; &#160; &#160;372662&#160; 7 bnep<br />rfkill&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;26536&#160; 3 bluetooth<br />fuse&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;87661&#160; 3 <br />ipt_MASQUERADE&#160; &#160; &#160; &#160; &#160;12880&#160; 3 <br />iptable_nat&#160; &#160; &#160; &#160; &#160; &#160; 13011&#160; 1 <br />nf_nat_ipv4&#160; &#160; &#160; &#160; &#160; &#160; 13263&#160; 1 iptable_nat<br />nf_nat&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;21798&#160; 3 ipt_MASQUERADE,nf_nat_ipv4,iptable_nat<br />nf_conntrack_ipv4&#160; &#160; &#160; 14862&#160; 2 <br />nf_defrag_ipv4&#160; &#160; &#160; &#160; &#160;12729&#160; 1 nf_conntrack_ipv4<br />xt_conntrack&#160; &#160; &#160; &#160; &#160; &#160;12760&#160; 1 <br />nf_conntrack&#160; &#160; &#160; &#160; &#160; 101024&#160; 6 ipt_MASQUERADE,nf_nat,nf_nat_ipv4,xt_conntrack,iptable_nat,nf_conntrack_ipv4<br />ipt_REJECT&#160; &#160; &#160; &#160; &#160; &#160; &#160;12541&#160; 2 <br />xt_CHECKSUM&#160; &#160; &#160; &#160; &#160; &#160; 12549&#160; 1 <br />iptable_mangle&#160; &#160; &#160; &#160; &#160;12695&#160; 1 <br />ip6table_filter&#160; &#160; &#160; &#160; 12815&#160; 0 <br />ip6_tables&#160; &#160; &#160; &#160; &#160; &#160; &#160;27025&#160; 1 ip6table_filter<br />iptable_filter&#160; &#160; &#160; &#160; &#160;12810&#160; 1 <br />ip_tables&#160; &#160; &#160; &#160; &#160; &#160; &#160; 27239&#160; 3 iptable_filter,iptable_mangle,iptable_nat<br />ebtable_nat&#160; &#160; &#160; &#160; &#160; &#160; 12807&#160; 0 <br />ebtables&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;30913&#160; 1 ebtable_nat<br />bridge&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 110196&#160; 0 <br />stp&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 12976&#160; 1 bridge<br />llc&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 14552&#160; 2 stp,bridge<br />sg&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;36533&#160; 0 <br />iTCO_wdt&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;13480&#160; 0 <br />iTCO_vendor_support&#160; &#160; 13718&#160; 1 iTCO_wdt<br />dm_mirror&#160; &#160; &#160; &#160; &#160; &#160; &#160; 22135&#160; 0 <br />dm_region_hash&#160; &#160; &#160; &#160; &#160;20862&#160; 1 dm_mirror<br />dm_log&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;18411&#160; 2 dm_region_hash,dm_mirror<br />dm_mod&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 102999&#160; 2 dm_log,dm_mirror<br />coretemp&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;13435&#160; 0 <br />kvm_intel&#160; &#160; &#160; &#160; &#160; &#160; &#160;138567&#160; 12 <br />kvm&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;441119&#160; 1 kvm_intel<br />crct10dif_pclmul&#160; &#160; &#160; &#160;14289&#160; 0 <br />crc32_pclmul&#160; &#160; &#160; &#160; &#160; &#160;13113&#160; 0 <br />crc32c_intel&#160; &#160; &#160; &#160; &#160; &#160;22079&#160; 0 <br />ghash_clmulni_intel&#160; &#160; 13259&#160; 0 <br />aesni_intel&#160; &#160; &#160; &#160; &#160; &#160; 55624&#160; 0 <br />lrw&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 13286&#160; 1 aesni_intel<br />gf128mul&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;14951&#160; 1 lrw<br />glue_helper&#160; &#160; &#160; &#160; &#160; &#160; 13990&#160; 1 aesni_intel<br />ablk_helper&#160; &#160; &#160; &#160; &#160; &#160; 13597&#160; 1 aesni_intel<br />cryptd&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;20359&#160; 3 ghash_clmulni_intel,aesni_intel,ablk_helper<br />serio_raw&#160; &#160; &#160; &#160; &#160; &#160; &#160; 13462&#160; 0 <br />pcspkr&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;12718&#160; 0 <br />sb_edac&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 22344&#160; 0 <br />edac_core&#160; &#160; &#160; &#160; &#160; &#160; &#160; 62330&#160; 1 sb_edac<br />lpc_ich&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 16977&#160; 0 <br />i2c_i801&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;18135&#160; 0 <br />mfd_core&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;13435&#160; 1 lpc_ich<br />mei_me&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;18568&#160; 0 <br />mei&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 77872&#160; 1 mei_me<br />ntb&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 35932&#160; 0 <br />shpchp&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;37032&#160; 0 <br />ipmi_si&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 53257&#160; 0 <br />ipmi_msghandler&#160; &#160; &#160; &#160; 45306&#160; 1 ipmi_si<br />mperf&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 12667&#160; 0 <br />nfsd&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 284378&#160; 1 <br />auth_rpcgss&#160; &#160; &#160; &#160; &#160; &#160; 59368&#160; 1 nfsd<br />nfs_acl&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 12837&#160; 1 nfsd<br />lockd&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 93977&#160; 1 nfsd<br />sunrpc&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 293453&#160; 5 nfsd,auth_rpcgss,lockd,nfs_acl<br />uinput&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;17625&#160; 0 <br />ext4&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 528957&#160; 1 <br />mbcache&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 14958&#160; 1 ext4<br />jbd2&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;98341&#160; 1 ext4<br />sd_mod&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;45373&#160; 3 <br />crc_t10dif&#160; &#160; &#160; &#160; &#160; &#160; &#160;12714&#160; 1 sd_mod<br />crct10dif_common&#160; &#160; &#160; &#160;12595&#160; 2 crct10dif_pclmul,crc_t10dif<br />usb_storage&#160; &#160; &#160; &#160; &#160; &#160; 66305&#160; 0 <br />sr_mod&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;22416&#160; 0 <br />cdrom&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 42556&#160; 1 sr_mod<br />ast&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 60327&#160; 2 <br />syscopyarea&#160; &#160; &#160; &#160; &#160; &#160; 12529&#160; 1 ast<br />sysfillrect&#160; &#160; &#160; &#160; &#160; &#160; 12701&#160; 1 ast<br />sysimgblt&#160; &#160; &#160; &#160; &#160; &#160; &#160; 12640&#160; 1 ast<br />i2c_algo_bit&#160; &#160; &#160; &#160; &#160; &#160;13413&#160; 1 ast<br />drm_kms_helper&#160; &#160; &#160; &#160; &#160;52758&#160; 1 ast<br />ttm&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 83948&#160; 1 ast<br />mlx4_core&#160; &#160; &#160; &#160; &#160; &#160; &#160;223339&#160; 0 <br />isci&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 137622&#160; 0 <br />mpt2sas&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;193927&#160; 2 <br />ahci&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;25819&#160; 0 <br />drm&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;297829&#160; 4 ast,ttm,drm_kms_helper<br />e1000e&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 258529&#160; 0 <br />libahci&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 32009&#160; 1 ahci<br />libsas&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;83532&#160; 1 isci<br />libata&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 219478&#160; 3 ahci,libahci,libsas<br />raid_class&#160; &#160; &#160; &#160; &#160; &#160; &#160;13554&#160; 1 mpt2sas<br />ptp&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 18933&#160; 1 e1000e<br />i2c_core&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;40325&#160; 5 ast,drm,i2c_i801,drm_kms_helper,i2c_algo_bit<br />pps_core&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;19106&#160; 1 ptp<br />scsi_transport_sas&#160; &#160; &#160;41034&#160; 3 isci,mpt2sas,libsas</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514269">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514271" class="blockpost roweven"> <h2><span><span class="conr">#4610</span> <a href="viewtopic.php?pid=1514271#p1514271">2015-03-26 03:50:32</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><p>hi,aw<br /> I followed this article step by step( <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Virtualization_Deployment_and_Administration_Guide/sect-device-GPU.html" rel="nofollow">https://access.redhat.com/documentation … e-GPU.html</a> ) to passthrough Grid K2 to my Win7 vm and got code 43 after installed drivers.</p><p>[root@localhost ~]# uname -a<br />Linux localhost.localdomain 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux<br />[root@localhost ~]# /usr/libexec/qemu-kvm --version<br />QEMU emulator version 1.5.3 (qemu-kvm-1.5.3-60.el7), Copyright (c) 2003-2008 Fabrice Bellard<br />[root@localhost ~]# lspci |grep K2<br />05:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)<br />06:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)</p></div></blockquote></div><p>Looks like you&#039;re running RHEL, please file a <a href="http://bugzilla.redhat.com" rel="nofollow">bugzilla</a> and add me to the cc - alex.williamson@redhat.com</p><p>Please include the type of hardware that you&#039;re using (Nvidia is rather particular about being on a GRID qualified system), lspci -vvv, domain xml, libvirt log for the domain (/var/log/libvirt/qemu/$DOMAIN.log), and host dmesg.&#160; Thanks</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514271">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514276" class="blockpost rowodd"> <h2><span><span class="conr">#4611</span> <a href="viewtopic.php?pid=1514276#p1514276">2015-03-26 04:10:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88848">mutiny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-15</span></dd> <dd><span>Posts: 13</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=88848">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>@mutiny</p><p>The ACS override patch is just a quirk, like the code you&#039;re point to.&#160; It just happens to be a dynamic quirk that let&#039;s you specify devices via the kernel command line.&#160; It&#039;s certainly possible to add static entries for processor root ports, but that table is not the right place to do it.&#160; That table triggers not only reporting the isolation of the device, but enabling of isolation.&#160; So you wouldn&#039;t want to trigger that on anything except devices that follow the same programming model.</p><p>Have you read my <a href="http://vfio.blogspot.com/2014/08/iommu-groups-inside-and-out.html" rel="nofollow">blog post</a> on IOMMU groups?&#160; I think that gives a pretty good overview of why groups take the shape they do and the dangers of assuming isolation where there is none.&#160; The difference between the in-kernel quirks and the command line version is that the in-kernel quirks have some assurance from the hardware vendor that there is actually isolation.&#160; You assume all risk when you patch-in and use the override.&#160; The mechanism by which they work is roughly the same though.</p></div></blockquote></div><p>Thank you for the response and information aw.</p><p>I&#039;ve gone ahead and read your blog post again. I do have a better understanding of the overall idea and possible risks. However, if I did want to go ahead and assume that there is some notion of isolation or at least some isolation capabilities, what would be the best approach to force the issue (even hard coding IDs specific to my system)? Mosty because I am stuck with the hardware I do have, and don&#039;t mind experimenting and testing for a while, even if there are risks.</p><p>(1) For the Z97 PCH root ports (also a Wildcat Point PCH), if I made the same assumption that this particular chipset also happens to belong to the category of PCH root ports with vendor verification, would the code I referenced be the appropriate place for that? <br />(2) What would be the best approach for static entries for the Core i7 processor&#039;s root port, since it probably does not follow the same model as PCH root ports? Would something like the original ACS patches be more appropriate for the processor root ports?</p><p>Thanks for the information and all that you&#039;ve contributed! <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> <p class="postedit"><em>Last edited by mutiny (2015-03-26 04:25:42)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514276">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514279" class="blockpost roweven"> <h2><span><span class="conr">#4612</span> <a href="viewtopic.php?pid=1514279#p1514279">2015-03-26 04:35:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mutiny wrote:</cite><blockquote><div><p>I&#039;ve gone ahead and read your blog post again. I do have a better understanding of the overall idea and possible risks. However, if I did want to go ahead and assume that there is some notion of isolation or at least some isolation capabilities, what would be the best approach to force the issue (even hard coding IDs specific to my system)? For the Z97 PCH root ports (also a Wildcat Point PCH), if I made the same assumption that this particular chipset also happens to belong to the category of PCH root ports with vendor verification, would the code I posted be the appropriate place for that? And then, what would be the best approach for the Core i7 processor&#039;s root port, since it probably does not follow the same model as PCH root ports? Would the original ACS patches be more appropriate for the processor root ports? Thanks for the information and all that you&#039;ve contributed! <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>I don&#039;t think I&#039;m understanding the first half of your question.&#160; You&#039;re running on a Z97 PCH, aka Wildcat Point, which is already covered by the quirks you quoted.&#160; Why would you need to add IDs to the table for your system for PCH root ports?&#160; Do you have different device IDs or is something else below the root port causing undesirable grouping?&#160; If you have something in the same family as the PCH devices we currently quirk, it&#039;s plausible to think that adding IDs to that table will work correctly, but I can&#039;t confirm it.&#160; I thought we were already including all the major chipsets though.&#160; If we&#039;re missing something, let me know and I can ask Intel.</p><p>For Core i5/7 or Xeon E3 processor root ports, we have no indication that there&#039;s any isolation nor programming information to enable whatever isolation the ports may provide.&#160; Intel is not interested in providing quirks for these ports.&#160; You could add a fixed quirk for your specific IDs, but I fail to see how that&#039;s any better than the ACS override patch and command line control.&#160; Are you simply looking for a smaller patch that&#039;s more portable between kernel versions?&#160; Note that the ACS override patch does allow you to specify specific vendor and device IDs if you want to be more surgical than enabling all downstream ports.</p> <p class="postedit"><em>Last edited by aw (2015-03-26 04:38:37)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514279">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514280" class="blockpost rowodd"> <h2><span><span class="conr">#4613</span> <a href="viewtopic.php?pid=1514280#p1514280">2015-03-26 04:37:53</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>gah, accidental quote, ignore me</p> <p class="postedit"><em>Last edited by aw (2015-03-26 04:38:19)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514280">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514283" class="blockpost roweven"> <h2><span><span class="conr">#4614</span> <a href="viewtopic.php?pid=1514283#p1514283">2015-03-26 05:07:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88848">mutiny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-15</span></dd> <dd><span>Posts: 13</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=88848">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>I don&#039;t think I&#039;m understanding the first half of your question.&#160; You&#039;re running on a Z97 PCH, aka Wildcat Point, which is already covered by the quirks you quoted.&#160; Why would you need to add IDs to the table for your system for PCH root ports?&#160; Do you have different device IDs or is something else below the root port causing undesirable grouping?&#160; If you have something in the same family as the PCH devices we currently quirk, it&#039;s plausible to think that adding IDs to that table will work correctly, but I can&#039;t confirm it.&#160; I thought we were already including all the major chipsets though.&#160; If we&#039;re missing something, let me know and I can ask Intel.</p><p>For Core i5/7 or Xeon E3 processor root ports, we have no indication that there&#039;s any isolation nor programming information to enable whatever isolation the ports may provide.&#160; Intel is not interested in providing quirks for these ports.&#160; You could add a fixed quirk for your specific IDs, but I fail to see how that&#039;s any better than the ACS override patch and command line control.&#160; Are you simply looking for a smaller patch that&#039;s more portable between kernel versions?&#160; Note that the ACS override patch does allow you to specify specific vendor and device IDs if you want to be more surgical than enabling all downstream ports.</p></div></blockquote></div><p>Yes, you are right, I am asking about the Z97 PCH because my particular IDs don&#039;t seem to exist in the current quirked list. The current list under Wildcat PCH in quirks.c all have IDs of 0x9cXX, whereas the PCH IDs on my motherboard are 0x8c90, 0x8c94, 0x8c96, and 0x8c9c. The motherboard is a Gigabyte GA-Z97X-UD5H-BK.</p><p>I guess I was assuming there was something in the most recent kernel versions where it would be as easy as adding the processor root ports to a list, like the PCH root ports quirks, because as I understand it, without any support from Intel I&#039;ll basically be adding these quirks/patches to each kernel udpate for the rest of time. You are completely correct that I am just looking for something simpler to modify between kernel updates. If the ACS patch still best applies in this situation, then I&#039;ll go that route for the Core i7 root ports.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514283">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514287" class="blockpost rowodd"> <h2><span><span class="conr">#4615</span> <a href="viewtopic.php?pid=1514287#p1514287">2015-03-26 06:12:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80866">Kingd</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/80866.jpg?m=1396598081" width="64" height="64" alt="" /></dd> <dd><span>Registered: 2014-04-04</span></dd> <dd><span>Posts: 3</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>@Kingd your iommu doesn&#039;t seem to be enabled? cat /proc/cmdline? intel_iommu=on? <br />or you need ACS patch, you need to bind all devices in same group aka gpu and gpu audio= same group....</p></div></blockquote></div><p>Nope IOMMU is activated.</p><div class="codebox"><pre><code>$ cat /proc/cmdline BOOT_IMAGE=/vmlinuz-linux root=UUID=... rw quiet intel_iommu=on pci-stub.ids=1002:6798</code></pre></div><p>I haven`t tried the ACS pactch, but I will give the linux-vfio kernel from the AUR a shot. Maybe that will solve my problem.</p><p><strong>//edit:</strong> Same error message with the new <strong>linux-vfio</strong> kernel <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> any suggestions?</p><br /><p>Here ist my qemu syntax, which caused the vfio error:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -m 8024 -cpu host,kvm=off -smp 4 -drive if=pflash,format=raw,readonly,file=/usr/share/edk2.git/ovmf-x64/OVMF-pure-efi.fd -drive if=pflash,format=raw,file=/usr/share/edk2.git/ovmf-x64/OVMF_VARS-pure-efi.fd -device vfio-pci,host=01:00.0 -vga none</code></pre></div><br /><p>My discrete graphics card is assigned to <strong>01:00.0</strong> wit the id <strong>1002:6798</strong>.</p><div class="codebox"><pre><code>$ lspci | grep VGA 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller (rev 09) 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Tahiti XT [Radeon HD 7970/8970 OEM / R9 280X] $ lspci -n ... 01:00.0 0300: 1002:6798 01:00.1 0403: 1002:aaa0 ...</code></pre></div> <p class="postedit"><em>Last edited by Kingd (2015-03-26 08:55:24)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514287">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514288" class="blockpost roweven"> <h2><span><span class="conr">#4616</span> <a href="viewtopic.php?pid=1514288#p1514288">2015-03-26 06:16:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89764">syshack</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-24</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:syshack@me.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><p>hi,aw<br /> I followed this article step by step( <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Virtualization_Deployment_and_Administration_Guide/sect-device-GPU.html" rel="nofollow">https://access.redhat.com/documentation … e-GPU.html</a> ) to passthrough Grid K2 to my Win7 vm and got code 43 after installed drivers.</p><p>[root@localhost ~]# uname -a<br />Linux localhost.localdomain 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux<br />[root@localhost ~]# /usr/libexec/qemu-kvm --version<br />QEMU emulator version 1.5.3 (qemu-kvm-1.5.3-60.el7), Copyright (c) 2003-2008 Fabrice Bellard<br />[root@localhost ~]# lspci |grep K2<br />05:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)<br />06:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)</p></div></blockquote></div><p>Looks like you&#039;re running RHEL, please file a <a href="http://bugzilla.redhat.com" rel="nofollow">bugzilla</a> and add me to the cc - alex.williamson@redhat.com</p><p>Please include the type of hardware that you&#039;re using (Nvidia is rather particular about being on a GRID qualified system), lspci -vvv, domain xml, libvirt log for the domain (/var/log/libvirt/qemu/$DOMAIN.log), and host dmesg.&#160; Thanks</p></div></blockquote></div><p>i&#039;v filed a bugzia,pls check,thx. ( <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1206006)" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=1206006)</a><br />if need more details,let me know and i will provid as soon as possible.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514288">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514294" class="blockpost rowodd"> <h2><span><span class="conr">#4617</span> <a href="viewtopic.php?pid=1514294#p1514294">2015-03-26 07:48:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89764">syshack</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-24</span></dd> <dd><span>Posts: 5</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:syshack@me.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><p>hi,aw<br /> I followed this article step by step( <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Virtualization_Deployment_and_Administration_Guide/sect-device-GPU.html" rel="nofollow">https://access.redhat.com/documentation … e-GPU.html</a> ) to passthrough Grid K2 to my Win7 vm and got code 43 after installed drivers.</p><p>[root@localhost ~]# uname -a<br />Linux localhost.localdomain 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux<br />[root@localhost ~]# /usr/libexec/qemu-kvm --version<br />QEMU emulator version 1.5.3 (qemu-kvm-1.5.3-60.el7), Copyright (c) 2003-2008 Fabrice Bellard<br />[root@localhost ~]# lspci |grep K2<br />05:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)<br />06:00.0 VGA compatible controller: NVIDIA Corporation GK104GL [GRID K2] (rev a1)</p></div></blockquote></div><p>Looks like you&#039;re running RHEL, please file a <a href="http://bugzilla.redhat.com" rel="nofollow">bugzilla</a> and add me to the cc - alex.williamson@redhat.com</p><p>Please include the type of hardware that you&#039;re using (Nvidia is rather particular about being on a GRID qualified system), lspci -vvv, domain xml, libvirt log for the domain (/var/log/libvirt/qemu/$DOMAIN.log), and host dmesg.&#160; Thanks</p></div></blockquote></div><p>i&#039;v filed a bugzia,pls check,thx. ( <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1206006)" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=1206006)</a><br />if need more details,let me know and i will provid as soon as possible.</p></div></blockquote></div><p>im sorry ，i make a stupid mistake. the fails caused by power shortage.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514294">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514334" class="blockpost roweven"> <h2><span><span class="conr">#4618</span> <a href="viewtopic.php?pid=1514334#p1514334">2015-03-26 12:59:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mutiny wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>I don&#039;t think I&#039;m understanding the first half of your question.&#160; You&#039;re running on a Z97 PCH, aka Wildcat Point, which is already covered by the quirks you quoted.&#160; Why would you need to add IDs to the table for your system for PCH root ports?&#160; Do you have different device IDs or is something else below the root port causing undesirable grouping?&#160; If you have something in the same family as the PCH devices we currently quirk, it&#039;s plausible to think that adding IDs to that table will work correctly, but I can&#039;t confirm it.&#160; I thought we were already including all the major chipsets though.&#160; If we&#039;re missing something, let me know and I can ask Intel.</p><p>For Core i5/7 or Xeon E3 processor root ports, we have no indication that there&#039;s any isolation nor programming information to enable whatever isolation the ports may provide.&#160; Intel is not interested in providing quirks for these ports.&#160; You could add a fixed quirk for your specific IDs, but I fail to see how that&#039;s any better than the ACS override patch and command line control.&#160; Are you simply looking for a smaller patch that&#039;s more portable between kernel versions?&#160; Note that the ACS override patch does allow you to specify specific vendor and device IDs if you want to be more surgical than enabling all downstream ports.</p></div></blockquote></div><p>Yes, you are right, I am asking about the Z97 PCH because my particular IDs don&#039;t seem to exist in the current quirked list. The current list under Wildcat PCH in quirks.c all have IDs of 0x9cXX, whereas the PCH IDs on my motherboard are 0x8c90, 0x8c94, 0x8c96, and 0x8c9c. The motherboard is a Gigabyte GA-Z97X-UD5H-BK.</p><p>I guess I was assuming there was something in the most recent kernel versions where it would be as easy as adding the processor root ports to a list, like the PCH root ports quirks, because as I understand it, without any support from Intel I&#039;ll basically be adding these quirks/patches to each kernel udpate for the rest of time. You are completely correct that I am just looking for something simpler to modify between kernel updates. If the ACS patch still best applies in this situation, then I&#039;ll go that route for the Core i7 root ports.</p></div></blockquote></div><p>Double checking ark, Z97 is actually Lynx Point, which I thought was covered by the two sets of Lynx Point entries we have, but apparently not.&#160; The datasheet confirms your device ID values.&#160; I&#039;ll ask Intel about these.&#160; Chances are good that they will follow the same programming model as existing PCH root ports and could be added to the table, but we&#039;ll need to see if Intel is willing to do the legwork to verify this.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514334">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514335" class="blockpost rowodd"> <h2><span><span class="conr">#4619</span> <a href="viewtopic.php?pid=1514335#p1514335">2015-03-26 13:01:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><div class="quotebox"><cite>syshack wrote:</cite><blockquote><div><p>i&#039;v filed a bugzia,pls check,thx. ( <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1206006)" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=1206006)</a><br />if need more details,let me know and i will provid as soon as possible.</p></div></blockquote></div><p>im sorry ，i make a stupid mistake. the fails caused by power shortage.</p></div></blockquote></div><p>Glad you got it working</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514335">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514347" class="blockpost roweven"> <h2><span><span class="conr">#4620</span> <a href="viewtopic.php?pid=1514347#p1514347">2015-03-26 14:26:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80933">Cubex</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-04-06</span></dd> <dd><span>Posts: 24</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:cubexed@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="codebox"><pre><code>[ 300.233368] mce: [Hardware Error]: Machine check events logged</code></pre></div><p>This is very, very bad. Check what ever it is. It may be a simple overheat, or something worse.</p></div></blockquote></div><p>Seems to occur always in 300 secs mark after boot up, I tried to read using mcelog program but Im not sure how to read the event.</p><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>Hmm, check your CPU for bugs. I have AMD family 15h cpu, and there&#039;s a revision guide for it saying that &quot;hardware lockups may happen because of an interrupt&quot; and stuff like that.</p></div></blockquote></div><p>My CPU is i7 5820k, an 2011 v3 socket Haswell-E processor, this seems to be the documentation, I didn&#039;t found anything too much relevant about any posible cause of these hangs<br /><a href="http://www.intel.com/content/dam/www/public/us/en/documents/datasheets/core-i7-lga2011-3-datasheet-vol-1.pdf" rel="nofollow">http://www.intel.com/content/dam/www/pu … -vol-1.pdf</a></p><p>Also I tried to use kdump mechanism for &quot;capturing&quot; the kernel panic but seems that computer completelly crashes, maybe even before a kernel panic actually occurs? I had a feeling that reset button was unresponsible for a sec or two</p> <p class="postedit"><em>Last edited by Cubex (2015-03-26 14:28:49)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514347">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514350" class="blockpost rowodd"> <h2><span><span class="conr">#4621</span> <a href="viewtopic.php?pid=1514350#p1514350">2015-03-26 14:39:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Cubex wrote:</cite><blockquote><div><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="codebox"><pre><code>[ 300.233368] mce: [Hardware Error]: Machine check events logged</code></pre></div><p>This is very, very bad. Check what ever it is. It may be a simple overheat, or something worse.</p></div></blockquote></div><p>Seems to occur always in 300 secs mark after boot up, I tried to read using mcelog program but Im not sure how to read the event.</p><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p>Hmm, check your CPU for bugs. I have AMD family 15h cpu, and there&#039;s a revision guide for it saying that &quot;hardware lockups may happen because of an interrupt&quot; and stuff like that.</p></div></blockquote></div><p>My CPU is i7 5820k, an 2011 v3 socket Haswell-E processor, this seems to be the documentation, I didn&#039;t found anything too much relevant about any posible cause of these hangs<br /><a href="http://www.intel.com/content/dam/www/public/us/en/documents/datasheets/core-i7-lga2011-3-datasheet-vol-1.pdf" rel="nofollow">http://www.intel.com/content/dam/www/pu … -vol-1.pdf</a></p><p>Also I tried to use kdump mechanism for &quot;capturing&quot; the kernel panic but seems that computer completelly crashes, maybe even before a kernel panic actually occurs? I had a feeling that reset button was unresponsible for a sec or two</p></div></blockquote></div><p><a href="https://www.kernel.org/doc/Documentation/sysrq.txt" rel="nofollow">https://www.kernel.org/doc/Documentation/sysrq.txt</a></p><p>I&#039;ve not tried this yet, but I plan to.</p> <p class="postedit"><em>Last edited by The_Moves (2015-03-26 14:40:39)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514350">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514356" class="blockpost roweven"> <h2><span><span class="conr">#4622</span> <a href="viewtopic.php?pid=1514356#p1514356">2015-03-26 14:56:48</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=59241">tritron4</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-04-14</span></dd> <dd><span>Posts: 146</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=59241">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I have HP server and I am trying assign raid controller. It is being blocked by dma write patch. I wonder if I add my motherboard controller pci can be&#160; &#160;added to this and i can override the error I am getting</p><div class="quotebox"><cite>mutiny wrote:</cite><blockquote><div><p>Hi aw,</p><p>I was just curious, since some PCIe root ports without ACS support but with vendor verification of disabled peer-to-peer interaction, some devices were quirked in the kernel:</p><div class="codebox"><pre><code>static const u16 pci_quirk_intel_pch_acs_ids[] = { /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Ibexpeak PCH */ 0x3b42, 0x3b43, 0x3b44, 0x3b45, 0x3b46, 0x3b47, 0x3b48, 0x3b49, 0x3b4a, 0x3b4b, 0x3b4c, 0x3b4d, 0x3b4e, 0x3b4f, 0x3b50, 0x3b51, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Cougarpoint PCH */ 0x1c10, 0x1c11, 0x1c12, 0x1c13, 0x1c14, 0x1c15, 0x1c16, 0x1c17, 0x1c18, 0x1c19, 0x1c1a, 0x1c1b, 0x1c1c, 0x1c1d, 0x1c1e, 0x1c1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Pantherpoint PCH */ 0x1e10, 0x1e11, 0x1e12, 0x1e13, 0x1e14, 0x1e15, 0x1e16, 0x1e17, 0x1e18, 0x1e19, 0x1e1a, 0x1e1b, 0x1e1c, 0x1e1d, 0x1e1e, 0x1e1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Lynxpoint-H PCH */ 0x8c10, 0x8c11, 0x8c12, 0x8c13, 0x8c14, 0x8c15, 0x8c16, 0x8c17, 0x8c18, 0x8c19, 0x8c1a, 0x8c1b, 0x8c1c, 0x8c1d, 0x8c1e, 0x8c1f, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Lynxpoint-LP PCH */ 0x9c10, 0x9c11, 0x9c12, 0x9c13, 0x9c14, 0x9c15, 0x9c16, 0x9c17, 0x9c18, 0x9c19, 0x9c1a, 0x9c1b, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Wildcat PCH */ 0x9c90, 0x9c91, 0x9c92, 0x9c93, 0x9c94, 0x9c95, 0x9c96, 0x9c97, 0x9c98, 0x9c99, 0x9c9a, 0x9c9b, /1 /bin /boot /cdrom /dev /etc /home /initrd.img /initrd.img.old /lib /lib32 /lib64 /libx32 /lost+found /media /mnt /opt /proc /root /run /sbin /srv /sys /tmp /ubiquity-apt-clone /usr /var /vmlinuz /vmlinuz.old /win81-base.qcow2 /win81-base.qcow2.md5 /win81-writable-amd.qcow2 /win81-writable-nvidia.qcow2 /win81-writable-nvidia.qcow2.backup Patsburg (X79) PCH */ 0x1d10, 0x1d12, 0x1d14, 0x1d16, 0x1d18, 0x1d1a, 0x1d1c, 0x1d1e, };</code></pre></div><p>Now basically what I&#039;m wondering, is if adding other root port PCI ids to this list would effectively be the same as applying previous ACS override kernel patches and providing override ID through kernel options? Also, would this be the same for adding the ID for the processor&#039;s own PCIe root ports, and not just PCH root ports?</p><p>I think I&#039;ve posted something like this in the past, but for many Z97 motherboards, the system looks something like:<br /><a href="http://i.imgur.com/VtAr2ni.png" rel="nofollow">http://i.imgur.com/VtAr2ni.png</a><br />where the only GPU pci-express slots are provided by the processor, and none are available from the PCH, so the only option would be to force separation of the processor root port. What are the ramifications of doing this through the existing quirked list, instead of using your previous ACS patches (besides the obvious possible effects of ACS patches in general)</p></div></blockquote></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514356">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514357" class="blockpost rowodd"> <h2><span><span class="conr">#4623</span> <a href="viewtopic.php?pid=1514357#p1514357">2015-03-26 15:02:20</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>tritron4 wrote:</cite><blockquote><div><p>I have HP server and I am trying assign raid controller. It is being blocked by dma write patch. I wonder if I add my motherboard controller pci can be&#160; &#160;added to this and i can override the error I am getting</p></div></blockquote></div><p>I don&#039;t know what dma write patch you&#039;re talking about, but assigning the integrated raid controller on HP systems is just asking for trouble and will likely be prevented on newer kernels that exclude devices associated with VT-d RMRRs.&#160; PS - please quote appropriately and avoid top-posting.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514357">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514360" class="blockpost roweven"> <h2><span><span class="conr">#4624</span> <a href="viewtopic.php?pid=1514360#p1514360">2015-03-26 15:25:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=59241">tritron4</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-04-14</span></dd> <dd><span>Posts: 146</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=59241">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>tritron4 wrote:</cite><blockquote><div><p>I have HP server and I am trying assign raid controller. It is being blocked by dma write patch. I wonder if I add my motherboard controller pci can be&#160; &#160;added to this and i can override the error I am getting</p></div></blockquote></div><p>I don&#039;t know what dma write patch you&#039;re talking about, but assigning the integrated raid controller on HP systems is just asking for trouble and will likely be prevented on newer kernels that exclude devices associated with VT-d RMRRs.&#160; PS - please quote appropriately and avoid top-posting.</p></div></blockquote></div><p>It is pci-e sas raid controller and&#160; not build in&#160; and Rmrr is preventing assignment of raid card. Is there a way to force assignment of such card ?<br />Everything was working fine with xen.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514360">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1514364" class="blockpost rowodd"> <h2><span><span class="conr">#4625</span> <a href="viewtopic.php?pid=1514364#p1514364">2015-03-26 15:55:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>tritron4 wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>tritron4 wrote:</cite><blockquote><div><p>I have HP server and I am trying assign raid controller. It is being blocked by dma write patch. I wonder if I add my motherboard controller pci can be&#160; &#160;added to this and i can override the error I am getting</p></div></blockquote></div><p>I don&#039;t know what dma write patch you&#039;re talking about, but assigning the integrated raid controller on HP systems is just asking for trouble and will likely be prevented on newer kernels that exclude devices associated with VT-d RMRRs.&#160; PS - please quote appropriately and avoid top-posting.</p></div></blockquote></div><p>It is pci-e sas raid controller and&#160; not build in&#160; and Rmrr is preventing assignment of raid card. Is there a way to force assignment of such card ?<br />Everything was working fine with xen.</p></div></blockquote></div><p>As the error message says, contact your vendor.&#160; The problems with RMRRs are even worse that ACS and &quot;working fine&quot; may just mean you were lucky.&#160; We&#039;ll have a white paper published on this shortly, but in the meantime you can get an understanding of the problems from this thread - <a href="https://www.marc.info/?l=kvm&amp;m=142561921430906" rel="nofollow">https://www.marc.info/?l=kvm&amp;m=142561921430906</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1514364">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=184">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=183">183</a> <a href="viewtopic.php?id=162768&amp;p=184">184</a> <strong>185</strong> <a href="viewtopic.php?id=162768&amp;p=186">186</a> <a href="viewtopic.php?id=162768&amp;p=187">187</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=186">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
