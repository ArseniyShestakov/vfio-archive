<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 234) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=234" title="Page 234" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=233" title="Page 233" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=233">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=232">232</a> <a href="viewtopic.php?id=162768&amp;p=233">233</a> <strong>234</strong></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1550939" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#5826</span> <a href="viewtopic.php?pid=1550939#p1550939">2015-08-05 22:58:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@FlatronEZ, for Code 43, look here : <a href="http://vfio.blogspot.fr/2015/05/vfio-gpu-how-to-series-part-4-our-first.html" rel="nofollow">http://vfio.blogspot.fr/2015/05/vfio-gp … first.html</a>, and search for :</p><div class="codebox"><pre><code> &lt;kvm&gt; &lt;hidden state=&#039;on&#039;/&gt; &lt;/kvm&gt;</code></pre></div><p>and <strong>hypervclock</strong>.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1550939">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1550969" class="blockpost roweven"> <h2><span><span class="conr">#5827</span> <a href="viewtopic.php?pid=1550969#p1550969">2015-08-06 00:19:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>WorMzy wrote:</cite><blockquote><div><div class="quotebox"><cite>FlatronEZ wrote:</cite><blockquote><div><p>Hello,</p><p>I am new to this community and hope I don&#039;t do anything completely wrong here <img src="https://bbs.archlinux.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />First my setup:</p><div class="codebox"><pre><code>Ubuntu 15.04 3.19.0-26-generic #27-Ubuntu SMP Tue Jul 28 18:27:31 UTC 2015 QEMU emulator version 2.2.0 (Debian 1:2.2+dfsg-5expubuntu9.3) i7 4790k Nvidia GTX 750 Ti (Palit) (in main PCIe slot) MB: Gigabyte Z97X Gaming 7</code></pre></div></div></blockquote></div><p>Please ask on the Ubuntu support forums, we only support Arch here.</p><p><a href="https://wiki.archlinux.org/index.php/Forum_etiquette#Arch_Linux_distribution_support_ONLY" rel="nofollow">https://wiki.archlinux.org/index.php/Fo … pport_ONLY</a></p></div></blockquote></div><p>You realize that question had no dependency whatsoever on the distro, right?&#160; And banned?&#160; For that?&#160; Was that Duelist trolling or was that really ban-worthy?&#160; Not gaining any friends here.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1550969">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1550972" class="blockpost rowodd"> <h2><span><span class="conr">#5828</span> <a href="viewtopic.php?pid=1550972#p1550972">2015-08-06 00:26:10</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>WorMzy wrote:</cite><blockquote><div><div class="quotebox"><cite>FlatronEZ wrote:</cite><blockquote><div><p>Hello,</p><p>I am new to this community and hope I don&#039;t do anything completely wrong here <img src="https://bbs.archlinux.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />First my setup:</p><div class="codebox"><pre><code>Ubuntu 15.04 3.19.0-26-generic #27-Ubuntu SMP Tue Jul 28 18:27:31 UTC 2015 QEMU emulator version 2.2.0 (Debian 1:2.2+dfsg-5expubuntu9.3) i7 4790k Nvidia GTX 750 Ti (Palit) (in main PCIe slot) MB: Gigabyte Z97X Gaming 7</code></pre></div></div></blockquote></div><p>Please ask on the Ubuntu support forums, we only support Arch here.</p><p><a href="https://wiki.archlinux.org/index.php/Forum_etiquette#Arch_Linux_distribution_support_ONLY" rel="nofollow">https://wiki.archlinux.org/index.php/Fo … pport_ONLY</a></p></div></blockquote></div><p>You realize that question had no dependency whatsoever on the distro, right?&#160; And banned?&#160; For that?&#160; Was that Duelist trolling or was that really ban-worthy?&#160; Not gaining any friends here.</p></div></blockquote></div><p>Banned because the mod made it clear that these boards are for the support of Arch, not Ubuntu: Flatron ignored that polite pointer to our Etiquette.<br />Duelist was banned for provoking the staff and then creating three more accounts to continue to post; again, flouting the rules.</p><p>As for making friends, that isn&#039;t high on my list of priorities. Joining this community and participating here is contingent on following the rules. If members can&#039;t--or won&#039;t--abide by those rules then the thread will be closed.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1550972">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1550991" class="blockpost roweven"> <h2><span><span class="conr">#5829</span> <a href="viewtopic.php?pid=1550991#p1550991">2015-08-06 02:00:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong>Ecliptual</strong></dt> <dd class="usertitle"><strong>Guest</strong></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>If members can&#039;t--or won&#039;t--abide by those rules then the thread will be closed.</p></div></blockquote></div><p>Alright then. If this endangers or jeopardizes the whole thread here - okay. I will leave, if my presence is so strictly not allowed here. I know you can track my activity there easily.</p><p>But there will be other users coming in from the... google(or other search engines) results. And not everyone will be using arch. <br />Sadly, that&#039;s how it is happening now.<br />I respect your actions. I see you all really have gathered and discussed the problems. You have the final word after all.<br />Do you have the technical possibility to put an advice somewhere on this thread&#039;s page, where everyone will see it, that non-arch distributions support is not provided?<br />That would be very helpful for those, who may accidentally come here to ask.</p><p>P.S.<br />Disband this account, again. That&#039;s a nice enough nickname to be used by someone else.</p> <p class="postedit"><em>Last edited by Ecliptual (2015-08-06 02:01:37)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1550991">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1550998" class="blockpost rowodd"> <h2><span><span class="conr">#5830</span> <a href="viewtopic.php?pid=1550998#p1550998">2015-08-06 02:14:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Ecliptual wrote:</cite><blockquote><div><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>If members can&#039;t--or won&#039;t--abide by those rules then the thread will be closed.</p></div></blockquote></div><p>Alright then. If this endangers or jeopardizes the whole thread here - okay. I will leave, if my presence is so strictly not allowed here. I know you can track my activity there easily.</p></div></blockquote></div><p>This isn&#039;t about you. If you had adopted this sort of helpful approach earlier, much of this drama could have been avoided. I&#039;ll delete this account, but if you are prepared to abide by the rules, your original account can be unbanned. Email me if you want this to happen.</p><div class="quotebox"><blockquote><div><p>Do you have the technical possibility to put an advice somewhere on this thread&#039;s page, where everyone will see it, that non-arch distributions support is not provided?<br />That would be very helpful for those, who may accidentally come here to ask.</p></div></blockquote></div><p>There is no point pasting the Etiquette into a 200 page thread. <em>Everyone</em> here is expected to have read it and to agree to follow it.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1550998">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551046" class="blockpost roweven"> <h2><span><span class="conr">#5831</span> <a href="viewtopic.php?pid=1551046#p1551046">2015-08-06 07:34:01</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84538">mauorrizze</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-22</span></dd> <dd><span>Posts: 17</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84538">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>If you had adopted this sort of helpful approach earlier,</p></div></blockquote></div><p>Just my quick thoughts... Duellist has been helping in this thread for several months or even a year and invested some time in this, probably comparable to the commitment of your moderators. To my knowledge he started being a little more offensive after being told that this help was unwanted by the authorities.</p><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>much of this drama could have been avoided.</p></div></blockquote></div><p>Most if not all the drama could have been avoided if you wouln&#039;t have let this thread grow to one of the most resourceful places about this topic (including questions and help from non-archers) and start enforcing your arch-only-rule delayed by two years.</p><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p><em>Everyone</em> here is expected to have read it and to agree to follow it.</p></div></blockquote></div><p>Of course.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551046">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551051" class="blockpost rowodd"> <h2><span><span class="conr">#5832</span> <a href="viewtopic.php?pid=1551051#p1551051">2015-08-06 07:46:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mauorrizze wrote:</cite><blockquote><div><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>much of this drama could have been avoided.</p></div></blockquote></div><p>Most if not all the drama could have been avoided if you wouln&#039;t have let this thread grow to one of the most resourceful places about this topic (including questions and help from non-archers) and start enforcing your arch-only-rule delayed by two years.</p></div></blockquote></div><p>I&#039;m really getting tired of this. The fact that no-one from the staff has paid any attention to this thread for two years is completely irrelevant: that is not a license to believe that you are free to behave as you will and have earned some sort of special dispensation from the rules others have to abide by.</p><p>The boards are busy and the mod team is small. The only reason I came in here was because some muppet using Ubuntu posted in one of the high volume boards and I mistakenly merged it here before I realised it had nothing to do with Arch.</p><p>So, let me be very clear, for the last time. There is nothing about this thread or the people that post in it that is special: you aren&#039;t exempt from the rules that govern these boards and they will be applied equally to all. If you have a problem with that, one of the mod team can show you the door.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551051">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551053" class="blockpost roweven"> <h2><span><span class="conr">#5833</span> <a href="viewtopic.php?pid=1551053#p1551053">2015-08-06 08:10:02</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=92953">morphological</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-08-01</span></dd> <dd><span>Posts: 7</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Using the i915 and arbiter patch method.<br />I am trying to enable HyperV as suggested by nbhs: <a href="http://blog.wikichoon.com/2014/07/enabling-hyper-v-enlightenments-with-kvm.html" rel="nofollow">http://blog.wikichoon.com/2014/07/enabl … h-kvm.html</a></p><p>However, I cannot seem to find the xml config file for my virtual machine.<br />/etc/libvirt/qemu&#160; only contains a folder named networks, with xml files specific to that.</p><p>I also could not extract the xml file from my existing virtual machine.<br />Some sites are discouraging Nvidia card owners from applying these hyper-v settings, as they could cause instability. Are there any Nvidia owners here who have tried it?</p><p>I set it up using this this script:</p><div class="codebox"><pre class="vscroll"><code> #!/bin/bash configfile=/etc/vfio-pci.cfg vfiobind() { dev=&quot;$1&quot; vendor=$(cat /sys/bus/pci/devices/$dev/vendor) device=$(cat /sys/bus/pci/devices/$dev/device) if [ -e /sys/bus/pci/devices/$dev/driver ]; then echo $dev &gt; /sys/bus/pci/devices/$dev/driver/unbind fi echo $vendor $device &gt; /sys/bus/pci/drivers/vfio-pci/new_id } modprobe vfio-pci cat $configfile | while read line;do echo $line | grep ^# &gt;/dev/null 2&gt;&amp;1 &amp;&amp; continue vfiobind $line done sudo qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 4,sockets=1,cores=4,threads=4 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 \ -drive file=/media/jackson/2cf57f0f/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -usb -usbdevice host:045e:0745 \ -boot menu=on exit 0</code></pre></div> <p class="postedit"><em>Last edited by morphological (2015-08-06 10:26:25)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551053">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551076" class="blockpost rowodd"> <h2><span><span class="conr">#5834</span> <a href="viewtopic.php?pid=1551076#p1551076">2015-08-06 11:15:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>morphological wrote:</cite><blockquote><div><p>Using the i915 and arbiter patch method.<br />I am trying to enable HyperV as suggested by nbhs: <a href="http://blog.wikichoon.com/2014/07/enabling-hyper-v-enlightenments-with-kvm.html" rel="nofollow">http://blog.wikichoon.com/2014/07/enabl … h-kvm.html</a></p><p>However, I cannot seem to find the xml config file for my virtual machine.<br />/etc/libvirt/qemu&#160; only contains a folder named networks, with xml files specific to that.</p><p>I also could not extract the xml file from my existing virtual machine.<br />Some sites are discouraging Nvidia card owners from applying these hyper-v settings, as they could cause instability. Are there any Nvidia owners here who have tried it?</p><p>I set it up using this this script:</p><div class="codebox"><pre class="vscroll"><code> #!/bin/bash configfile=/etc/vfio-pci.cfg vfiobind() { dev=&quot;$1&quot; vendor=$(cat /sys/bus/pci/devices/$dev/vendor) device=$(cat /sys/bus/pci/devices/$dev/device) if [ -e /sys/bus/pci/devices/$dev/driver ]; then echo $dev &gt; /sys/bus/pci/devices/$dev/driver/unbind fi echo $vendor $device &gt; /sys/bus/pci/drivers/vfio-pci/new_id } modprobe vfio-pci cat $configfile | while read line;do echo $line | grep ^# &gt;/dev/null 2&gt;&amp;1 &amp;&amp; continue vfiobind $line done sudo qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 4,sockets=1,cores=4,threads=4 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 \ -drive file=/media/jackson/2cf57f0f/windows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -usb -usbdevice host:045e:0745 \ -boot menu=on exit 0</code></pre></div></div></blockquote></div><p>They do not cause instabilities. The nvidia drivers shut themselves off when they see you&#039;re trying to do the passthrough thing with a geforce card.<br /><a href="http://blog.wikichoon.com/2014/07/enabling-hyper-v-enlightenments-with-kvm.html" rel="nofollow">That guide</a> tells you to add</p><div class="codebox"><pre><code>hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time </code></pre></div><p> to your -cpu flag in commandline.<br />So it&#039;ll be like this:</p><div class="codebox"><pre><code>-cpu kvm=off,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time </code></pre></div><p>For additional info, read <a href="http://vfio.blogspot.com/" rel="nofollow">aw&#039;s blog</a></p><br /><p>Now for the distro battery:<br />Seems like it&#039;s really against the local law to ask for support of other distributives(even though most of the questions are distro-agnostic), so i&#039;ve come up with a shaky compromise.<br />Statistics(that big spreadsheet) shows that there&#039;s a majority of arch users, and then come debian, ubuntu, gentoo, fedora and mint.<br />My plan is simple: i&#039;ll create an universal and fresh op-post and a thread on each distribution&#039;s board. So when people come from google(or other search engines), they will be directed to their distro&#039;s forum into an appropriate thread.<br />I do have doubts about this working, but well, what else can i do.<br />Now just stand by while i&#039;m trying to write this all up.</p><p>EDIT:<br /><span class="bbs">OP-post alpha(or beta). Not even close to finish. Feel free to comment.</span> I knew i didn&#039;t include the link...</p> <p class="postedit"><em>Last edited by Duelist (2015-08-06 16:24:26)</em></p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551076">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551090" class="blockpost roweven"> <h2><span><span class="conr">#5835</span> <a href="viewtopic.php?pid=1551090#p1551090">2015-08-06 12:58:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=92953">morphological</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-08-01</span></dd> <dd><span>Posts: 7</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Thank you very much for your quick reply!</p><p>I believe I am missing the necessary packages to use this -cpu option from the commandline.<br />Is this a command specific to qemu or virsh etc.?<br />On google I only see people using it in conjunction with their VM scripts, not from the commandline.</p><div class="codebox"><pre><code>-cpu kvm=off,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time </code></pre></div><p>As in terms of the other issue.<br />In order to be able to participate, I made a fresh install of arch and got the passthrough working.<br />Then I applied everything I had learned to my Lubuntu installation.:)</p><p>It&#039;s amazing how knowledgeable everybody is here, and I think its only fair, that if you are consulting an arch thread, that you also actually use the environment it is intended for.</p> <p class="postedit"><em>Last edited by morphological (2015-08-06 12:58:45)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551090">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551119" class="blockpost rowodd"> <h2><span><span class="conr">#5836</span> <a href="viewtopic.php?pid=1551119#p1551119">2015-08-06 16:27:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>morphological wrote:</cite><blockquote><div><p>Thank you very much for your quick reply!</p><p>I believe I am missing the necessary packages to use this -cpu option from the commandline.<br />Is this a command specific to qemu or virsh etc.?</p></div></blockquote></div><div class="quotebox"><blockquote><div><p>relaxed/hv_relaxed. Available in libvirt 1.0.0+ (commit) and qemu 1.1+ (commit). This bit disables a Windows sanity check that commonly results in a BSOD when the VM is running on a heavily loaded host (example bugs here, here, and here). Sounds similar to the Linux kernel option no_timer_check, which is automatically enabled when Linux is running on KVM.<br />&#160; &#160; vapic/hv_vapic. Available in libvirt 1.1.0+ (commit) and qemu 1.1+ (commit).<br />&#160; &#160; spinlocks/hv_spinlocks. Available in libvirt 1.1.0+ (commit) and qemu 1.1+ (commit)<br />&#160; &#160; hypervclock/hv_time. Available in libvirt 1.2.2+ (commit) and qemu 2.0+ (commit). Sounds similar to kvmclock, a paravirt time source which is used when Linux is running on KVM.</p></div></blockquote></div><p>Note the QEMU versions. We had 1.6.2 in fedora 20, and that was literally two years ago. I honestly believe every distro now has a recent version of QEMU.</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551119">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551125" class="blockpost roweven"> <h2><span><span class="conr">#5837</span> <a href="viewtopic.php?pid=1551125#p1551125">2015-08-06 17:08:43</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=91167">avi9526</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-05-15</span></dd> <dd><span>Posts: 9</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Is that possible to unbind the one and only GPU (radeon) from host OS, then use it for guest and after guest shutdown bind back to host (and maybe restart user session)?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551125">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551139" class="blockpost rowodd"> <h2><span><span class="conr">#5838</span> <a href="viewtopic.php?pid=1551139#p1551139">2015-08-06 18:02:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=93093">MrChefur</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-08-06</span></dd> <dd><span>Posts: 8</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:darth_zack_2006@yahoo.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I can&#039;t get the kernel to patch with the i915 patch, should I be using the older version of the kernel?<br />Currently I&#039;m using kernel 4.1.4.<br />I run the command </p><div class="codebox"><pre><code>patch -p1 i915_2.patch</code></pre></div><p>and it returns</p><div class="codebox"><pre><code>(Stripping trailing CRs from patch; use --binary to disable.) patching file drivers/gpu/drm/i915/i915_dma.c Reversed (or previously applied) patch detected! Skipping patch. 2 out of 2 hunks ignored -- savings rejects to file drivers/gpu/drm/i915/i915_dma.c.rej (Stripping trailing CRs from patch; use --binary to disable.) can&#039;t find file to patch at input line 56 Perhaps you used the wrong -p or --strip option? The text leading up to this was: -------------------------------------------- |diff --git a/drivers/gpu/drm/i915/i915_drv.h b/drivers/gpu/drm/i915/i915_drv.h |index ec82f6b..f3908f6 00644 |--- a/drivers/gpu/drm/i915/i915_drv.h |+++ b/drivers/gpu/drm/i915/i915_drv.h ----------------------------------------- File to patch:</code></pre></div><p>I&#039;m using the patch from <a href="https://lkml.org/lkml/2014/5/9/517" rel="nofollow">Here</a></p><p>EDIT (again):<br />I redownloaded the kernel and patch, extracted the kernel and applied the patch using the same command as before and now it&#039;s sitting on a blank line with the cursor just refreshing (I forget the term). Is it actually installing?<br />It&#039;s been going for half an hour now...</p><p>EDIT (again again):<br />I would really appreciate any help I can get here. The terminal doesn&#039;t do anything (I left it for 8+ hours on a high end system and nothing happened).<br />I read all the documentation I can find and I&#039;m still lost.</p> <p class="postedit"><em>Last edited by MrChefur (2015-08-07 06:23:40)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551139">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551148" class="blockpost roweven"> <h2><span><span class="conr">#5839</span> <a href="viewtopic.php?pid=1551148#p1551148">2015-08-06 18:38:26</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=86302">4kGamer</a></strong></dt> <dd class="usertitle"><strong>Banned</strong></dd> <dd><span>Registered: 2014-10-29</span></dd> <dd><span>Posts: 82</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:oktayaslantas@gmx.de">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I can&#039;t believe what I am reading here ...are you kidding me? Do you have ANY idea how valuable <strong>aw</strong> and <strong>nbhs</strong> and others have been for numerous people <strong>worldwide</strong>??? I have seen this very thread being linked in various other forums as the number one source for getting this complicated matter done. I certainly wouldn&#039;t have done it without them. No chance.</p><p>Please <strong>Jasonwryan</strong> Go AWAY and never come back here.</p> <p class="postedit"><em>Last edited by 4kGamer (2015-08-06 18:51:38)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551148">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551152" class="blockpost rowodd"> <h2><span><span class="conr">#5840</span> <a href="viewtopic.php?pid=1551152#p1551152">2015-08-06 19:06:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>4kGamer wrote:</cite><blockquote><div><p>I can&#039;t believe what I am reading here ...are you kidding me? Do you have ANY idea how valuable <strong>aw</strong> and <strong>nbhs</strong> and others have been for numerous people <strong>worldwide</strong>??? I have seen this very thread being linked in various other forums as the number one source for getting this complicated matter done. I certainly wouldn&#039;t have done it without them. No chance.</p></div></blockquote></div><p>No-one cares what you think: <a href="https://wiki.archlinux.org/index.php/Forum_etiquette#Respect_the_staff" rel="nofollow">https://wiki.archlinux.org/index.php/Fo … _the_staff</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551152">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551167" class="blockpost roweven"> <h2><span><span class="conr">#5841</span> <a href="viewtopic.php?pid=1551167#p1551167">2015-08-06 20:38:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84718">c00ter</a></strong></dt> <dd class="usertitle"><strong>Banned</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/84718.jpg?m=1409270393" width="68" height="80" alt="" /></dd> <dd><span>From: Alaskan in Washington State</span></dd> <dd><span>Registered: 2014-08-28</span></dd> <dd><span>Posts: 12</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84718">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>Please ask on your distro&#039;s boards, we only support Arch: <a href="https://wiki.archlinux.org/index.php/Forum_etiquette#Arch_Linux_distribution_support_ONLY" rel="nofollow">https://wiki.archlinux.org/index.php/Fo … pport_ONLY</a></p></div></blockquote></div><p>What? Why? we&#039;ve been using this forum for 2 years now for everything and everyone related to gpu passthrough, so why now? make no sense</p></div></blockquote></div><p>We have the policy for a reason. This thread is no different to the rest of the boards; so, yes, it does make sense, it is entirely consistent with the overall approach.</p></div></blockquote></div><p>Hence me old ma&#039;s saying: &quot;A <strong>foolish consistency</strong> is the hobgoblin of little minds.&quot;</p> </div> <div class="postsignature postmsg"><hr /><p>UNIX was not designed to stop you from doing stupid things, because that would also stop you from doing clever things. -- Doug Gwyn</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551167">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551169" class="blockpost rowodd"> <h2><span><span class="conr">#5842</span> <a href="viewtopic.php?pid=1551169#p1551169">2015-08-06 20:49:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Anyone else looking for a ban?</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551169">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551186" class="blockpost roweven"> <h2><span><span class="conr">#5843</span> <a href="viewtopic.php?pid=1551186#p1551186">2015-08-06 22:05:58</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58583">Nesousx</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-03-27</span></dd> <dd><span>Posts: 46</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58583">Email</a></span> <span class="website"><a href="https://www.kodi-xbmc.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>Anyone else looking for a ban?</p></div></blockquote></div><p>Yes sir, give me one please.</p><p>I don&#039;t see any harm in what we are doing in here helping other people, &quot;distro agnostic&quot;. Linux and open source is also about being open minded, imho. What I am reading here, is totally unbelievable. KVM VGA Passthrough is a topic many of us are comfortable with (or even more for a few of us), if we can&#039;t share that knowledge on those boards, then there is no point being here.</p> <p class="postedit"><em>Last edited by Nesousx (2015-08-06 22:13:24)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551186">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551188" class="blockpost rowodd"> <h2><span><span class="conr">#5844</span> <a href="viewtopic.php?pid=1551188#p1551188">2015-08-06 22:10:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84538">mauorrizze</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-22</span></dd> <dd><span>Posts: 17</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84538">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>avi9526 wrote:</cite><blockquote><div><p>Is that possible to unbind the one and only GPU (radeon) from host OS, then use it for guest and after guest shutdown bind back to host (and maybe restart user session)?</p></div></blockquote></div><p>That&#039;s very unlikely, graphic cards are a lot more complicated than USB devices or some controllers. The card you wanna pass through must not have been initialized by the Mainboards BIOS/UEFI before, so it&#039;s even hard to get a headless host setup working. My advise: add a cheap graphics card, insert it in the 1x oder 4x PCIe slot, not the faster ones connected to the CPU, to avoid the need of an ACS patch. Then convince your BIOS to boot with the small GPU and you can pass the other one using aw&#039;s guide.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551188">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551191" class="blockpost roweven"> <h2><span><span class="conr">#5845</span> <a href="viewtopic.php?pid=1551191#p1551191">2015-08-06 22:14:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Nesousx wrote:</cite><blockquote><div><p>I don&#039;t see any harm in what we are doing in here...</p></div></blockquote></div><p>None of the people moaning here contribute outside this thread or, I would guess, to Arch at all, so--to be clear--your thoughts about how the boards are run are irrelevant.</p><br /><p>The next person that posts a whine in here about our policy can thank themselves for having the thread closed. You want to share knowledge about KVM passthrough, then stick to that.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551191">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551244" class="blockpost rowodd"> <h2><span><span class="conr">#5846</span> <a href="viewtopic.php?pid=1551244#p1551244">2015-08-07 09:10:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79471">Bronek</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: London</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 90</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79471">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>Anyone else looking for a ban?</p></div></blockquote></div><p>Yes, me too please. I do use Arch as my favourite distro, but I also happen to use other distros as well, and I am not going to abide by the order to discriminate their users. You are welcome to interpret this as a declaration of disobedience and ban me to pre-empt any post of mine which might (or might not) benefit users of other distros. Have it your way, if that is what you want.</p> </div> <div class="postsignature postmsg"><hr /><p>Sorry about&#160; &quot;KVM VGA-Passthrough ...&quot; thread <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Anyone interested in continuing this discussion elsewhere, please contact me privately. I might be able to find it a new home.</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551244">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1551245" class="blockpost roweven"> <h2><span><span class="conr">#5847</span> <a href="viewtopic.php?pid=1551245#p1551245">2015-08-07 09:11:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=25579">jasonwryan</a></strong></dt> <dd class="usertitle"><strong>Forum &amp; Wiki Admin</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/25579.png?m=1386831523" width="80" height="69" alt="" /></dd> <dd><span>From: .nz</span></dd> <dd><span>Registered: 2009-05-09</span></dd> <dd><span>Posts: 15,669</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=25579">Email</a></span> <span class="website"><a href="http://jasonwryan.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Bronek wrote:</cite><blockquote><div><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>Anyone else looking for a ban?</p></div></blockquote></div><p>Yes, me too please. I do use Arch as my favourite distro, but I also happen to use other distros as well, and I am not going to abide by the order to discriminate their users. You are welcome to interpret this as a declaration of disobedience and ban me to pre-empt any post of mine which might (or might not) benefit users of other distros. Have it your way, if that is what you want.</p></div></blockquote></div><div class="quotebox"><cite>jasonwryan wrote:</cite><blockquote><div><p>The next person that posts a whine in here about our policy can thank themselves for having the thread closed. You want to share knowledge about KVM passthrough, then stick to that.</p></div></blockquote></div><p>And... we have a winner!</p><br /><br /><p>Closing.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://www.flickr.com/photos/jasonwryan/9333810442/lightbox/" rel="nofollow">Arch + dwm</a>&#160; &#160;•&#160; &#160;<a href="http://bitbucket.jasonwryan.com/" rel="nofollow">Mercurial repos</a>&#160; •&#160; &#160;<a href="https://github.com/jasonwryan/" rel="nofollow">Github</a></p><p>Registered Linux User #482438</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1551245">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=233">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=232">232</a> <a href="viewtopic.php?id=162768&amp;p=233">233</a> <strong>234</strong></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
