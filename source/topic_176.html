<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 176) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=176" title="Page 176" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=175" title="Page 175" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=177" title="Page 177" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=175">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=174">174</a> <a href="viewtopic.php?id=162768&amp;p=175">175</a> <strong>176</strong> <a href="viewtopic.php?id=162768&amp;p=177">177</a> <a href="viewtopic.php?id=162768&amp;p=178">178</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=177">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1507779" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#4376</span> <a href="viewtopic.php?pid=1507779#p1507779">2015-03-02 19:47:38</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>PureTryOut wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Then either VGA arbitration is not working or QEMU can&#039;t read the ROM on the GPU.&#160; VGA arbitration not working was a problem we used to see using the proprietary nvidia driver in the host (driver would lock and never release the VGA arbitration lock).&#160; Nvidia might have fixed this, dunno.&#160; The latter ROM issue would produce an invalid ROM contents message in dmesg.&#160; GeForce cards do not work as secondary GPUs in the guest.</p></div></blockquote></div><p>So is there any workaround or any way I can fix this?</p></div></blockquote></div><p>If you read the FAQ from the link below, you might find Question 9 interesting.&#160; If you look at the comments, you&#039;ll find a link to that patch.&#160; It looks like even the latest version of the Linux nvidia driver still has this problem.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507779">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507782" class="blockpost roweven"> <h2><span><span class="conr">#4377</span> <a href="viewtopic.php?pid=1507782#p1507782">2015-03-02 19:54:44</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=73114">noctavian</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-11</span></dd> <dd><span>Posts: 9</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=73114">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Great!, are you maintaining this database?</p></div></blockquote></div><p>That would be me.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">VGA-Passthrough configs</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507782">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507789" class="blockpost rowodd"> <h2><span><span class="conr">#4378</span> <a href="viewtopic.php?pid=1507789#p1507789">2015-03-02 20:30:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89165">terusus</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-27</span></dd> <dd><span>Posts: 6</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=89165">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>terusus wrote:</cite><blockquote><div><div class="codebox"><pre><code>dmesg...</code></pre></div></div></blockquote></div><p>This doesn&#039;t look very healthy.&#160; Get rid of those vbox drivers, we have no idea what they&#039;re doing and competing hypervisors often don&#039;t get along so well with each other.</p></div></blockquote></div><p>OK. After <em>apt-get purge virtualbox*</em> I did a restart and tried again - no change. In the meantime I read about MTRR and added some boot parameters. Here is my new dmesg:</p><div class="codebox"><pre class="vscroll"><code>[ 0.000000] Initializing cgroup subsys cpuset [ 0.000000] Initializing cgroup subsys cpu [ 0.000000] Initializing cgroup subsys cpuacct [ 0.000000] Linux version 3.19.0-6-kvm (root@UCPC) (gcc version 4.9.1 (Ubuntu 4.9.1-16ubuntu6) ) #6 SMP PREEMPT Fri Feb 27 12:37:03 EAT 2015 (Ubuntu 3.19.0-6.6-kvm 3.19.0) [ 0.000000] Command line: BOOT_IMAGE=/@/boot/vmlinuz-3.19.0-6-kvm root=UUID=a3929651-e09b-4f1c-afa3-a5516b17eabb ro rootflags=subvol=@ i915.enable_hd_vgaarb=1 pcie_acs_override=multifunction intel_iommu=on enable_mtrr_cleanup mtrr_spare_reg_nr=1 mtrr_gran_size=2M mtrr_chunk_size=128M quiet splash crashkernel=384M-:128M vt.handoff=7 [ 0.000000] KERNEL supported cpus: [ 0.000000] Intel GenuineIntel [ 0.000000] AMD AuthenticAMD [ 0.000000] Centaur CentaurHauls [ 0.000000] e820: BIOS-provided physical RAM map: [ 0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009d7ff] usable [ 0.000000] BIOS-e820: [mem 0x000000000009d800-0x000000000009ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000a956ffff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a9570000-0x00000000a9576fff] ACPI NVS [ 0.000000] BIOS-e820: [mem 0x00000000a9577000-0x00000000a9e4afff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a9e4b000-0x00000000aa0e4fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000aa0e5000-0x00000000bc1e3fff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bc1e4000-0x00000000bc3e9fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000bc3ea000-0x00000000bc426fff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bc427000-0x00000000bc4cefff] ACPI NVS [ 0.000000] BIOS-e820: [mem 0x00000000bc4cf000-0x00000000bcffefff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000bcfff000-0x00000000bcffffff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bf800000-0x00000000cf9fffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000f8000000-0x00000000fbffffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec00fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fed00000-0x00000000fed03fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fed1c000-0x00000000fed1ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000fee00fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000ff000000-0x00000000ffffffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000042e5fffff] usable [ 0.000000] Warning: PCIe ACS overrides enabled; This may allow non-IOMMU protected peer-to-peer DMA [ 0.000000] NX (Execute Disable) protection: active [ 0.000000] SMBIOS 2.7 present. [ 0.000000] DMI: To Be Filled By O.E.M. To Be Filled By O.E.M./H87 Pro4, BIOS P2.10 07/09/2014 [ 0.000000] e820: update [mem 0x00000000-0x00000fff] usable ==&gt; reserved [ 0.000000] e820: remove [mem 0x000a0000-0x000fffff] usable [ 0.000000] AGP: No AGP bridge found [ 0.000000] e820: last_pfn = 0x42e600 max_arch_pfn = 0x400000000 [ 0.000000] MTRR default type: uncachable [ 0.000000] MTRR fixed ranges enabled: [ 0.000000] 00000-9FFFF write-back [ 0.000000] A0000-BFFFF uncachable [ 0.000000] C0000-CFFFF write-protect [ 0.000000] D0000-E7FFF uncachable [ 0.000000] E8000-FFFFF write-protect [ 0.000000] MTRR variable ranges enabled: [ 0.000000] 0 base 0000000000 mask 7C00000000 write-back [ 0.000000] 1 base 0400000000 mask 7FE0000000 write-back [ 0.000000] 2 base 0420000000 mask 7FF8000000 write-back [ 0.000000] 3 base 0428000000 mask 7FFC000000 write-back [ 0.000000] 4 base 042C000000 mask 7FFE000000 write-back [ 0.000000] 5 base 042E000000 mask 7FFFC00000 write-back [ 0.000000] 6 base 042E400000 mask 7FFFE00000 write-back [ 0.000000] 7 base 00C0000000 mask 7FC0000000 uncachable [ 0.000000] 8 base 00BF800000 mask 7FFF800000 uncachable [ 0.000000] 9 disabled [ 0.000000] PAT configuration [0-7]: WB WC UC- UC WB WC UC- UC [ 0.000000] original variable MTRRs [ 0.000000] reg 0, base: 0GB, range: 16GB, type WB [ 0.000000] reg 1, base: 16GB, range: 512MB, type WB [ 0.000000] reg 2, base: 16896MB, range: 128MB, type WB [ 0.000000] reg 3, base: 17024MB, range: 64MB, type WB [ 0.000000] reg 4, base: 17088MB, range: 32MB, type WB [ 0.000000] reg 5, base: 17120MB, range: 4MB, type WB [ 0.000000] reg 6, base: 17124MB, range: 2MB, type WB [ 0.000000] reg 7, base: 3GB, range: 1GB, type UC [ 0.000000] reg 8, base: 3064MB, range: 8MB, type UC [ 0.000000] total RAM covered: 16094M [ 0.000000] gran_size: 2M chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] New variable MTRRs [ 0.000000] reg 0, base: 0GB, range: 2GB, type WB [ 0.000000] reg 1, base: 2GB, range: 1GB, type WB [ 0.000000] reg 2, base: 3064MB, range: 8MB, type UC [ 0.000000] reg 3, base: 4GB, range: 4GB, type WB [ 0.000000] reg 4, base: 8GB, range: 8GB, type WB [ 0.000000] reg 5, base: 16GB, range: 512MB, type WB [ 0.000000] reg 6, base: 16896MB, range: 256MB, type WB [ 0.000000] reg 7, base: 17126MB, range: 2MB, type UC [ 0.000000] reg 8, base: 17128MB, range: 8MB, type UC [ 0.000000] reg 9, base: 17136MB, range: 16MB, type UC [ 0.000000] e820: update [mem 0xbf800000-0xffffffff] usable ==&gt; reserved [ 0.000000] e820: last_pfn = 0xbd000 max_arch_pfn = 0x400000000 [ 0.000000] found SMP MP-table at [mem 0x000fd7f0-0x000fd7ff] mapped at [ffff8800000fd7f0] [ 0.000000] Scanning 1 areas for low memory corruption [ 0.000000] Base memory trampoline at [ffff880000097000] 97000 size 24576 [ 0.000000] Using GB pages for direct mapping [ 0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff] [ 0.000000] [mem 0x00000000-0x000fffff] page 4k [ 0.000000] BRK [0x01fd8000, 0x01fd8fff] PGTABLE [ 0.000000] BRK [0x01fd9000, 0x01fd9fff] PGTABLE [ 0.000000] BRK [0x01fda000, 0x01fdafff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0x42e400000-0x42e5fffff] [ 0.000000] [mem 0x42e400000-0x42e5fffff] page 2M [ 0.000000] BRK [0x01fdb000, 0x01fdbfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0x420000000-0x42e3fffff] [ 0.000000] [mem 0x420000000-0x42e3fffff] page 2M [ 0.000000] init_memory_mapping: [mem 0x400000000-0x41fffffff] [ 0.000000] [mem 0x400000000-0x41fffffff] page 2M [ 0.000000] init_memory_mapping: [mem 0x00100000-0xa956ffff] [ 0.000000] [mem 0x00100000-0x001fffff] page 4k [ 0.000000] [mem 0x00200000-0x3fffffff] page 2M [ 0.000000] [mem 0x40000000-0x7fffffff] page 1G [ 0.000000] [mem 0x80000000-0xa93fffff] page 2M [ 0.000000] [mem 0xa9400000-0xa956ffff] page 4k [ 0.000000] init_memory_mapping: [mem 0xa9577000-0xa9e4afff] [ 0.000000] [mem 0xa9577000-0xa95fffff] page 4k [ 0.000000] [mem 0xa9600000-0xa9dfffff] page 2M [ 0.000000] [mem 0xa9e00000-0xa9e4afff] page 4k [ 0.000000] BRK [0x01fdc000, 0x01fdcfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0xaa0e5000-0xbc1e3fff] [ 0.000000] [mem 0xaa0e5000-0xaa1fffff] page 4k [ 0.000000] [mem 0xaa200000-0xbbffffff] page 2M [ 0.000000] [mem 0xbc000000-0xbc1e3fff] page 4k [ 0.000000] BRK [0x01fdd000, 0x01fddfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0xbc3ea000-0xbc426fff] [ 0.000000] [mem 0xbc3ea000-0xbc426fff] page 4k [ 0.000000] init_memory_mapping: [mem 0xbcfff000-0xbcffffff] [ 0.000000] [mem 0xbcfff000-0xbcffffff] page 4k [ 0.000000] init_memory_mapping: [mem 0x100000000-0x3ffffffff] [ 0.000000] [mem 0x100000000-0x3ffffffff] page 1G [ 0.000000] RAMDISK: [mem 0x357ee000-0x36beefff] [ 0.000000] ACPI: Early table checksum verification disabled [ 0.000000] ACPI: RSDP 0x00000000000F0490 000024 (v02 ALASKA) [ 0.000000] ACPI: XSDT 0x00000000BC4AB088 00008C (v01 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: FACP 0x00000000BC4B57E8 00010C (v05 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: DSDT 0x00000000BC4AB1A8 00A63B (v02 ALASKA A M I 00000210 INTL 20091112) [ 0.000000] ACPI: FACS 0x00000000BC4CD080 000040 [ 0.000000] ACPI: APIC 0x00000000BC4B58F8 000072 (v03 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: FPDT 0x00000000BC4B5970 000044 (v01 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: SSDT 0x00000000BC4B59B8 000539 (v01 PmRef Cpu0Ist 00003000 INTL 20051117) [ 0.000000] ACPI: SSDT 0x00000000BC4B5EF8 000AD8 (v01 PmRef CpuPm 00003000 INTL 20051117) [ 0.000000] ACPI: SSDT 0x00000000BC4B69D0 0001C7 (v01 PmRef LakeTiny 00003000 INTL 20051117) [ 0.000000] ACPI: MCFG 0x00000000BC4B6B98 00003C (v01 ALASKA A M I 01072009 MSFT 00000097) [ 0.000000] ACPI: HPET 0x00000000BC4B6BD8 000038 (v01 ALASKA A M I 01072009 AMI. 00000005) [ 0.000000] ACPI: SSDT 0x00000000BC4B6C10 00036D (v01 SataRe SataTabl 00001000 INTL 20091112) [ 0.000000] ACPI: SSDT 0x00000000BC4B6F80 003493 (v01 SaSsdt SaSsdt 00003000 INTL 20091112) [ 0.000000] ACPI: AAFT 0x00000000BC4BA418 0002BB (v01 ALASKA OEMAAFT 01072009 MSFT 00000097) [ 0.000000] ACPI: ASF! 0x00000000BC4BA6D8 0000A5 (v32 INTEL HCG 00000001 TFSM 000F4240) [ 0.000000] ACPI: DMAR 0x00000000BC4BA780 0000B8 (v01 INTEL HSW 00000001 INTL 00000001) [ 0.000000] ACPI: Local APIC address 0xfee00000 [ 0.000000] No NUMA configuration found [ 0.000000] Faking a node at [mem 0x0000000000000000-0x000000042e5fffff] [ 0.000000] NODE_DATA(0) allocated [mem 0x42e5f5000-0x42e5f9fff] [ 0.000000] Reserving 128MB of memory at 720MB for crashkernel (System RAM: 16037MB) [ 0.000000] [ffffea0000000000-ffffea0010bfffff] PMD -&gt; [ffff88041e000000-ffff88042dbfffff] on node 0 [ 0.000000] Zone ranges: [ 0.000000] DMA [mem 0x00001000-0x00ffffff] [ 0.000000] DMA32 [mem 0x01000000-0xffffffff] [ 0.000000] Normal [mem 0x100000000-0x42e5fffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x00001000-0x0009cfff] [ 0.000000] node 0: [mem 0x00100000-0xa956ffff] [ 0.000000] node 0: [mem 0xa9577000-0xa9e4afff] [ 0.000000] node 0: [mem 0xaa0e5000-0xbc1e3fff] [ 0.000000] node 0: [mem 0xbc3ea000-0xbc426fff] [ 0.000000] node 0: [mem 0xbcfff000-0xbcffffff] [ 0.000000] node 0: [mem 0x100000000-0x42e5fffff] [ 0.000000] Initmem setup node 0 [mem 0x00001000-0x42e5fffff] [ 0.000000] On node 0 totalpages: 4105501 [ 0.000000] DMA zone: 64 pages used for memmap [ 0.000000] DMA zone: 21 pages reserved [ 0.000000] DMA zone: 3996 pages, LIFO batch:0 [ 0.000000] DMA32 zone: 11967 pages used for memmap [ 0.000000] DMA32 zone: 765825 pages, LIFO batch:31 [ 0.000000] Normal zone: 52120 pages used for memmap [ 0.000000] Normal zone: 3335680 pages, LIFO batch:31 [ 0.000000] Reserving Intel graphics stolen memory at 0xbfa00000-0xcf9fffff [ 0.000000] ACPI: PM-Timer IO Port: 0x1808 [ 0.000000] ACPI: Local APIC address 0xfee00000 [ 0.000000] ACPI: LAPIC (acpi_id[0x01] lapic_id[0x00] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x02] lapic_id[0x02] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x03] lapic_id[0x04] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x04] lapic_id[0x06] enabled) [ 0.000000] ACPI: LAPIC_NMI (acpi_id[0xff] high edge lint[0x1]) [ 0.000000] ACPI: IOAPIC (id[0x02] address[0xfec00000] gsi_base[0]) [ 0.000000] IOAPIC[0]: apic_id 2, version 32, address 0xfec00000, GSI 0-23 [ 0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl) [ 0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level) [ 0.000000] ACPI: IRQ0 used by override. [ 0.000000] ACPI: IRQ9 used by override. [ 0.000000] Using ACPI (MADT) for SMP configuration information [ 0.000000] ACPI: HPET id: 0x8086a701 base: 0xfed00000 [ 0.000000] smpboot: Allowing 4 CPUs, 0 hotplug CPUs [ 0.000000] PM: Registered nosave memory: [mem 0x00000000-0x00000fff] [ 0.000000] PM: Registered nosave memory: [mem 0x0009d000-0x0009dfff] [ 0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff] [ 0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff] [ 0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xa9570000-0xa9576fff] [ 0.000000] PM: Registered nosave memory: [mem 0xa9e4b000-0xaa0e4fff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc1e4000-0xbc3e9fff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc427000-0xbc4cefff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc4cf000-0xbcffefff] [ 0.000000] PM: Registered nosave memory: [mem 0xbd000000-0xbf7fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xbf800000-0xcf9fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xcfa00000-0xf7ffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xf8000000-0xfbffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfc000000-0xfebfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfec00000-0xfec00fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfec01000-0xfecfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed00000-0xfed03fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed04000-0xfed1bfff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed1c000-0xfed1ffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed20000-0xfedfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfee00000-0xfee00fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfee01000-0xfeffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xff000000-0xffffffff] [ 0.000000] e820: [mem 0xcfa00000-0xf7ffffff] available for PCI devices [ 0.000000] Booting paravirtualized kernel on bare hardware [ 0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:4 nr_node_ids:1 [ 0.000000] PERCPU: Embedded 31 pages/cpu @ffff88042e200000 s87616 r8192 d31168 u524288 [ 0.000000] pcpu-alloc: s87616 r8192 d31168 u524288 alloc=1*2097152 [ 0.000000] pcpu-alloc: [0] 0 1 2 3 [ 0.000000] Built 1 zonelists in Node order, mobility grouping on. Total pages: 4041329 [ 0.000000] Policy zone: Normal [ 0.000000] Kernel command line: BOOT_IMAGE=/@/boot/vmlinuz-3.19.0-6-kvm root=UUID=a3929651-e09b-4f1c-afa3-a5516b17eabb ro rootflags=subvol=@ i915.enable_hd_vgaarb=1 pcie_acs_override=multifunction intel_iommu=on enable_mtrr_cleanup mtrr_spare_reg_nr=1 mtrr_gran_size=2M mtrr_chunk_size=128M quiet splash crashkernel=384M-:128M vt.handoff=7 [ 0.000000] Intel-IOMMU: enabled [ 0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes) [ 0.000000] xsave: enabled xstate_bv 0x7, cntxt size 0x340 using standard form [ 0.000000] AGP: Checking aperture... [ 0.000000] AGP: No AGP bridge found [ 0.000000] Calgary: detecting Calgary via BIOS EBDA area [ 0.000000] Calgary: Unable to locate Rio Grande table in EBDA - bailing! [ 0.000000] Memory: 15929224K/16422004K available (8010K kernel code, 1219K rwdata, 3752K rodata, 1376K init, 1300K bss, 492780K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1 [ 0.000000] Preemptible hierarchical RCU implementation. [ 0.000000] RCU dyntick-idle grace-period acceleration is enabled. [ 0.000000] RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=4. [ 0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4 [ 0.000000] NR_IRQS:16640 nr_irqs:456 16 [ 0.000000] Offload RCU callbacks from all CPUs [ 0.000000] Offload RCU callbacks from CPUs: 0-3. [ 0.000000] vt handoff: transparent VT on vt#7 [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] hpet clockevent registered [ 0.000000] tsc: Fast TSC calibration using PIT [ 0.000000] tsc: Detected 3399.297 MHz processor [ 0.000020] Calibrating delay loop (skipped), value calculated using timer frequency.. 6798.59 BogoMIPS (lpj=3399297) [ 0.000022] pid_max: default: 32768 minimum: 301 [ 0.000025] ACPI: Core revision 20141107 [ 0.006733] ACPI: All ACPI Tables successfully acquired [ 0.014052] Security Framework initialized [ 0.014062] AppArmor: AppArmor initialized [ 0.014062] Yama: becoming mindful. [ 0.014711] Dentry cache hash table entries: 2097152 (order: 12, 16777216 bytes) [ 0.016608] Inode-cache hash table entries: 1048576 (order: 11, 8388608 bytes) [ 0.017436] Mount-cache hash table entries: 32768 (order: 6, 262144 bytes) [ 0.017447] Mountpoint-cache hash table entries: 32768 (order: 6, 262144 bytes) [ 0.017612] Initializing cgroup subsys memory [ 0.017616] Initializing cgroup subsys devices [ 0.017617] Initializing cgroup subsys freezer [ 0.017619] Initializing cgroup subsys net_cls [ 0.017620] Initializing cgroup subsys blkio [ 0.017621] Initializing cgroup subsys perf_event [ 0.017623] Initializing cgroup subsys net_prio [ 0.017624] Initializing cgroup subsys hugetlb [ 0.017640] CPU: Physical Processor ID: 0 [ 0.017641] CPU: Processor Core ID: 0 [ 0.018391] mce: CPU supports 9 MCE banks [ 0.018401] CPU0: Thermal monitoring enabled (TM1) [ 0.018409] Last level iTLB entries: 4KB 1024, 2MB 1024, 4MB 1024 Last level dTLB entries: 4KB 1024, 2MB 1024, 4MB 1024, 1GB 4 [ 0.018483] Freeing SMP alternatives memory: 28K (ffffffff81e8a000 - ffffffff81e91000) [ 0.018970] ftrace: allocating 30017 entries in 118 pages [ 0.027605] dmar: Host address width 39 [ 0.027606] dmar: DRHD base: 0x000000fed90000 flags: 0x0 [ 0.027613] dmar: IOMMU 0: reg_base_addr fed90000 ver 1:0 cap c0000020660462 ecap f0101a [ 0.027614] dmar: DRHD base: 0x000000fed91000 flags: 0x1 [ 0.027617] dmar: IOMMU 1: reg_base_addr fed91000 ver 1:0 cap d2008020660462 ecap f010da [ 0.027617] dmar: RMRR base: 0x000000bc371000 end: 0x000000bc37dfff [ 0.027618] dmar: RMRR base: 0x000000bf800000 end: 0x000000cf9fffff [ 0.027682] IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 1 [ 0.027683] HPET id 0 under DRHD base 0xfed91000 [ 0.027684] Queued invalidation will be enabled to support x2apic and Intr-remapping. [ 0.027791] Enabled IRQ remapping in x2apic mode [ 0.027791] Enabling x2apic [ 0.027792] Enabled x2apic [ 0.027796] Switched APIC routing to cluster x2apic. [ 0.028210] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1 [ 0.038204] smpboot: CPU0: Intel(R) Core(TM) i5-4670 CPU @ 3.40GHz (fam: 06, model: 3c, stepping: 03) [ 0.038209] TSC deadline timer enabled [ 0.038226] Performance Events: PEBS fmt2+, 16-deep LBR, Haswell events, full-width counters, Intel PMU driver. [ 0.038239] ... version: 3 [ 0.038239] ... bit width: 48 [ 0.038240] ... generic registers: 8 [ 0.038241] ... value mask: 0000ffffffffffff [ 0.038241] ... max period: 0000ffffffffffff [ 0.038242] ... fixed-purpose events: 3 [ 0.038242] ... event mask: 00000007000000ff [ 0.046313] x86: Booting SMP configuration: [ 0.046314] .... node #0, CPUs: #1 [ 0.060158] NMI watchdog: enabled on all CPUs, permanently consumes one hw-PMU counter. [ 0.062182] #2 #3 [ 0.092063] x86: Booted up 1 node, 4 CPUs [ 0.092065] smpboot: Total of 4 processors activated (27194.37 BogoMIPS) [ 0.094761] devtmpfs: initialized [ 0.096674] evm: security.selinux [ 0.096675] evm: security.SMACK64 [ 0.096676] evm: security.SMACK64EXEC [ 0.096676] evm: security.SMACK64TRANSMUTE [ 0.096677] evm: security.SMACK64MMAP [ 0.096677] evm: security.ima [ 0.096678] evm: security.capability [ 0.096731] PM: Registering ACPI NVS region [mem 0xa9570000-0xa9576fff] (28672 bytes) [ 0.096732] PM: Registering ACPI NVS region [mem 0xbc427000-0xbc4cefff] (688128 bytes) [ 0.096830] pinctrl core: initialized pinctrl subsystem [ 0.096899] RTC time: 23:15:12, date: 03/02/15 [ 0.096969] NET: Registered protocol family 16 [ 0.101662] cpuidle: using governor ladder [ 0.104667] cpuidle: using governor menu [ 0.104721] ACPI FADT declares the system doesn&#039;t support PCIe ASPM, so disable it [ 0.104722] ACPI: bus type PCI registered [ 0.104723] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5 [ 0.104770] PCI: MMCONFIG for domain 0000 [bus 00-3f] at [mem 0xf8000000-0xfbffffff] (base 0xf8000000) [ 0.104771] PCI: MMCONFIG at [mem 0xf8000000-0xfbffffff] reserved in E820 [ 0.104823] PCI: Using configuration type 1 for base access [ 0.108913] ACPI: Added _OSI(Module Device) [ 0.108914] ACPI: Added _OSI(Processor Device) [ 0.108915] ACPI: Added _OSI(3.0 _SCP Extensions) [ 0.108915] ACPI: Added _OSI(Processor Aggregator Device) [ 0.111207] ACPI: Executed 1 blocks of module-level executable AML code [ 0.112634] [Firmware Bug]: ACPI: BIOS _OSI(Linux) query ignored [ 0.112933] ACPI: Dynamic OEM Table Load: [ 0.112937] ACPI: SSDT 0xFFFF88041BFE4800 0003D3 (v01 PmRef Cpu0Cst 00003001 INTL 20051117) [ 0.113357] ACPI: Dynamic OEM Table Load: [ 0.113360] ACPI: SSDT 0xFFFF88041BF4A800 0005AA (v01 PmRef ApIst 00003000 INTL 20051117) [ 0.113812] ACPI: Dynamic OEM Table Load: [ 0.113814] ACPI: SSDT 0xFFFF88041BFDCC00 000119 (v01 PmRef ApCst 00003000 INTL 20051117) [ 0.114459] ACPI: Interpreter enabled [ 0.114464] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20141107/hwxface-580) [ 0.114468] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20141107/hwxface-580) [ 0.114479] ACPI: (supports S0 S3 S4 S5) [ 0.114480] ACPI: Using IOAPIC for interrupt routing [ 0.114514] PCI: Using host bridge windows from ACPI; if necessary, use &quot;pci=nocrs&quot; and report a bug [ 0.119745] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-3e]) [ 0.119749] acpi PNP0A08:00: _OSC: OS supports [ExtendedConfig ASPM ClockPM Segments MSI] [ 0.119877] acpi PNP0A08:00: _OSC: platform does not support [PCIeHotplug PME] [ 0.119957] acpi PNP0A08:00: _OSC: OS now controls [AER PCIeCapability] [ 0.120291] PCI host bridge to bus 0000:00 [ 0.120293] pci_bus 0000:00: root bus resource [bus 00-3e] [ 0.120294] pci_bus 0000:00: root bus resource [io 0x0000-0x0cf7] [ 0.120295] pci_bus 0000:00: root bus resource [io 0x0d00-0xffff] [ 0.120296] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff] [ 0.120297] pci_bus 0000:00: root bus resource [mem 0x000d0000-0x000d3fff] [ 0.120298] pci_bus 0000:00: root bus resource [mem 0x000d4000-0x000d7fff] [ 0.120298] pci_bus 0000:00: root bus resource [mem 0x000d8000-0x000dbfff] [ 0.120299] pci_bus 0000:00: root bus resource [mem 0x000dc000-0x000dffff] [ 0.120300] pci_bus 0000:00: root bus resource [mem 0x000e0000-0x000e3fff] [ 0.120301] pci_bus 0000:00: root bus resource [mem 0x000e4000-0x000e7fff] [ 0.120302] pci_bus 0000:00: root bus resource [mem 0xcfa00000-0xfeafffff] [ 0.120307] pci 0000:00:00.0: [8086:0c00] type 00 class 0x060000 [ 0.120365] pci 0000:00:01.0: [8086:0c01] type 01 class 0x060400 [ 0.120391] pci 0000:00:01.0: PME# supported from D0 D3hot D3cold [ 0.120439] pci 0000:00:02.0: [8086:0412] type 00 class 0x030000 [ 0.120446] pci 0000:00:02.0: reg 0x10: [mem 0xee400000-0xee7fffff 64bit] [ 0.120450] pci 0000:00:02.0: reg 0x18: [mem 0xd0000000-0xdfffffff 64bit pref] [ 0.120453] pci 0000:00:02.0: reg 0x20: [io 0xf000-0xf03f] [ 0.120505] pci 0000:00:03.0: [8086:0c0c] type 00 class 0x040300 [ 0.120511] pci 0000:00:03.0: reg 0x10: [mem 0xee834000-0xee837fff 64bit] [ 0.120586] pci 0000:00:14.0: [8086:8c31] type 00 class 0x0c0330 [ 0.120601] pci 0000:00:14.0: reg 0x10: [mem 0xee820000-0xee82ffff 64bit] [ 0.120652] pci 0000:00:14.0: PME# supported from D3hot D3cold [ 0.120682] pci 0000:00:14.0: System wakeup disabled by ACPI [ 0.120707] pci 0000:00:16.0: [8086:8c3a] type 00 class 0x078000 [ 0.120723] pci 0000:00:16.0: reg 0x10: [mem 0xee840000-0xee84000f 64bit] [ 0.120777] pci 0000:00:16.0: PME# supported from D0 D3hot D3cold [ 0.120830] pci 0000:00:19.0: [8086:153b] type 00 class 0x020000 [ 0.120844] pci 0000:00:19.0: reg 0x10: [mem 0xee800000-0xee81ffff] [ 0.120850] pci 0000:00:19.0: reg 0x14: [mem 0xee83d000-0xee83dfff] [ 0.120857] pci 0000:00:19.0: reg 0x18: [io 0xf080-0xf09f] [ 0.120908] pci 0000:00:19.0: PME# supported from D0 D3hot D3cold [ 0.120935] pci 0000:00:19.0: System wakeup disabled by ACPI [ 0.120961] pci 0000:00:1a.0: [8086:8c2d] type 00 class 0x0c0320 [ 0.120978] pci 0000:00:1a.0: reg 0x10: [mem 0xee83c000-0xee83c3ff] [ 0.121056] pci 0000:00:1a.0: PME# supported from D0 D3hot D3cold [ 0.121093] pci 0000:00:1a.0: System wakeup disabled by ACPI [ 0.121118] pci 0000:00:1b.0: [8086:8c20] type 00 class 0x040300 [ 0.121130] pci 0000:00:1b.0: reg 0x10: [mem 0xee830000-0xee833fff 64bit] [ 0.121189] pci 0000:00:1b.0: PME# supported from D0 D3hot D3cold [ 0.121216] pci 0000:00:1b.0: System wakeup disabled by ACPI [ 0.121238] pci 0000:00:1c.0: [8086:8c10] type 01 class 0x060400 [ 0.121295] pci 0000:00:1c.0: PME# supported from D0 D3hot D3cold [ 0.121311] pci 0000:00:1c.0: Enabling MPC IRBNCE [ 0.121313] pci 0000:00:1c.0: Intel PCH root port ACS workaround enabled [ 0.121333] pci 0000:00:1c.0: System wakeup disabled by ACPI [ 0.121358] pci 0000:00:1c.6: [8086:244e] type 01 class 0x060401 [ 0.121415] pci 0000:00:1c.6: PME# supported from D0 D3hot D3cold [ 0.121444] pci 0000:00:1c.6: System wakeup disabled by ACPI [ 0.121472] pci 0000:00:1d.0: [8086:8c26] type 00 class 0x0c0320 [ 0.121489] pci 0000:00:1d.0: reg 0x10: [mem 0xee83b000-0xee83b3ff] [ 0.121565] pci 0000:00:1d.0: PME# supported from D0 D3hot D3cold [ 0.121600] pci 0000:00:1d.0: System wakeup disabled by ACPI [ 0.121626] pci 0000:00:1f.0: [8086:8c4a] type 00 class 0x060100 [ 0.121763] pci 0000:00:1f.2: [8086:8c02] type 00 class 0x010601 [ 0.121775] pci 0000:00:1f.2: reg 0x10: [io 0xf0d0-0xf0d7] [ 0.121781] pci 0000:00:1f.2: reg 0x14: [io 0xf0c0-0xf0c3] [ 0.121786] pci 0000:00:1f.2: reg 0x18: [io 0xf0b0-0xf0b7] [ 0.121792] pci 0000:00:1f.2: reg 0x1c: [io 0xf0a0-0xf0a3] [ 0.121798] pci 0000:00:1f.2: reg 0x20: [io 0xf060-0xf07f] [ 0.121804] pci 0000:00:1f.2: reg 0x24: [mem 0xee83a000-0xee83a7ff] [ 0.121835] pci 0000:00:1f.2: PME# supported from D3hot [ 0.121877] pci 0000:00:1f.3: [8086:8c22] type 00 class 0x0c0500 [ 0.121888] pci 0000:00:1f.3: reg 0x10: [mem 0xee839000-0xee8390ff 64bit] [ 0.121905] pci 0000:00:1f.3: reg 0x20: [io 0xf040-0xf05f] [ 0.121988] pci 0000:01:00.0: [10de:1200] type 00 class 0x030000 [ 0.121995] pci 0000:01:00.0: reg 0x10: [mem 0xec000000-0xedffffff] [ 0.122002] pci 0000:01:00.0: reg 0x14: [mem 0xe0000000-0xe7ffffff 64bit pref] [ 0.122009] pci 0000:01:00.0: reg 0x1c: [mem 0xe8000000-0xebffffff 64bit pref] [ 0.122013] pci 0000:01:00.0: reg 0x24: [io 0xe000-0xe07f] [ 0.122017] pci 0000:01:00.0: reg 0x30: [mem 0xee000000-0xee07ffff pref] [ 0.122083] pci 0000:01:00.1: [10de:0e0c] type 00 class 0x040300 [ 0.122091] pci 0000:01:00.1: reg 0x10: [mem 0xee080000-0xee083fff] [ 0.123688] pci 0000:00:01.0: PCI bridge to [bus 01] [ 0.123691] pci 0000:00:01.0: bridge window [io 0xe000-0xefff] [ 0.123693] pci 0000:00:01.0: bridge window [mem 0xe0000000-0xee0fffff] [ 0.123742] pci 0000:00:1c.0: PCI bridge to [bus 02] [ 0.123803] pci 0000:03:00.0: [1b21:1080] type 01 class 0x060401 [ 0.123901] pci 0000:03:00.0: System wakeup disabled by ACPI [ 0.123922] pci 0000:00:1c.6: PCI bridge to [bus 03-04] (subtractive decode) [ 0.123929] pci 0000:00:1c.6: bridge window [io 0x0000-0x0cf7] (subtractive decode) [ 0.123930] pci 0000:00:1c.6: bridge window [io 0x0d00-0xffff] (subtractive decode) [ 0.123931] pci 0000:00:1c.6: bridge window [mem 0x000a0000-0x000bffff] (subtractive decode) [ 0.123932] pci 0000:00:1c.6: bridge window [mem 0x000d0000-0x000d3fff] (subtractive decode) [ 0.123933] pci 0000:00:1c.6: bridge window [mem 0x000d4000-0x000d7fff] (subtractive decode) [ 0.123934] pci 0000:00:1c.6: bridge window [mem 0x000d8000-0x000dbfff] (subtractive decode) [ 0.123935] pci 0000:00:1c.6: bridge window [mem 0x000dc000-0x000dffff] (subtractive decode) [ 0.123935] pci 0000:00:1c.6: bridge window [mem 0x000e0000-0x000e3fff] (subtractive decode) [ 0.123936] pci 0000:00:1c.6: bridge window [mem 0x000e4000-0x000e7fff] (subtractive decode) [ 0.123937] pci 0000:00:1c.6: bridge window [mem 0xcfa00000-0xfeafffff] (subtractive decode) [ 0.124040] pci 0000:03:00.0: PCI bridge to [bus 04] (subtractive decode) [ 0.124056] pci 0000:03:00.0: bridge window [io 0x0000-0x0cf7] (subtractive decode) [ 0.124057] pci 0000:03:00.0: bridge window [io 0x0d00-0xffff] (subtractive decode) [ 0.124057] pci 0000:03:00.0: bridge window [mem 0x000a0000-0x000bffff] (subtractive decode) [ 0.124058] pci 0000:03:00.0: bridge window [mem 0x000d0000-0x000d3fff] (subtractive decode) [ 0.124059] pci 0000:03:00.0: bridge window [mem 0x000d4000-0x000d7fff] (subtractive decode) [ 0.124060] pci 0000:03:00.0: bridge window [mem 0x000d8000-0x000dbfff] (subtractive decode) [ 0.124061] pci 0000:03:00.0: bridge window [mem 0x000dc000-0x000dffff] (subtractive decode) [ 0.124062] pci 0000:03:00.0: bridge window [mem 0x000e0000-0x000e3fff] (subtractive decode) [ 0.124063] pci 0000:03:00.0: bridge window [mem 0x000e4000-0x000e7fff] (subtractive decode) [ 0.124064] pci 0000:03:00.0: bridge window [mem 0xcfa00000-0xfeafffff] (subtractive decode) [ 0.124085] acpi PNP0A08:00: Disabling ASPM (FADT indicates it is unsupported) [ 0.124573] ACPI: PCI Interrupt Link [LNKA] (IRQs 3 4 5 6 10 *11 12 14 15) [ 0.124602] ACPI: PCI Interrupt Link [LNKB] (IRQs 3 4 5 6 *10 11 12 14 15) [ 0.124629] ACPI: PCI Interrupt Link [LNKC] (IRQs 3 4 5 6 *10 11 12 14 15) [ 0.124661] ACPI: PCI Interrupt Link [LNKD] (IRQs 3 4 *5 6 10 11 12 14 15) [ 0.124688] ACPI: PCI Interrupt Link [LNKE] (IRQs *3 4 5 6 10 11 12 14 15) [ 0.124715] ACPI: PCI Interrupt Link [LNKF] (IRQs 3 4 5 6 10 11 12 14 15) *0, disabled. [ 0.124741] ACPI: PCI Interrupt Link [LNKG] (IRQs 3 4 5 6 10 *11 12 14 15) [ 0.124768] ACPI: PCI Interrupt Link [LNKH] (IRQs 3 4 *5 6 10 11 12 14 15) [ 0.124889] ACPI: Enabled 4 GPEs in block 00 to 3F [ 0.124951] vgaarb: setting as boot device: PCI:0000:00:02.0 [ 0.124953] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none [ 0.124956] vgaarb: device added: PCI:0000:01:00.0,decodes=io+mem,owns=none,locks=none [ 0.124957] vgaarb: loaded [ 0.124957] vgaarb: bridge control possible 0000:01:00.0 [ 0.124958] vgaarb: no bridge control possible 0000:00:02.0 [ 0.125082] SCSI subsystem initialized [ 0.125111] libata version 3.00 loaded. [ 0.125134] ACPI: bus type USB registered [ 0.125145] usbcore: registered new interface driver usbfs [ 0.125150] usbcore: registered new interface driver hub [ 0.125160] usbcore: registered new device driver usb [ 0.125243] PCI: Using ACPI for IRQ routing [ 0.126428] PCI: pci_cache_line_size set to 64 bytes [ 0.126468] e820: reserve RAM buffer [mem 0x0009d800-0x0009ffff] [ 0.126469] e820: reserve RAM buffer [mem 0xa9570000-0xabffffff] [ 0.126470] e820: reserve RAM buffer [mem 0xa9e4b000-0xabffffff] [ 0.126470] e820: reserve RAM buffer [mem 0xbc1e4000-0xbfffffff] [ 0.126471] e820: reserve RAM buffer [mem 0xbc427000-0xbfffffff] [ 0.126472] e820: reserve RAM buffer [mem 0xbd000000-0xbfffffff] [ 0.126473] e820: reserve RAM buffer [mem 0x42e600000-0x42fffffff] [ 0.126541] NetLabel: Initializing [ 0.126542] NetLabel: domain hash size = 128 [ 0.126542] NetLabel: protocols = UNLABELED CIPSOv4 [ 0.126549] NetLabel: unlabeled traffic allowed by default [ 0.126609] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0, 0, 0, 0, 0, 0 [ 0.126613] hpet0: 8 comparators, 64-bit 14.318180 MHz counter [ 0.128639] Switched to clocksource hpet [ 0.132518] AppArmor: AppArmor Filesystem Enabled [ 0.132551] pnp: PnP ACPI init [ 0.132596] system 00:00: [mem 0xfed40000-0xfed44fff] has been reserved [ 0.132598] system 00:00: Plug and Play ACPI device, IDs PNP0c01 (active) [ 0.132695] system 00:01: [io 0x0680-0x069f] has been reserved [ 0.132696] system 00:01: [io 0xffff] has been reserved [ 0.132698] system 00:01: [io 0xffff] has been reserved [ 0.132698] system 00:01: [io 0xffff] has been reserved [ 0.132699] system 00:01: [io 0x1c00-0x1cfe] has been reserved [ 0.132700] system 00:01: [io 0x1d00-0x1dfe] has been reserved [ 0.132701] system 00:01: [io 0x1e00-0x1efe] has been reserved [ 0.132702] system 00:01: [io 0x1f00-0x1ffe] has been reserved [ 0.132703] system 00:01: [io 0x1800-0x18fe] could not be reserved [ 0.132704] system 00:01: [io 0x164e-0x164f] has been reserved [ 0.132706] system 00:01: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.132723] pnp 00:02: Plug and Play ACPI device, IDs PNP0b00 (active) [ 0.132751] system 00:03: [io 0x1854-0x1857] has been reserved [ 0.132752] system 00:03: Plug and Play ACPI device, IDs INT3f0d PNP0c02 (active) [ 0.132795] system 00:04: [io 0x0290-0x029f] has been reserved [ 0.132796] system 00:04: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.132914] system 00:05: [io 0x04d0-0x04d1] has been reserved [ 0.132915] system 00:05: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.133004] pnp 00:06: [dma 0 disabled] [ 0.133027] pnp 00:06: Plug and Play ACPI device, IDs PNP0501 (active) [ 0.133270] system 00:07: [mem 0xfed1c000-0xfed1ffff] has been reserved [ 0.133271] system 00:07: [mem 0xfed10000-0xfed17fff] has been reserved [ 0.133272] system 00:07: [mem 0xfed18000-0xfed18fff] has been reserved [ 0.133273] system 00:07: [mem 0xfed19000-0xfed19fff] has been reserved [ 0.133274] system 00:07: [mem 0xf8000000-0xfbffffff] has been reserved [ 0.133275] system 00:07: [mem 0xfed20000-0xfed3ffff] has been reserved [ 0.133276] system 00:07: [mem 0xfed90000-0xfed93fff] could not be reserved [ 0.133277] system 00:07: [mem 0xfed45000-0xfed8ffff] has been reserved [ 0.133278] system 00:07: [mem 0xff000000-0xffffffff] has been reserved [ 0.133280] system 00:07: [mem 0xfee00000-0xfeefffff] could not be reserved [ 0.133281] system 00:07: [mem 0xf7fef000-0xf7feffff] has been reserved [ 0.133282] system 00:07: [mem 0xf7ff0000-0xf7ff0fff] has been reserved [ 0.133283] system 00:07: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.133426] pnp: PnP ACPI: found 8 devices [ 0.139164] pci 0000:00:01.0: PCI bridge to [bus 01] [ 0.139165] pci 0000:00:01.0: bridge window [io 0xe000-0xefff] [ 0.139168] pci 0000:00:01.0: bridge window [mem 0xe0000000-0xee0fffff] [ 0.139171] pci 0000:00:1c.0: PCI bridge to [bus 02] [ 0.139179] pci 0000:03:00.0: PCI bridge to [bus 04] [ 0.139194] pci 0000:00:1c.6: PCI bridge to [bus 03-04] [ 0.139202] pci_bus 0000:00: resource 4 [io 0x0000-0x0cf7] [ 0.139204] pci_bus 0000:00: resource 5 [io 0x0d00-0xffff] [ 0.139204] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff] [ 0.139205] pci_bus 0000:00: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.139206] pci_bus 0000:00: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.139207] pci_bus 0000:00: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.139208] pci_bus 0000:00: resource 10 [mem 0x000dc000-0x000dffff] [ 0.139209] pci_bus 0000:00: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.139210] pci_bus 0000:00: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.139211] pci_bus 0000:00: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.139212] pci_bus 0000:01: resource 0 [io 0xe000-0xefff] [ 0.139213] pci_bus 0000:01: resource 1 [mem 0xe0000000-0xee0fffff] [ 0.139214] pci_bus 0000:03: resource 4 [io 0x0000-0x0cf7] [ 0.139215] pci_bus 0000:03: resource 5 [io 0x0d00-0xffff] [ 0.139216] pci_bus 0000:03: resource 6 [mem 0x000a0000-0x000bffff] [ 0.139217] pci_bus 0000:03: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.139218] pci_bus 0000:03: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.139218] pci_bus 0000:03: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.139219] pci_bus 0000:03: resource 10 [mem 0x000dc000-0x000dffff] [ 0.139220] pci_bus 0000:03: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.139221] pci_bus 0000:03: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.139222] pci_bus 0000:03: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.139223] pci_bus 0000:04: resource 4 [io 0x0000-0x0cf7] [ 0.139224] pci_bus 0000:04: resource 5 [io 0x0d00-0xffff] [ 0.139225] pci_bus 0000:04: resource 6 [mem 0x000a0000-0x000bffff] [ 0.139226] pci_bus 0000:04: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.139227] pci_bus 0000:04: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.139227] pci_bus 0000:04: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.139228] pci_bus 0000:04: resource 10 [mem 0x000dc000-0x000dffff] [ 0.139229] pci_bus 0000:04: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.139230] pci_bus 0000:04: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.139231] pci_bus 0000:04: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.139247] NET: Registered protocol family 2 [ 0.139369] TCP established hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.139504] TCP bind hash table entries: 65536 (order: 8, 1048576 bytes) [ 0.139600] TCP: Hash tables configured (established 131072 bind 65536) [ 0.139610] TCP: reno registered [ 0.139622] UDP hash table entries: 8192 (order: 6, 262144 bytes) [ 0.139664] UDP-Lite hash table entries: 8192 (order: 6, 262144 bytes) [ 0.139712] NET: Registered protocol family 1 [ 0.139723] pci 0000:00:02.0: Video device with shadowed ROM [ 0.169698] PCI: CLS 64 bytes, default 64 [ 0.169730] Trying to unpack rootfs image as initramfs... [ 0.370675] Freeing initrd memory: 20484K (ffff8800357ee000 - ffff880036bef000) [ 0.370691] DMAR: No ATSR found [ 0.370760] IOMMU: dmar0 using Queued invalidation [ 0.370761] IOMMU: dmar1 using Queued invalidation [ 0.370762] IOMMU: Setting RMRR: [ 0.370770] IOMMU: Setting identity map for device 0000:00:02.0 [0xbf800000 - 0xcf9fffff] [ 0.371950] IOMMU: Setting identity map for device 0000:00:14.0 [0xbc371000 - 0xbc37dfff] [ 0.371970] IOMMU: Setting identity map for device 0000:00:1a.0 [0xbc371000 - 0xbc37dfff] [ 0.371988] IOMMU: Setting identity map for device 0000:00:1d.0 [0xbc371000 - 0xbc37dfff] [ 0.372000] IOMMU: Prepare 0-16MiB unity mapping for LPC [ 0.372005] IOMMU: Setting identity map for device 0000:00:1f.0 [0x0 - 0xffffff] [ 0.372113] PCI-DMA: Intel(R) Virtualization Technology for Directed I/O [ 0.373572] RAPL PMU detected, hw unit 2^-14 Joules, API unit is 2^-32 Joules, 4 fixed counters 655360 ms ovfl timer [ 0.373622] microcode: CPU0 sig=0x306c3, pf=0x2, revision=0x9 [ 0.373626] microcode: CPU1 sig=0x306c3, pf=0x2, revision=0x9 [ 0.373631] microcode: CPU2 sig=0x306c3, pf=0x2, revision=0x9 [ 0.373636] microcode: CPU3 sig=0x306c3, pf=0x2, revision=0x9 [ 0.373673] microcode: Microcode Update Driver: v2.00 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba [ 0.373689] Scanning for low memory corruption every 60 seconds [ 0.373878] futex hash table entries: 1024 (order: 4, 65536 bytes) [ 0.373892] Initialise system trusted keyring [ 0.373906] audit: initializing netlink subsys (disabled) [ 0.373916] audit: type=2000 audit(1425338112.355:1): initialized [ 0.374125] HugeTLB registered 2 MB page size, pre-allocated 0 pages [ 0.374942] zpool: loaded [ 0.374943] zbud: loaded [ 0.375049] VFS: Disk quotas dquot_6.5.2 [ 0.375069] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes) [ 0.375330] fuse init (API version 7.23) [ 0.375419] Key type big_key registered [ 0.375726] Key type asymmetric registered [ 0.375728] Asymmetric key parser &#039;x509&#039; registered [ 0.375748] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252) [ 0.375775] io scheduler noop registered [ 0.375777] io scheduler deadline registered (default) [ 0.375793] io scheduler cfq registered [ 0.376008] pci_hotplug: PCI Hot Plug PCI Core version: 0.5 [ 0.376018] pciehp: PCI Express Hot Plug Controller Driver version: 0.4 [ 0.376038] vesafb: mode is 1280x1024x32, linelength=5120, pages=0 [ 0.376038] vesafb: scrolling: redraw [ 0.376039] vesafb: Truecolor: size=8:8:8:8, shift=24:16:8:0 [ 0.376050] vesafb: framebuffer at 0xd0000000, mapped to 0xffffc90005c00000, using 5120k, total 5120k [ 0.376102] Console: switching to colour frame buffer device 160x64 [ 0.376112] fb0: VESA VGA frame buffer device [ 0.376123] intel_idle: MWAIT substates: 0x42120 [ 0.376124] intel_idle: v0.4 model 0x3C [ 0.376125] intel_idle: lapic_timer_reliable_states 0xffffffff [ 0.376263] input: Power Button as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input0 [ 0.376266] ACPI: Power Button [PWRB] [ 0.376286] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input1 [ 0.376287] ACPI: Power Button [PWRF] [ 0.376400] GHES: HEST is not enabled! [ 0.376466] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled [ 0.396967] 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A [ 0.398034] Linux agpgart interface v0.103 [ 0.398771] brd: module loaded [ 0.399147] loop: module loaded [ 0.399258] libphy: Fixed MDIO Bus: probed [ 0.399260] tun: Universal TUN/TAP device driver, 1.6 [ 0.399261] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt; [ 0.399287] PPP generic driver version 2.4.2 [ 0.399331] VFIO - User Level meta-driver version: 0.3 [ 0.399668] xhci_hcd 0000:00:14.0: xHCI Host Controller [ 0.399672] xhci_hcd 0000:00:14.0: new USB bus registered, assigned bus number 1 [ 0.399805] xhci_hcd 0000:00:14.0: cache line size of 64 is not supported [ 0.399917] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.399919] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.399920] usb usb1: Product: xHCI Host Controller [ 0.399921] usb usb1: Manufacturer: Linux 3.19.0-6-kvm xhci-hcd [ 0.399922] usb usb1: SerialNumber: 0000:00:14.0 [ 0.400005] hub 1-0:1.0: USB hub found [ 0.400019] hub 1-0:1.0: 14 ports detected [ 0.401461] xhci_hcd 0000:00:14.0: xHCI Host Controller [ 0.401464] xhci_hcd 0000:00:14.0: new USB bus registered, assigned bus number 2 [ 0.401487] usb usb2: New USB device found, idVendor=1d6b, idProduct=0003 [ 0.401488] usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.401489] usb usb2: Product: xHCI Host Controller [ 0.401490] usb usb2: Manufacturer: Linux 3.19.0-6-kvm xhci-hcd [ 0.401490] usb usb2: SerialNumber: 0000:00:14.0 [ 0.401584] hub 2-0:1.0: USB hub found [ 0.401595] hub 2-0:1.0: 6 ports detected [ 0.402241] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver [ 0.402245] ehci-pci: EHCI PCI platform driver [ 0.402303] ehci-pci 0000:00:1a.0: EHCI Host Controller [ 0.402306] ehci-pci 0000:00:1a.0: new USB bus registered, assigned bus number 3 [ 0.402315] ehci-pci 0000:00:1a.0: debug port 2 [ 0.406229] ehci-pci 0000:00:1a.0: cache line size of 64 is not supported [ 0.406341] ehci-pci 0000:00:1a.0: irq 16, io mem 0xee83c000 [ 0.411453] ehci-pci 0000:00:1a.0: USB 2.0 started, EHCI 1.00 [ 0.411492] usb usb3: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.411493] usb usb3: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.411494] usb usb3: Product: EHCI Host Controller [ 0.411495] usb usb3: Manufacturer: Linux 3.19.0-6-kvm ehci_hcd [ 0.411496] usb usb3: SerialNumber: 0000:00:1a.0 [ 0.411634] hub 3-0:1.0: USB hub found [ 0.411638] hub 3-0:1.0: 2 ports detected [ 0.411773] ehci-pci 0000:00:1d.0: EHCI Host Controller [ 0.411776] ehci-pci 0000:00:1d.0: new USB bus registered, assigned bus number 4 [ 0.411785] ehci-pci 0000:00:1d.0: debug port 2 [ 0.415682] ehci-pci 0000:00:1d.0: cache line size of 64 is not supported [ 0.415819] ehci-pci 0000:00:1d.0: irq 23, io mem 0xee83b000 [ 0.421443] ehci-pci 0000:00:1d.0: USB 2.0 started, EHCI 1.00 [ 0.421472] usb usb4: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.421473] usb usb4: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.421474] usb usb4: Product: EHCI Host Controller [ 0.421475] usb usb4: Manufacturer: Linux 3.19.0-6-kvm ehci_hcd [ 0.421476] usb usb4: SerialNumber: 0000:00:1d.0 [ 0.421620] hub 4-0:1.0: USB hub found [ 0.421623] hub 4-0:1.0: 2 ports detected [ 0.421696] ehci-platform: EHCI generic platform driver [ 0.421702] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver [ 0.421706] ohci-pci: OHCI PCI platform driver [ 0.421712] ohci-platform: OHCI generic platform driver [ 0.421717] uhci_hcd: USB Universal Host Controller Interface driver [ 0.421746] i8042: PNP: No PS/2 controller found. Probing ports directly. [ 0.424532] serio: i8042 KBD port at 0x60,0x64 irq 1 [ 0.424551] serio: i8042 AUX port at 0x60,0x64 irq 12 [ 0.424745] mousedev: PS/2 mouse device common for all mice [ 0.424958] rtc_cmos 00:02: RTC can wake from S4 [ 0.425068] rtc_cmos 00:02: rtc core: registered rtc_cmos as rtc0 [ 0.425127] rtc_cmos 00:02: alarms up to one month, y3k, 242 bytes nvram, hpet irqs [ 0.425137] i2c /dev entries driver [ 0.425176] device-mapper: uevent: version 1.0.3 [ 0.425231] device-mapper: ioctl: 4.29.0-ioctl (2014-10-28) initialised: dm-devel@redhat.com [ 0.425243] Intel P-state driver initializing. [ 0.425355] Consider also installing thermald for improved thermal control. [ 0.425358] ledtrig-cpu: registered to indicate activity on CPUs [ 0.425571] PCCT header not found. [ 0.425571] ACPI PCC probe failed. [ 0.425621] TCP: cubic registered [ 0.425673] NET: Registered protocol family 10 [ 0.425854] NET: Registered protocol family 17 [ 0.425862] Key type dns_resolver registered [ 0.426103] Loading compiled-in X.509 certificates [ 0.426610] Loaded X.509 cert &#039;Magrathea: Glacier signing key: e053bb5652cbcfaa2aef7163e2bf6c27749be754&#039; [ 0.426616] registered taskstats version 1 [ 0.427870] Key type trusted registered [ 0.430763] Key type encrypted registered [ 0.430767] AppArmor: AppArmor sha1 policy hashing enabled [ 0.430778] ima: No TPM chip found, activating TPM-bypass! [ 0.430788] evm: HMAC attrs: 0x1 [ 0.431181] Magic number: 7:291:301 [ 0.431203] tty tty30: hash matches [ 0.431279] rtc_cmos 00:02: setting system clock to 2015-03-02 23:15:12 UTC (1425338112) [ 0.431406] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found [ 0.431406] EDD information not available. [ 0.431452] PM: Hibernation image not present or could not be loaded. [ 0.431718] Freeing unused kernel memory: 1376K (ffffffff81d32000 - ffffffff81e8a000) [ 0.431719] Write protecting the kernel read-only data: 12288k [ 0.431896] Freeing unused kernel memory: 168K (ffff8800017d6000 - ffff880001800000) [ 0.431952] Freeing unused kernel memory: 344K (ffff880001baa000 - ffff880001c00000) [ 0.437662] systemd-udevd[135]: starting version 208 [ 0.437916] random: systemd-udevd urandom read with 1 bits of entropy available [ 0.449249] pps_core: LinuxPPS API ver. 1 registered [ 0.449251] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 0.450235] ahci 0000:00:1f.2: version 3.0 [ 0.450442] ahci 0000:00:1f.2: AHCI 0001.0300 32 slots 6 ports 6 Gbps 0xa impl SATA mode [ 0.450444] ahci 0000:00:1f.2: flags: 64bit ncq led clo pio slum part ems apst [ 0.450572] PTP clock support registered [ 0.452771] e1000e: Intel(R) PRO/1000 Network Driver - 2.3.2-k [ 0.452772] e1000e: Copyright(c) 1999 - 2014 Intel Corporation. [ 0.453367] scsi host0: ahci [ 0.453459] scsi host1: ahci [ 0.453619] scsi host2: ahci [ 0.453706] scsi host3: ahci [ 0.453895] scsi host4: ahci [ 0.453975] scsi host5: ahci [ 0.454004] ata1: DUMMY [ 0.454006] ata2: SATA max UDMA/133 abar m2048@0xee83a000 port 0xee83a180 irq 28 [ 0.454007] ata3: DUMMY [ 0.454008] ata4: SATA max UDMA/133 abar m2048@0xee83a000 port 0xee83a280 irq 28 [ 0.454009] ata5: DUMMY [ 0.454010] ata6: DUMMY [ 0.454125] e1000e 0000:00:19.0: Interrupt Throttling Rate (ints/sec) set to dynamic conservative mode [ 0.621563] e1000e 0000:00:19.0 eth0: registered PHC clock [ 0.621575] e1000e 0000:00:19.0 eth0: (PCI Express:2.5GT/s:Width x1) d0:50:99:15:70:12 [ 0.621576] e1000e 0000:00:19.0 eth0: Intel(R) PRO/1000 Network Connection [ 0.621612] e1000e 0000:00:19.0 eth0: MAC: 11, PHY: 12, PBA No: FFFFFF-0FF [ 0.713188] usb 3-1: new high-speed USB device number 2 using ehci-pci [ 0.723174] usb 4-1: new high-speed USB device number 2 using ehci-pci [ 0.754132] usb 1-4: new high-speed USB device number 2 using xhci_hcd [ 0.759167] ata2: SATA link up 6.0 Gbps (SStatus 133 SControl 300) [ 0.760741] ata2.00: supports DRM functions and may not be fully accessible [ 0.760989] ata2.00: failed to get NCQ Send/Recv Log Emask 0x1 [ 0.760990] ata2.00: ATA-9: Samsung SSD 850 EVO 500GB, EMT01B6Q, max UDMA/133 [ 0.760991] ata2.00: 976773168 sectors, multi 1: LBA48 NCQ (depth 31/32), AA [ 0.761145] ata4: SATA link up 6.0 Gbps (SStatus 133 SControl 300) [ 0.761499] ata2.00: supports DRM functions and may not be fully accessible [ 0.761704] ata2.00: failed to get NCQ Send/Recv Log Emask 0x1 [ 0.761851] ata2.00: configured for UDMA/133 [ 0.762002] scsi 1:0:0:0: Direct-Access ATA Samsung SSD 850 1B6Q PQ: 0 ANSI: 5 [ 0.762199] ata4.00: ATA-8: WDC WD10EZRX-00A8LB0, 01.01A01, max UDMA/133 [ 0.762200] ata4.00: 1953525168 sectors, multi 16: LBA48 NCQ (depth 31/32), AA [ 0.762279] sd 1:0:0:0: Attached scsi generic sg0 type 0 [ 0.762289] sd 1:0:0:0: [sda] 976773168 512-byte logical blocks: (500 GB/465 GiB) [ 0.762632] sd 1:0:0:0: [sda] Write Protect is off [ 0.762634] sd 1:0:0:0: [sda] Mode Sense: 00 3a 00 00 [ 0.762703] sd 1:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA [ 0.763249] ata4.00: configured for UDMA/133 [ 0.763349] scsi 3:0:0:0: Direct-Access ATA WDC WD10EZRX-00A 1A01 PQ: 0 ANSI: 5 [ 0.763434] sda: sda1 sda2 &lt; sda5 &gt; [ 0.763477] sd 3:0:0:0: [sdb] 1953525168 512-byte logical blocks: (1.00 TB/931 GiB) [ 0.763479] sd 3:0:0:0: [sdb] 4096-byte physical blocks [ 0.763505] sd 3:0:0:0: Attached scsi generic sg1 type 0 [ 0.763524] sd 3:0:0:0: [sdb] Write Protect is off [ 0.763526] sd 3:0:0:0: [sdb] Mode Sense: 00 3a 00 00 [ 0.763542] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA [ 0.763681] sd 1:0:0:0: [sda] Attached SCSI disk [ 0.778718] sdb: sdb1 sdb2 sdb3 [ 0.779444] sd 3:0:0:0: [sdb] Attached SCSI disk [ 0.829073] raid6: sse2x1 11921 MB/s [ 0.846051] raid6: sse2x2 14863 MB/s [ 0.846281] usb 4-1: New USB device found, idVendor=8087, idProduct=8000 [ 0.846282] usb 4-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0 [ 0.846571] hub 4-1:1.0: USB hub found [ 0.846668] hub 4-1:1.0: 8 ports detected [ 0.857428] usb 3-1: New USB device found, idVendor=8087, idProduct=8008 [ 0.857429] usb 3-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0 [ 0.857663] hub 3-1:1.0: USB hub found [ 0.857803] hub 3-1:1.0: 6 ports detected [ 0.863016] raid6: sse2x4 16441 MB/s [ 0.879996] raid6: avx2x1 23273 MB/s [ 0.896992] raid6: avx2x2 26261 MB/s [ 0.913985] raid6: avx2x4 31335 MB/s [ 0.913987] raid6: using algorithm avx2x4 (31335 MB/s) [ 0.913988] raid6: using avx2x2 recovery algorithm [ 0.914725] xor: automatically using best checksumming function: [ 0.923953] avx : 36684.000 MB/sec [ 0.930765] Btrfs loaded [ 1.137168] usb 1-4: New USB device found, idVendor=046d, idProduct=0825 [ 1.137170] usb 1-4: New USB device strings: Mfr=0, Product=0, SerialNumber=2 [ 1.137171] usb 1-4: SerialNumber: 5713F440 [ 1.290663] usb 1-13: new high-speed USB device number 3 using xhci_hcd [ 1.375577] tsc: Refined TSC clocksource calibration: 3399.013 MHz [ 1.454848] usb 1-13: New USB device found, idVendor=1a40, idProduct=0101 [ 1.454850] usb 1-13: New USB device strings: Mfr=0, Product=1, SerialNumber=0 [ 1.454851] usb 1-13: Product: USB 2.0 Hub [MTT] [ 1.455168] hub 1-13:1.0: USB hub found [ 1.455191] hub 1-13:1.0: 4 ports detected [ 1.466108] random: nonblocking pool is initialized [ 1.538057] BTRFS: device fsid a3929651-e09b-4f1c-afa3-a5516b17eabb devid 1 transid 9975 /dev/sda1 [ 1.541465] BTRFS info (device sda1): disk space caching is enabled [ 1.556231] BTRFS: detected SSD devices, enabling SSD mode [ 1.608398] usb 1-14: new low-speed USB device number 4 using xhci_hcd [ 1.693877] init: plymouth-upstart-bridge main process (236) terminated with status 1 [ 1.693883] init: plymouth-upstart-bridge main process ended, respawning [ 1.694825] init: plymouth-upstart-bridge main process (252) terminated with status 1 [ 1.694831] init: plymouth-upstart-bridge main process ended, respawning [ 1.695732] init: plymouth-upstart-bridge main process (254) terminated with status 1 [ 1.695739] init: plymouth-upstart-bridge main process ended, respawning [ 1.696821] init: plymouth-upstart-bridge main process (256) terminated with status 1 [ 1.696830] init: plymouth-upstart-bridge main process ended, respawning [ 1.777105] usb 1-14: New USB device found, idVendor=046d, idProduct=c01e [ 1.777107] usb 1-14: New USB device strings: Mfr=1, Product=2, SerialNumber=0 [ 1.777108] usb 1-14: Product: USB-PS/2 Optical Mouse [ 1.777109] usb 1-14: Manufacturer: Logitech [ 1.777213] usb 1-14: ep 0x81 - rounding interval to 64 microframes, ep desc says 80 microframes [ 1.834196] usb 1-13.3: new low-speed USB device number 5 using xhci_hcd [ 1.932341] usb 1-13.3: New USB device found, idVendor=09da, idProduct=0260 [ 1.932344] usb 1-13.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0 [ 1.932345] usb 1-13.3: Product: USB Keyboard [ 1.932346] usb 1-13.3: Manufacturer: [ 1.932478] usb 1-13.3: ep 0x81 - rounding interval to 64 microframes, ep desc says 80 microframes [ 1.932481] usb 1-13.3: ep 0x82 - rounding interval to 64 microframes, ep desc says 80 microframes [ 2.262218] Adding 16002044k swap on /dev/sda5. Priority:-1 extents:1 across:16002044k SSFS [ 2.264717] BTRFS info (device sda1): turning on discard [ 2.264721] BTRFS info (device sda1): enabling auto defrag [ 2.264723] BTRFS info (device sda1): disk space caching is enabled [ 2.323626] systemd-udevd[414]: starting version 208 [ 2.341739] nct6775: Found NCT6776D/F or compatible chip at 0x2e:0x290 [ 2.346091] lp: driver loaded but no devices found [ 2.347918] ppdev: user-space parallel port driver [ 2.375121] Switched to clocksource tsc [ 2.400316] Bluetooth: Core ver 2.20 [ 2.400327] NET: Registered protocol family 31 [ 2.400327] Bluetooth: HCI device and connection manager initialized [ 2.400330] Bluetooth: HCI socket layer initialized [ 2.400332] Bluetooth: L2CAP socket layer initialized [ 2.400335] Bluetooth: SCO socket layer initialized [ 2.401801] Bluetooth: BNEP (Ethernet Emulation) ver 1.3 [ 2.401803] Bluetooth: BNEP filters: protocol multicast [ 2.401805] Bluetooth: BNEP socket layer initialized [ 2.402621] Bluetooth: RFCOMM TTY layer initialized [ 2.402625] Bluetooth: RFCOMM socket layer initialized [ 2.402628] Bluetooth: RFCOMM ver 1.11 [ 2.408200] init: avahi-cups-reload main process (526) terminated with status 1 [ 2.410099] audit: type=1400 audit(1425327314.479:2): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/cups/backend/cups-pdf&quot; pid=532 comm=&quot;apparmor_parser&quot; [ 2.410103] audit: type=1400 audit(1425327314.479:3): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/sbin/cupsd&quot; pid=532 comm=&quot;apparmor_parser&quot; [ 2.410105] audit: type=1400 audit(1425327314.479:4): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;third_party&quot; pid=532 comm=&quot;apparmor_parser&quot; [ 2.429219] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 2.453577] audit: type=1400 audit(1425327314.522:5): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/sbin/dhclient&quot; pid=582 comm=&quot;apparmor_parser&quot; [ 2.453582] audit: type=1400 audit(1425327314.522:6): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/NetworkManager/nm-dhcp-client.action&quot; pid=582 comm=&quot;apparmor_parser&quot; [ 2.453584] audit: type=1400 audit(1425327314.522:7): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/connman/scripts/dhclient-script&quot; pid=582 comm=&quot;apparmor_parser&quot; [ 2.454234] [drm] Initialized drm 1.1.0 20060810 [ 2.454903] hidraw: raw HID events driver (C) Jiri Kosina [ 2.455036] media: Linux media interface: v0.10 [ 2.459964] Linux video capture interface: v2.00 [ 2.468530] uvcvideo: Found UVC 1.00 device &lt;unnamed&gt; (046d:0825) [ 2.478368] [drm] Memory usable by graphics device = 2048M [ 2.478370] [drm] VT-d active for gfx access [ 2.478371] checking generic (d0000000 500000) vs hw (d0000000 10000000) [ 2.478372] fb: switching to inteldrmfb from VESA VGA [ 2.478385] Console: switching to colour dummy device 80x25 [ 2.478413] [drm] Replacing VGA console driver [ 2.482145] AVX2 version of gcm_enc/dec engaged. [ 2.482147] AES CTR mode by8 optimization enabled [ 2.483043] input: UVC Camera (046d:0825) as /devices/pci0000:00/0000:00:14.0/usb1/1-4/1-4:1.0/input/input5 [ 2.483110] usbcore: registered new interface driver uvcvideo [ 2.483112] USB Video Class driver (1.1.1) [ 2.483846] usbcore: registered new interface driver usbhid [ 2.483847] usbhid: USB HID core driver [ 2.492611] [drm] Supports vblank timestamp caching Rev 2 (21.10.2013). [ 2.492613] [drm] Driver supports precise vblank timestamp query. [ 2.492625] [drm] DMAR active, disabling use of stolen memory [ 2.500282] intel_rapl: Found RAPL domain package [ 2.500284] intel_rapl: Found RAPL domain core [ 2.500286] intel_rapl: Found RAPL domain uncore [ 2.500288] intel_rapl: Found RAPL domain dram [ 2.533494] input: Logitech USB-PS/2 Optical Mouse as /devices/pci0000:00/0000:00:14.0/usb1/1-14/1-14:1.0/0003:046D:C01E.0001/input/input6 [ 2.534931] hid-generic 0003:046D:C01E.0001: input,hidraw0: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:14.0-14/input0 [ 2.535040] input: USB Keyboard as /devices/pci0000:00/0000:00:14.0/usb1/1-13/1-13.3/1-13.3:1.0/0003:09DA:0260.0002/input/input7 [ 2.564718] vgaarb: device changed decodes: PCI:0000:00:02.0,olddecodes=io+mem,decodes=io:owns=io+mem [ 2.566116] ACPI: Video Device [GFX0] (multi-head: yes rom: no post: no) [ 2.566439] acpi device:5d: registered as cooling_device5 [ 2.566485] input: Video Bus as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00/input/input8 [ 2.573293] init: failsafe main process (694) killed by TERM signal [ 2.585568] hid-generic 0003:09DA:0260.0002: input,hidraw1: USB HID v1.10 Keyboard [ USB Keyboard] on usb-0000:00:14.0-13.3/input0 [ 2.585659] [drm] Initialized i915 1.6.0 20141121 for 0000:00:02.0 on minor 0 [ 2.585841] snd_hda_intel 0000:01:00.1: Disabling MSI [ 2.585846] snd_hda_intel 0000:01:00.1: Handle VGA-switcheroo audio client [ 2.588045] input: USB Keyboard as /devices/pci0000:00/0000:00:14.0/usb1/1-13/1-13.3/1-13.3:1.1/0003:09DA:0260.0003/input/input9 [ 2.591135] fbcon: inteldrmfb (fb0) is primary device [ 2.591176] Console: switching to colour frame buffer device 160x64 [ 2.591189] i915 0000:00:02.0: fb0: inteldrmfb frame buffer device [ 2.591190] i915 0000:00:02.0: registered panic notifier [ 2.606138] input: HDA Intel HDMI HDMI/DP,pcm=3 as /devices/pci0000:00/0000:00:03.0/sound/card0/input10 [ 2.606800] sound hdaudioC2D0: autoconfig: line_outs=4 (0x14/0x15/0x16/0x17/0x0) type:line [ 2.606802] sound hdaudioC2D0: speaker_outs=0 (0x0/0x0/0x0/0x0/0x0) [ 2.606803] sound hdaudioC2D0: hp_outs=1 (0x1b/0x0/0x0/0x0/0x0) [ 2.606804] sound hdaudioC2D0: mono: mono_out=0x0 [ 2.606805] sound hdaudioC2D0: dig-out=0x1e/0x0 [ 2.606806] sound hdaudioC2D0: inputs: [ 2.606807] sound hdaudioC2D0: Front Mic=0x19 [ 2.606808] sound hdaudioC2D0: Rear Mic=0x18 [ 2.606809] sound hdaudioC2D0: Line=0x1a [ 2.626288] input: HDA Intel PCH Front Mic as /devices/pci0000:00/0000:00:1b.0/sound/card2/input13 [ 2.633581] init: samba-ad-dc main process (771) terminated with status 1 [ 2.635292] audit: type=1400 audit(1425327314.704:8): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/lightdm/lightdm-guest-session&quot; pid=881 comm=&quot;apparmor_parser&quot; [ 2.635296] audit: type=1400 audit(1425327314.704:9): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;chromium&quot; pid=881 comm=&quot;apparmor_parser&quot; [ 2.636189] audit: type=1400 audit(1425327314.705:10): apparmor=&quot;STATUS&quot; operation=&quot;profile_replace&quot; profile=&quot;unconfined&quot; name=&quot;/sbin/dhclient&quot; pid=881 comm=&quot;apparmor_parser&quot; [ 2.638556] hid-generic 0003:09DA:0260.0003: input,hidraw2: USB HID v1.10 Device [ USB Keyboard] on usb-0000:00:14.0-13.3/input1 [ 2.641521] input: HDA Intel HDMI HDMI/DP,pcm=7 as /devices/pci0000:00/0000:00:03.0/sound/card0/input11 [ 2.641879] input: HDA Intel HDMI HDMI/DP,pcm=8 as /devices/pci0000:00/0000:00:03.0/sound/card0/input12 [ 2.642009] input: HDA Intel PCH Rear Mic as /devices/pci0000:00/0000:00:1b.0/sound/card2/input14 [ 2.642042] input: HDA Intel PCH Line as /devices/pci0000:00/0000:00:1b.0/sound/card2/input15 [ 2.642078] input: HDA Intel PCH Line Out Front as /devices/pci0000:00/0000:00:1b.0/sound/card2/input16 [ 2.642111] input: HDA Intel PCH Line Out Surround as /devices/pci0000:00/0000:00:1b.0/sound/card2/input17 [ 2.642144] input: HDA Intel PCH Line Out CLFE as /devices/pci0000:00/0000:00:1b.0/sound/card2/input18 [ 2.642382] input: HDA Intel PCH Line Out Side as /devices/pci0000:00/0000:00:1b.0/sound/card2/input19 [ 2.642418] input: HDA Intel PCH Front Headphone as /devices/pci0000:00/0000:00:1b.0/sound/card2/input20 [ 2.680434] systemd-logind[852]: New seat seat0. [ 2.680634] systemd-logind[852]: Watching system buttons on /dev/input/event1 (Power Button) [ 2.680666] systemd-logind[852]: Watching system buttons on /dev/input/event5 (Video Bus) [ 2.680692] systemd-logind[852]: Watching system buttons on /dev/input/event0 (Power Button) [ 2.811625] init: Failed to spawn atd main process: unable to execute: No such file or directory [ 2.894911] input: HDA NVidia HDMI/DP,pcm=3 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input21 [ 2.894954] input: HDA NVidia HDMI/DP,pcm=7 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input22 [ 2.895015] input: HDA NVidia HDMI/DP,pcm=8 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input23 [ 2.895058] input: HDA NVidia HDMI/DP,pcm=9 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input24 [ 2.906336] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready [ 2.997641] ------------[ cut here ]------------ [ 2.997671] WARNING: CPU: 0 PID: 646 at /home/terusus/ubuntu-vivid/source/drivers/gpu/drm/i915/intel_display.c:9705 intel_check_page_flip+0xa2/0xf0 [i915]() [ 2.997672] WARN_ON(!in_irq()) [ 2.997673] Modules linked in: [ 2.997674] snd_hda_codec_hdmi snd_hda_codec_realtek snd_hda_codec_generic hid_generic intel_rapl iosf_mbi x86_pkg_temp_thermal intel_powerclamp kvm_intel kvm crct10dif_pclmul crc32_pclmul snd_hda_intel snd_hda_controller ghash_clmulni_intel snd_hda_codec snd_usb_audio(+) aesni_intel snd_seq_midi snd_usbmidi_lib snd_seq_midi_event snd_hwdep snd_rawmidi aes_x86_64 lrw gf128mul snd_seq glue_helper i915 ablk_helper cryptd uvcvideo snd_pcm videobuf2_vmalloc videobuf2_memops videobuf2_core serio_raw v4l2_common drm_kms_helper videodev usbhid media hid drm mei_me lpc_ich snd_seq_device snd_timer mei snd i2c_algo_bit soundcore shpchp 8250_fintek nuvoton_cir rc_core video soc_button_array mac_hid rfcomm bnep bluetooth binfmt_misc parport_pc ppdev lp parport nct6775 hwmon_vid coretemp btrfs xor raid6_pq [ 2.997707] e1000e ptp ahci psmouse libahci pps_core [ 2.997711] CPU: 0 PID: 646 Comm: irq/31-i915 Not tainted 3.19.0-6-kvm #6 [ 2.997712] Hardware name: To Be Filled By O.E.M. To Be Filled By O.E.M./H87 Pro4, BIOS P2.10 07/09/2014 [ 2.997713] ffffffffc08a51b8 ffff88041958bc98 ffffffff817c6613 0000000000000007 [ 2.997715] ffff88041958bce8 ffff88041958bcd8 ffffffff8107732a ffff88041958bcd8 [ 2.997716] ffff88041adfd000 ffff880419b7c000 ffff880419b7c000 0000000000000000 [ 2.997717] Call Trace: [ 2.997723] [&lt;ffffffff817c6613&gt;] dump_stack+0x4c/0x6e [ 2.997726] [&lt;ffffffff8107732a&gt;] warn_slowpath_common+0x8a/0xc0 [ 2.997728] [&lt;ffffffff810773a6&gt;] warn_slowpath_fmt+0x46/0x50 [ 2.997740] [&lt;ffffffffc08501a2&gt;] intel_check_page_flip+0xa2/0xf0 [i915] [ 2.997749] [&lt;ffffffffc081d277&gt;] ironlake_irq_handler+0x417/0x1000 [i915] [ 2.997751] [&lt;ffffffff8109bc4d&gt;] ? finish_task_switch+0x5d/0x100 [ 2.997753] [&lt;ffffffff810d0340&gt;] ? irq_thread_fn+0x50/0x50 [ 2.997755] [&lt;ffffffff810d036d&gt;] irq_forced_thread_fn+0x2d/0x70 [ 2.997756] [&lt;ffffffff810d08b7&gt;] irq_thread+0x137/0x160 [ 2.997758] [&lt;ffffffff810d03e0&gt;] ? wake_threads_waitq+0x30/0x30 [ 2.997759] [&lt;ffffffff810d0780&gt;] ? irq_thread_check_affinity+0x90/0x90 [ 2.997761] [&lt;ffffffff810961eb&gt;] kthread+0xdb/0x100 [ 2.997763] [&lt;ffffffff81096110&gt;] ? kthread_create_on_node+0x1c0/0x1c0 [ 2.997765] [&lt;ffffffff817cd5bc&gt;] ret_from_fork+0x7c/0xb0 [ 2.997766] [&lt;ffffffff81096110&gt;] ? kthread_create_on_node+0x1c0/0x1c0 [ 2.997767] ---[ end trace d19b5eb4f7000469 ]--- [ 3.083940] init: plymouth-upstart-bridge main process ended, respawning [ 3.085485] init: plymouth-upstart-bridge main process (1549) killed by TERM signal [ 3.120383] systemd-logind[852]: Failed to start unit user@112.service: Unknown unit: user@112.service [ 3.120387] systemd-logind[852]: Failed to start user service: Unknown unit: user@112.service [ 3.122355] systemd-logind[852]: New session c1 of user lightdm. [ 3.122374] systemd-logind[852]: Linked /tmp/.X11-unix/X0 to /run/user/112/X11-display. [ 3.298912] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this. [ 3.350660] ip_tables: (C) 2000-2006 Netfilter Core Team [ 3.372830] nf_conntrack version 0.5.0 (16384 buckets, 65536 max) [ 3.646690] usb 1-4: set resolution quirk: cval-&gt;res = 384 [ 3.646962] usbcore: registered new interface driver snd-usb-audio [ 4.423463] e1000e: eth0 NIC Link is Up 100 Mbps Full Duplex, Flow Control: Rx/Tx [ 4.423466] e1000e 0000:00:19.0 eth0: 10/100 speed: disabling TSO [ 4.423494] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready [ 8.942751] systemd-logind[852]: Failed to start unit user@1000.service: Unknown unit: user@1000.service [ 8.942754] systemd-logind[852]: Failed to start user service: Unknown unit: user@1000.service [ 8.945072] systemd-logind[852]: New session c2 of user terusus. [ 8.945093] systemd-logind[852]: Linked /tmp/.X11-unix/X0 to /run/user/1000/X11-display. [ 61.360511] systemd-hostnamed[2997]: Warning: nss-myhostname is not installed. Changing the local hostname might make it unresolveable. Please install nss-myhostname! [ 69.112449] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 73.738806] kvm: zapping shadow pages for mmio generation wraparound [ 84.697045] [drm:drm_edid_block_valid [drm]] *ERROR* EDID checksum is invalid, remainder is 190 [ 84.697048] Raw EDID: [ 84.697049] 00 ff ff ff ff ff ff 00 26 cd d7 46 8b 18 00 00 [ 84.697049] 1f 0f 01 03 80 22 1b 78 2f 5e 50 a6 54 4c 99 26 [ 84.697050] 14 50 54 bf ef 00 81 b9 7f ff ff ff ff ff ff ff [ 84.697051] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697051] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697052] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697053] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697053] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 167.715926] kvm: zapping shadow pages for mmio generation wraparound [ 256.890599] kvm: zapping shadow pages for mmio generation wraparound</code></pre></div><p>I did start the VM 3 times and I believe the message <em>kvm: zapping shadow pages for mmio generation wraparound</em> corresponds to those. This at the end looks a bit strange. What does this &quot;drm error&quot; mean:</p><div class="codebox"><pre><code>[ 61.360511] systemd-hostnamed[2997]: Warning: nss-myhostname is not installed. Changing the local hostname might make it unresolveable. Please install nss-myhostname! [ 69.112449] vfio-pci 0000:01:00.0: enabling device (0000 -&gt; 0003) [ 73.738806] kvm: zapping shadow pages for mmio generation wraparound [ 84.697045] [drm:drm_edid_block_valid [drm]] *ERROR* EDID checksum is invalid, remainder is 190 [ 84.697048] Raw EDID: [ 84.697049] 00 ff ff ff ff ff ff 00 26 cd d7 46 8b 18 00 00 [ 84.697049] 1f 0f 01 03 80 22 1b 78 2f 5e 50 a6 54 4c 99 26 [ 84.697050] 14 50 54 bf ef 00 81 b9 7f ff ff ff ff ff ff ff [ 84.697051] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697051] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697052] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697053] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 84.697053] ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff [ 167.715926] kvm: zapping shadow pages for mmio generation wraparound [ 256.890599] kvm: zapping shadow pages for mmio generation wraparound</code></pre></div><p>PS: My QEMU start code is:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M pc -m 4096 \ -cpu host,kvm=off -smp 2,sockets=1,cores=2,threads=1 \ -device ioh3420,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 -device virtio-scsi-pci,id=scsi \ -drive file=/storage/vm/win7.img,id=disk,format=raw,if=none -device scsi-hd,drive=disk \ -drive file=/media/.../win7.iso,id=isocd,if=none -device scsi-cd,drive=isocd \ -drive file=/media/.../virtio.iso,id=virtiocd,if=none -device ide-cd,bus=ide.1,drive=virtiocd \ -vga none</code></pre></div><p>PPS: drm error does not appear if I boot with &quot;nomodeset&quot;.</p><p>PPPS: I read <a href="https://bbs.archlinux.org/viewtopic.php?pid=1353388#p1353388" rel="nofollow">aw&#039;s replay</a> regarding kvm zapping. How to do pre-boot?</p> <p class="postedit"><em>Last edited by terusus (2015-03-02 22:08:52)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507789">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507827" class="blockpost roweven"> <h2><span><span class="conr">#4379</span> <a href="viewtopic.php?pid=1507827#p1507827">2015-03-02 22:12:18</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>terusus wrote:</cite><blockquote><div><p>PPPS: I read <a href="https://bbs.archlinux.org/viewtopic.php?pid=1353388#p1353388" rel="nofollow">aw&#039;s replay</a> regarding kvm zapping. How to do pre-boot?</p></div></blockquote></div><p>That post has absolutely nothing to do with the zapping message.&#160; If you don&#039;t have a Quadro or GRID, real or fake, ignore everything about that post.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507827">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507837" class="blockpost rowodd"> <h2><span><span class="conr">#4380</span> <a href="viewtopic.php?pid=1507837#p1507837">2015-03-02 22:44:21</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87718">prussian</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-02</span></dd> <dd><span>Posts: 1</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Anyone know how to fix this?</p><div class="codebox"><pre><code>alsa: Requested buffer size 256 was rejected, using 2048</code></pre></div><p>if the buffer is too large, the audio quality in Windows VMs seems to suffer massively and it seems like alsa isn&#039;t letting me set a low buffer.</p><p>edit:</p><p>never mind, I forgot to use sudo -E and now it&#039;s using the buffer size I set in my .asoundrc</p> <p class="postedit"><em>Last edited by prussian (2015-03-02 22:56:47)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507837">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507898" class="blockpost roweven"> <h2><span><span class="conr">#4381</span> <a href="viewtopic.php?pid=1507898#p1507898">2015-03-03 02:57:00</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87813">Len</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/87813.png?m=1420509844" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 23</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87813">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hmm, any idea how can I share CPU between two guest, assuming that CPU load is equal to 100% on both guests and host:<br />Max allowed CPU usage for guest#1 - 40%<br />-- for guest#2 - 40%<br />-- for host - 20%</p><p>when guest#1 load is low, guest#2 is getting up to 80% of CPU usage and vice versa, host - always 20%.</p><p>Is this possible?<br />Also same thing, but with RAM.</p> <p class="postedit"><em>Last edited by Len (2015-03-03 02:58:49)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507898">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507929" class="blockpost rowodd"> <h2><span><span class="conr">#4382</span> <a href="viewtopic.php?pid=1507929#p1507929">2015-03-03 08:35:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I&#039;ve got information that NVIDIA Game Ready drivers turn off CUDA. Is this true? Can anyone confirm this?</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507929">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508125" class="blockpost roweven"> <h2><span><span class="conr">#4383</span> <a href="viewtopic.php?pid=1508125#p1508125">2015-03-03 20:49:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Len wrote:</cite><blockquote><div><p>Hmm, any idea how can I share CPU between two guest, assuming that CPU load is equal to 100% on both guests and host:<br />Max allowed CPU usage for guest#1 - 40%<br />-- for guest#2 - 40%<br />-- for host - 20%</p><p>when guest#1 load is low, guest#2 is getting up to 80% of CPU usage and vice versa, host - always 20%.</p><p>Is this possible?<br />Also same thing, but with RAM.</p></div></blockquote></div><p>google: cgroups</p><p>When device assignment is in play, VMs use fixed amounts of RAM, all guest memory is pinned, so maybe the only thing cgroups could control would be caching of block device in the host if they&#039;re setup to use host caching.&#160; cgroups for setting CPU limits should be possible.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508125">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508127" class="blockpost rowodd"> <h2><span><span class="conr">#4384</span> <a href="viewtopic.php?pid=1508127#p1508127">2015-03-03 21:01:14</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85328">PureTryOut</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-23</span></dd> <dd><span>Posts: 63</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>PureTryOut wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Then either VGA arbitration is not working or QEMU can&#039;t read the ROM on the GPU.&#160; VGA arbitration not working was a problem we used to see using the proprietary nvidia driver in the host (driver would lock and never release the VGA arbitration lock).&#160; Nvidia might have fixed this, dunno.&#160; The latter ROM issue would produce an invalid ROM contents message in dmesg.&#160; GeForce cards do not work as secondary GPUs in the guest.</p></div></blockquote></div><p>So is there any workaround or any way I can fix this?</p></div></blockquote></div><p>If you read the FAQ from the link below, you might find Question 9 interesting.&#160; If you look at the comments, you&#039;ll find a link to that patch.&#160; It looks like even the latest version of the Linux nvidia driver still has this problem.</p></div></blockquote></div><p>I&#039;m sorry, what link are you referring too? The one in your signature? I can&#039;t find a Question 9 on there?</p><p><strong>Edit:</strong> Woops nvm I found it, i&#039;ll check it out because it seems to be my problem.</p><p><strong>Edit 2:</strong> Well that went wrong... I&#039;ve patched the host NVIDIA driver, installed it, and then it wouldn&#039;t boot anymore. Not even with nomodeset...<br />I had to switch back to the stock Arch kernel, add nomodeset, then reinstall the patched kernel + stock Arch drivers.<br />I can boot my system again but still without a patched NVIDIA driver.<br />Although i&#039;m not sure Question 9 applies to me. They are talking about &quot;nothing happening&quot;, while Qemu in fact launches for me, just not the VM itself.</p> <p class="postedit"><em>Last edited by PureTryOut (2015-03-03 21:50:14)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508127">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508140" class="blockpost roweven"> <h2><span><span class="conr">#4385</span> <a href="viewtopic.php?pid=1508140#p1508140">2015-03-03 21:30:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=66472">hurenkam</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-12-10</span></dd> <dd><span>Posts: 7</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=66472">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>noctavian wrote:</cite><blockquote><div><p>That would be me.</p></div></blockquote></div><p>Ah, I see you added me there as well, so let me provide some additional info:<br />- Host Distro: Arch<br />- Host Kernel: 3.17.6-1-ARCH<br />- Qemu version: 2.1.2<br />- Patches: None, just using standard Arch packages.<br />- Other remarks: Working guests: Mavericks / Windows 8 / Arch / Ubuntu 14.10</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508140">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508165" class="blockpost rowodd"> <h2><span><span class="conr">#4386</span> <a href="viewtopic.php?pid=1508165#p1508165">2015-03-03 23:05:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>ACS override patch from OP doesnt work on Fedora 21 with 3.18.7 kernel.</p><p>The error:<br />Patch16000: override_for_missing_acs_capabilities.patch<br />+ case &quot;$patch&quot; in<br />+ patch -p1 -F1 -s<br />2 out of 3 hunks FAILED -- saving rejects to file drivers/pci/quirks.c.rej<br />napaka: Bad exit status from /var/tmp/rpm-tmp.uVOn5W (%prep)</p><p>Can anyone help me?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508165">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508166" class="blockpost roweven"> <h2><span><span class="conr">#4387</span> <a href="viewtopic.php?pid=1508166#p1508166">2015-03-03 23:08:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85100">Tyrewt</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-13</span></dd> <dd><span>Posts: 14</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Bronek wrote:</cite><blockquote><div><div class="quotebox"><cite>Tyrewt wrote:</cite><blockquote><div><div class="quotebox"><cite>Bronek wrote:</cite><blockquote><div><p>I found that the best way for USB passthrough is to pass whole USB controller. You can do it also for USB controllers integrated into the south-bridge since they are attached to PCIe root like normal extension cards. This is useful for all types of USB devices because it basically removes USB root complex from host OS and also removes latency of USB serialisation through qemu. Also perfect for attaching things like USB-DAC for great quality sound.</p></div></blockquote></div><br /><br /><br /><p>So I followed your advice with no luck, maybe I should focus efforts on USB Device Pass-through as it seems get further with Ubuntu.</p><p>For the record, the three USB controllers were:</p><div class="quotebox"><blockquote><div><p>00:14.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB xHCI [8086:8c31] (rev 04)<br />00:1a.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 [8086:8c2d] (rev 04)<br />00:1d.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 [8086:8c26] (rev 04)</p></div></blockquote></div><p>Added them to my /etc/vfio-pci.cfg</p><div class="quotebox"><blockquote><div><p>0000:00:14.0<br />0000:00:1a.0<br />0000:00:1d.0</p></div></blockquote></div><p>Then added the following lines to my qemu config</p><div class="quotebox"><blockquote><div><p>-usb \<br />-device vfio-pci,host=00:14.0 \<br />-device vfio-pci,host=00:1a.0 \<br />-device vfio-pci,host=00:1d.0 \</p></div></blockquote></div><br /><p>Starting the Virtual Machine fails at the first controller with the following error.</p><div class="quotebox"><blockquote><div><p>qemu-system-x86_64: -device vfio-pci,host=00:14.0: vfio: error opening /dev/vfio/4: No such file or directory<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: vfio: failed to get group 4<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: Device initialization failed.<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: Device &#039;vfio-pci&#039; could not be initialized</p></div></blockquote></div><p>Any suggestions?</p></div></blockquote></div><p>ok so you are trying to add three USB controller devices (1x USB 3.0 at 00:14.0 and 2x USD 2.0 at 00:1a.0,00:1d.0) . Apparently adding USB 3.0 controller fails, although we do not see anything about the other two USB 2.0 controllers. Did you ensure you are passing whole IOMMU group? Did you remember to add vendorid:deviceid to pci-stub.ids=... in kernel command line? Did you try passing only USB 2.0 devices? I assume your host was restarted to allow for vfio to claim these USB controllers?</p></div></blockquote></div><br /><br /><p>I was able to sucessfully pass USB devices by explicitly listing them by vendorid and productid. No kernel command is present, my issue was with proper syntax in my QEMU configuration.<br />I&#039;ve noticed both the Host and Guest take control of the device at the same time once connected. Not too sure if this is normal, but once disconnected, the following error is displayed on the Host console:<br /><strong>libusb_release_interface: -4 [NO_DEVICE]<br />libusbx: error [_open_sysfs_attr] open /sys/bus/usb/devices/3-14/bConfigurationValue failed ret=-1 errno=2</strong></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508166">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508559" class="blockpost rowodd"> <h2><span><span class="conr">#4388</span> <a href="viewtopic.php?pid=1508559#p1508559">2015-03-05 05:29:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>AW, what did you do in regards to SELinux and Fedora 21? I spent the last 3 nights trying to get my working Arch XML to boot under Fedora 21, only to figure out/remember SELinux was enabled...</p><p>Also, to everyone, what did you do to get Windows 7 with EFI booted to run with more than one CPU? Are there more HyperV parameters that need to be set in my XML?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508559">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508634" class="blockpost roweven"> <h2><span><span class="conr">#4389</span> <a href="viewtopic.php?pid=1508634#p1508634">2015-03-05 13:53:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>AW, what did you do in regards to SELinux and Fedora 21? I spent the last 3 nights trying to get my working Arch XML to boot under Fedora 21, only to figure out/remember SELinux was enabled...</p><p>Also, to everyone, what did you do to get Windows 7 with EFI booted to run with more than one CPU? Are there more HyperV parameters that need to be set in my XML?</p></div></blockquote></div><p>You&#039;d need to actually tell me what selinux is complaining about to know how to fix it, not that I&#039;m an selinux expert.&#160; However, if it&#039;s complaining due to a wrapper script being used to add the x-vga option, you can find instructions here to fix it: <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/virt.html" rel="nofollow">https://access.redhat.com/documentation … /virt.html</a>&#160; If it has something to do with &lt;qemu:arg&gt; options, you&#039;re on your own.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508634">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508661" class="blockpost rowodd"> <h2><span><span class="conr">#4390</span> <a href="viewtopic.php?pid=1508661#p1508661">2015-03-05 15:23:38</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>You&#039;d need to actually tell me what selinux is complaining about to know how to fix it, not that I&#039;m an selinux expert.&#160; However, if it&#039;s complaining due to a wrapper script being used to add the x-vga option, you can find instructions here to fix it: <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/virt.html" rel="nofollow">https://access.redhat.com/documentation … /virt.html</a>&#160; If it has something to do with &lt;qemu:arg&gt; options, you&#039;re on your own.</p></div></blockquote></div><p>I ended up disabling SELinux... But here are the two situations I ran into:<br />1) I had the OVMF files CODE and VARs in my home directory -&#160; these were from my working ARCH build. I went to start my VM and it said I had permission denied on the files, even with temporary chmod 777. <br />2) When I linked to the OVMF files in their default location, /usr/share/edk2.git/..., I wouldn&#039;t get the permissions denied, but the monitor attached to my passed-through wouldn&#039;t iniialize. I would hear the GPU spin up, the VM would say it&#039;s running, but no output. When I wasn&#039;t passing through my GPU, or any card, I would see the Tianocore efi screen on the virtual console.</p><p>Once I disabled SELinux, I ceased to have any of these issues. I should have thought of SELinux when I got the permission denied with the OVMF files set to 777.</p><p>In a post from 2013, you mentioned you had a Windows 7 VM running with GPU Passthrough. My issue I have is I cannot allocate more than one CPU to the VM. When I increase the Core and Thread count, it will get past the Tianocore screen, the Windows 7 logo will appear, then the screen will go black. I can even take my working Windows 10 config, swap my Windows7.img in, and the same issues will occur.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508661">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508666" class="blockpost roweven"> <h2><span><span class="conr">#4391</span> <a href="viewtopic.php?pid=1508666#p1508666">2015-03-05 15:43:42</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>You&#039;d need to actually tell me what selinux is complaining about to know how to fix it, not that I&#039;m an selinux expert.&#160; However, if it&#039;s complaining due to a wrapper script being used to add the x-vga option, you can find instructions here to fix it: <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/virt.html" rel="nofollow">https://access.redhat.com/documentation … /virt.html</a>&#160; If it has something to do with &lt;qemu:arg&gt; options, you&#039;re on your own.</p></div></blockquote></div><p>I ended up disabling SELinux... But here are the two situations I ran into:<br />1) I had the OVMF files CODE and VARs in my home directory -&#160; these were from my working ARCH build. I went to start my VM and it said I had permission denied on the files, even with temporary chmod 777.</p></div></blockquote></div><p>pebkac... why would libvirt have permission to files in your home directory?&#160; selinux rightfully prevents this</p><div class="quotebox"><blockquote><div><p>2) When I linked to the OVMF files in their default location, /usr/share/edk2.git/..., I wouldn&#039;t get the permissions denied, but the monitor attached to my passed-through wouldn&#039;t iniialize. I would hear the GPU spin up, the VM would say it&#039;s running, but no output. When I wasn&#039;t passing through my GPU, or any card, I would see the Tianocore efi screen on the virtual console.</p></div></blockquote></div><p>The OVMF CODE file can be linked to the default location, but the VARS file needs to live somewhere libvirt has access to write.&#160; If you use the template mechanism discussed in my KVM forum slides, libvirt will make the writable VARS file in /var/lib/libvirt/qemu/nvram/</p><div class="quotebox"><blockquote><div><p>Once I disabled SELinux, I ceased to have any of these issues. I should have thought of SELinux when I got the permission denied with the OVMF files set to 777.</p><p>In a post from 2013, you mentioned you had a Windows 7 VM running with GPU Passthrough. My issue I have is I cannot allocate more than one CPU to the VM. When I increase the Core and Thread count, it will get past the Tianocore screen, the Windows 7 logo will appear, then the screen will go black. I can even take my working Windows 10 config, swap my Windows7.img in, and the same issues will occur.</p></div></blockquote></div><p>I&#039;ve only used Windows 7 with x-vga, it&#039;s only here that I learned win7 can even run on OVMF, but it seems like more hassle than I&#039;m interested in for a game VM.&#160; IME, windows doesn&#039;t like hardware changes and uses a different internal machine type for a uniprocessor system versus a multi-processor system.&#160; You may need to boot w/ a single cpu, go into device manager and change the model before you can boot with multiple cpus.&#160; Sorry, that&#039;s as specific as I can be, it&#039;s been a long time since I&#039;ve had to do that and I always install windows guests with at least 2 cpus to avoid it since.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508666">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508675" class="blockpost rowodd"> <h2><span><span class="conr">#4392</span> <a href="viewtopic.php?pid=1508675#p1508675">2015-03-05 16:39:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>As far as i understand it - windows 7 doesn&#039;t work properly with any OVMF config at all. It tries to boot and fails to output any graphics.<br />I&#039;m not sure, but eventually i might test this behaviour (again) on real UEFI platform.<br />Debug console isn&#039;t saying anything suspicious when it hangs. I might fiddle with it using GDB, but i highly doubt that it&#039;ll help.</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508675">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508679" class="blockpost roweven"> <h2><span><span class="conr">#4393</span> <a href="viewtopic.php?pid=1508679#p1508679">2015-03-05 17:03:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87584">pkim</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-12-27</span></dd> <dd><span>Posts: 9</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87584">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>ACS override patch from OP doesnt work on Fedora 21 with 3.18.7 kernel.</p><p>The error:<br />Patch16000: override_for_missing_acs_capabilities.patch<br />+ case &quot;$patch&quot; in<br />+ patch -p1 -F1 -s<br />2 out of 3 hunks FAILED -- saving rejects to file drivers/pci/quirks.c.rej<br />napaka: Bad exit status from /var/tmp/rpm-tmp.uVOn5W (%prep)</p><p>Can anyone help me?</p></div></blockquote></div><p>I have been able to patch 3.18.7 on Fedora for the ACS capabilities. I&#039;ve taken Alex&#039;s patch and had to change it around a little - I reverse engineered it and applied it to the new quirks.c file. I posted the patch on this forum, search for pkim posts. I also posted a detailed experience with my setup as well - I almost got everything working stock, but I needed the ACS patch.</p><p>- Peter</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508679">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508683" class="blockpost rowodd"> <h2><span><span class="conr">#4394</span> <a href="viewtopic.php?pid=1508683#p1508683">2015-03-05 17:34:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I wonder if it would be worth while to have an IRC chat going for this thread alone? ;-)</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508683">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508755" class="blockpost roweven"> <h2><span><span class="conr">#4395</span> <a href="viewtopic.php?pid=1508755#p1508755">2015-03-05 21:40:15</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>I wonder if it would be worth while to have an IRC chat going for this thread alone? ;-)</p></div></blockquote></div><p>I&#039;ve been struggling to gather a fresh FAQ section for a week, and you suggest increasing the information trashing speed.<br />I&#039;ve been trying to find debug console snippet of config for two days, and failed.<br />And the normal #kvm channel is so full of idlers, that i remembered the days of IRC Idle-RPG bots and stuff.<br />Of course, there was a quote like &quot;do people talk about something except vga passthrough ion this channel anymore?&quot; or something, but, you know..</p><p>We really need to gather a FAQ or wiki page with all the different problems and solutions. And archwiki... requires you to be registered on arch wiki.</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508755">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508758" class="blockpost rowodd"> <h2><span><span class="conr">#4396</span> <a href="viewtopic.php?pid=1508758#p1508758">2015-03-05 21:43:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>I wonder if it would be worth while to have an IRC chat going for this thread alone? ;-)</p></div></blockquote></div><p>I&#039;ve been struggling to gather a fresh FAQ section for a week, and you suggest increasing the information trashing speed.<br />I&#039;ve been trying to find debug console snippet of config for two days, and failed.<br />And the normal #kvm channel is so full of idlers, that i remembered the days of IRC Idle-RPG bots and stuff.<br />Of course, there was a quote like &quot;do people talk about something except vga passthrough ion this channel anymore?&quot; or something, but, you know..</p><p>We really need to gather a FAQ or wiki page with all the different problems and solutions. And archwiki... requires you to be registered on arch wiki.</p></div></blockquote></div><p>I can update my FAQ, what&#039;s it missing?</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508758">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508879" class="blockpost roweven"> <h2><span><span class="conr">#4397</span> <a href="viewtopic.php?pid=1508879#p1508879">2015-03-06 09:15:55</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=77628">mbirkis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-12-12</span></dd> <dd><span>Posts: 13</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=77628">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>I wonder if it would be worth while to have an IRC chat going for this thread alone? ;-)</p></div></blockquote></div><p>I&#039;ve been struggling to gather a fresh FAQ section for a week, and you suggest increasing the information trashing speed.<br />I&#039;ve been trying to find debug console snippet of config for two days, and failed.<br />And the normal #kvm channel is so full of idlers, that i remembered the days of IRC Idle-RPG bots and stuff.<br />Of course, there was a quote like &quot;do people talk about something except vga passthrough ion this channel anymore?&quot; or something, but, you know..</p><p>We really need to gather a FAQ or wiki page with all the different problems and solutions. And archwiki... requires you to be registered on arch wiki.</p></div></blockquote></div><p>I can update my FAQ, what&#039;s it missing?</p></div></blockquote></div><p>I have been searching abit in this forum and on aw&#039;s vfio blog faq. When going through the talking points you had aw i got the impression that if i switch to using OVMF and UEFI on my windows8.1 guest, the vga arbiter issue with Nvidia proprietary host drivers is a non issue (your faq question 9) and i can install and use the nvidia driver on the host without patching?</p><p>Sorry if this question has been answered before i just had a hard time finding the answer that looked obvious from your talking points &quot;VFIO, OVMF, GPU, and You &quot;.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508879">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508928" class="blockpost rowodd"> <h2><span><span class="conr">#4398</span> <a href="viewtopic.php?pid=1508928#p1508928">2015-03-06 14:10:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85328">PureTryOut</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-23</span></dd> <dd><span>Posts: 63</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I&#039;ve seen this too (no need to patch host drivers if you&#039;re using OVMF). Sadly I have no clue how to make it work though.<br />From what I&#039;ve read you should launch Qemu with</p><div class="codebox"><pre><code>qemu-system-x86_64 -L .</code></pre></div><p>This while being in the directory where the UEFI bios.bin is in.<br />Well tried that, it did nothing, not even give me an UEFI shell.</p><p>Is there a proper guide to OVMF in Qemu out there that we can use?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508928">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508932" class="blockpost roweven"> <h2><span><span class="conr">#4399</span> <a href="viewtopic.php?pid=1508932#p1508932">2015-03-06 14:19:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>PureTryOut wrote:</cite><blockquote><div><p>I&#039;ve seen this too (no need to patch host drivers if you&#039;re using OVMF). Sadly I have no clue how to make it work though.<br />From what I&#039;ve read you should launch Qemu with</p><div class="codebox"><pre><code>qemu-system-x86_64 -L .</code></pre></div><p>This while being in the directory where the UEFI bios.bin is in.<br />Well tried that, it did nothing, not even give me an UEFI shell.</p><p>Is there a proper guide to OVMF in Qemu out there that we can use?</p></div></blockquote></div><p>Assuming you&#039;re on arch:</p><p>Get <a href="https://aur.archlinux.org/packages/ovmf-svn/" rel="nofollow">OVMF-svn</a>, build an install it.</p><p>Then launch qemu like this:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -m 1024 -cpu host,kvm=off -smp 2,sockets=1,cores=2,threads=1 \ -drive if=pflash,format=raw,readonly,file=/usr/share/ovmf/x64/ovmf_code_x64.bin \ -drive if=pflash,format=raw,file=/usr/share/ovmf/x64/ovmf_vars_x64.bin \ -device vfio-pci,host=07:00.0 -device vfio-pci,host=07:00.1 \ -vga none</code></pre></div> <p class="postedit"><em>Last edited by nbhs (2015-03-06 14:20:56)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508932">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1508938" class="blockpost rowodd"> <h2><span><span class="conr">#4400</span> <a href="viewtopic.php?pid=1508938#p1508938">2015-03-06 14:51:21</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89334">efeu</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-03-06</span></dd> <dd><span>Posts: 4</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=89334">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I havent that good CPU Performance in Win8.1 using -smp 8,sockets=1,cores=4,threads=2 with my 4970k@4,6GHz so I saw Pin vcpu to pcpu in first post but this site seems to be do offline.<br />Can someone help me with that?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1508938">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=175">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=174">174</a> <a href="viewtopic.php?id=162768&amp;p=175">175</a> <strong>176</strong> <a href="viewtopic.php?id=162768&amp;p=177">177</a> <a href="viewtopic.php?id=162768&amp;p=178">178</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=177">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
