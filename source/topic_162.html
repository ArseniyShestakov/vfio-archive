<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 162) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=162" title="Page 162" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=161" title="Page 161" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=163" title="Page 163" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=161">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=160">160</a> <a href="viewtopic.php?id=162768&amp;p=161">161</a> <strong>162</strong> <a href="viewtopic.php?id=162768&amp;p=163">163</a> <a href="viewtopic.php?id=162768&amp;p=164">164</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=163">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1498839" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#4026</span> <a href="viewtopic.php?pid=1498839#p1498839">2015-02-02 06:01:19</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello guys, meet again~</p><p>In these days, I have a time to keep working on VFIO&#039;s work.<br />And I found that if I want to solve the issue that VM cannot reboot if guest OS is Linux, maybe OVMF is another options.</p><p>I&#039;ll try Ubuntu 14.04-1 as guest os and try it again.<br />But now my Kernel version is 3.17-rc6 with QEMU 2.1.0</p><p>Does OVMF included in QEMU 2.2.0?<br />If so, how can I change my script to use OVMF?</p><p>For example:</p><p>Original code is:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none -localtime \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=03:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=03:00.1,bus=root.1,addr=00.1 \ -device ahci,bus=pcie.0,id=ahci \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p>To this?</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -vga none -nographic -localtime \ -drive if=pflash,format=raw,readonly,file=/path/to/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/copy/of/OVMF_VARS.fd \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=03:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=03:00.1,bus=root.1,addr=00.1 \ -device ahci,bus=pcie.0,id=ahci \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1498839">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1498846" class="blockpost roweven"> <h2><span><span class="conr">#4027</span> <a href="viewtopic.php?pid=1498846#p1498846">2015-02-02 06:38:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><p>Hello guys, meet again~</p><p>In these days, I have a time to keep working on VFIO&#039;s work.<br />And I found that if I want to solve the issue that VM cannot reboot if guest OS is Linux, maybe OVMF is another options.</p><p>I&#039;ll try Ubuntu 14.04-1 as guest os and try it again.<br />But now my Kernel version is 3.17-rc6 with QEMU 2.1.0</p><p>Does OVMF included in QEMU 2.2.0?<br />If so, how can I change my script to use OVMF?</p><p>For example:</p><p>Original code is:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none -localtime \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=03:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=03:00.1,bus=root.1,addr=00.1 \ -device ahci,bus=pcie.0,id=ahci \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p>To this?</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -M q35 -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -vga none -nographic -localtime \ -drive if=pflash,format=raw,readonly,file=/path/to/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/copy/of/OVMF_VARS.fd \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=03:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=03:00.1,bus=root.1,addr=00.1 \ -device ahci,bus=pcie.0,id=ahci \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div></div></blockquote></div><p>OVMF isnt included with QEMU, but perhaps it ships with Ubuntu, you should drop Q35, and be prepared to reinstall windows.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1498846">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1498855" class="blockpost rowodd"> <h2><span><span class="conr">#4028</span> <a href="viewtopic.php?pid=1498855#p1498855">2015-02-02 06:56:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>OVMF isnt included with QEMU, but perhaps it ships with Ubuntu, you should drop Q35, and be prepared to reinstall windows.</p></div></blockquote></div><p>Nope, I didn&#039;t see any about OVMF in Ubuntu 14.04.</p><p>I checked wiki about OVMF, seems like need to build one by myself, I&#039;ll try it.</p><p>BTW, OVMF will use in Ubuntu guest OS, because Windows 7 is reboot normally when using legacy seabios.<br />And then drop Q35 and use 440FX if I use OVMF.<br />Any notice about change script from Q35 to 440FX?</p> <p class="postedit"><em>Last edited by AKSN74 (2015-02-02 06:58:01)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1498855">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1498881" class="blockpost roweven"> <h2><span><span class="conr">#4029</span> <a href="viewtopic.php?pid=1498881#p1498881">2015-02-02 08:36:21</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>OVMF isnt included with QEMU, but perhaps it ships with Ubuntu, you should drop Q35, and be prepared to reinstall windows.</p></div></blockquote></div><p>Nope, I didn&#039;t see any about OVMF in Ubuntu 14.04.</p><p>I checked wiki about OVMF, seems like need to build one by myself, I&#039;ll try it.</p><p>BTW, OVMF will use in Ubuntu guest OS, because Windows 7 is reboot normally when using legacy seabios.<br />And then drop Q35 and use 440FX if I use OVMF.<br />Any notice about change script from Q35 to 440FX?</p></div></blockquote></div><p>Should be like this:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -vga none -nographic -localtime \ -drive if=pflash,format=raw,readonly,file=/path/to/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/copy/of/OVMF_VARS.fd \ -device vfio-pci,host=03:00.0,x-vga=on \ -device vfio-pci,host=03:00.1 -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p><a href="https://drive.google.com/open?id=0Bxp_MsrVrNnEQ3hSTkZkbFJtXzg&amp;authuser=0" rel="nofollow">OVMF binaries</a></p> <p class="postedit"><em>Last edited by nbhs (2015-02-02 08:36:36)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1498881">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499085" class="blockpost rowodd"> <h2><span><span class="conr">#4030</span> <a href="viewtopic.php?pid=1499085#p1499085">2015-02-02 18:57:52</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=86675">lordleto</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-11-14</span></dd> <dd><span>Posts: 6</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Quick heads up for those who want to run linux guest with nvidia.<br />Apparently you need kvm=off exactly like in Windows. Then it works like a charm.<br />Installed Ubuntu 14.04 with Nvidia 346 from CUDA 7.0RC with OMVF (see xml below)<br />Works like a charm, cuda runs perfectly. Even PCI3.0 with host-device transfers in 10GByte/s Range </p><p>Also switched Windows 7 to 440FX. It is truly better (GFE prolbems seemed to disappear). <br />I can even hotplug the whole USB 3.0 controller to a running the guest, thats awesome. Didnt expect Windows 7 to handle that.<br />Windows 7 runs on Seabios and qemu wrapper script.<br />To anyone having passing Asmedia USB 3.0 controller, you should get the latest firmware for them. That made alot of warning in dmesg disappear for me.<br />Its a bit of pain to find the latest one and beware there are apperently 2 versions of the chip, but it worth it.</p><p>I will try now to get OS X running. Any one got any luck starting Yosemite install? Mavericks install starts fine with chameleon. Yosemite with clover hangs on logo. need to research more. Would be nice to have a virtualized backup clone of wifes mac air.</p><div class="codebox"><pre class="vscroll"><code>&lt;domain type=&#039;kvm&#039; xmlns:qemu=&#039;http://libvirt.org/schemas/domain/qemu/1.0&#039;&gt; &lt;name&gt;Ubuntu1404&lt;/name&gt; &lt;memory unit=&#039;G&#039;&gt;12&lt;/memory&gt; &lt;currentMemory unit=&#039;G&#039;&gt;12&lt;/currentMemory&gt; &lt;memoryBacking&gt; &lt;hugepages/&gt; &lt;nosharepages/&gt; &lt;locked/&gt; &lt;/memoryBacking&gt; &lt;cpu mode=&#039;host-passthrough&#039;&gt; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;2&#039;/&gt; &lt;/cpu&gt; &lt;vcpu placement=&#039;static&#039;&gt;8&lt;/vcpu&gt; &lt;iothreads&gt;4&lt;/iothreads&gt; &lt;cputune&gt; &lt;vcpupin vcpu=&#039;0&#039; cpuset=&#039;2&#039;/&gt; &lt;vcpupin vcpu=&#039;2&#039; cpuset=&#039;3&#039;/&gt; &lt;vcpupin vcpu=&#039;4&#039; cpuset=&#039;4&#039;/&gt; &lt;vcpupin vcpu=&#039;6&#039; cpuset=&#039;5&#039;/&gt; &lt;vcpupin vcpu=&#039;1&#039; cpuset=&#039;8&#039;/&gt; &lt;vcpupin vcpu=&#039;3&#039; cpuset=&#039;9&#039;/&gt; &lt;vcpupin vcpu=&#039;5&#039; cpuset=&#039;10&#039;/&gt; &lt;vcpupin vcpu=&#039;7&#039; cpuset=&#039;11&#039;/&gt; &lt;/cputune&gt; &lt;resource&gt; &lt;partition&gt;/machine&lt;/partition&gt; &lt;/resource&gt; &lt;os&gt; &lt;type arch=&#039;x86_64&#039; machine=&#039;pc-i440fx-2.1&#039;&gt;hvm&lt;/type&gt; &lt;loader readonly=&#039;yes&#039; type=&#039;pflash&#039;&gt;..OVMF_CODE-pure-efi.fd&lt;/loader&gt; &lt;nvram template=&#039;..OVMF_VARS-pure-efi.fd&#039;/&gt; &lt;/os&gt; &lt;features&gt; &lt;pae/&gt; &lt;acpi/&gt; &lt;apic/&gt; &lt;/features&gt; &lt;clock offset=&#039;utc&#039;&gt; &lt;/clock&gt; &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt; &lt;on_reboot&gt;restart&lt;/on_reboot&gt; &lt;on_crash&gt;destroy&lt;/on_crash&gt; &lt;devices&gt; &lt;emulator&gt;/usr/local/bin/qemu-system-x86_64&lt;/emulator&gt; &lt;controller type=&#039;scsi&#039; model=&#039;virtio-scsi&#039; index=&#039;0&#039;&gt; &lt;driver queues=&#039;8&#039; /&gt; &lt;/controller&gt; &lt;disk type=&#039;file&#039; device=&#039;disk&#039;&gt; &lt;driver name=&#039;qemu&#039; type=&#039;raw&#039; cache=&#039;writethrough&#039; io=&#039;threads&#039; discard=&#039;unmap&#039;/&gt; &lt;source file=&#039;/daten/vms/storage/Ubuntu1404/ubuntu1404.img&#039;/&gt; &lt;target dev=&#039;sda&#039; bus=&#039;scsi&#039;/&gt; &lt;address type=&#039;drive&#039; controller=&#039;0&#039; bus=&#039;0&#039; target=&#039;0&#039; unit=&#039;0&#039;/&gt; &lt;/disk&gt; &lt;disk type=&#039;file&#039; device=&#039;cdrom&#039;&gt; &lt;driver name=&#039;qemu&#039; type=&#039;raw&#039;/&gt; &lt;source file=&#039;/daten/images/Images/Linux/ubuntu-14.04-desktop-amd64.iso&#039;/&gt; &lt;target dev=&#039;sdb&#039; bus=&#039;scsi&#039;/&gt; &lt;readonly/&gt; &lt;address type=&#039;drive&#039; controller=&#039;0&#039; bus=&#039;0&#039; target=&#039;1&#039; unit=&#039;0&#039;/&gt; &lt;/disk&gt; &lt;interface type=&#039;bridge&#039;&gt; &lt;mac address=&#039;52:54:00:c4:c4:d0&#039;/&gt; &lt;source bridge=&#039;virbr0&#039;/&gt; &lt;model type=&#039;virtio&#039;/&gt; &lt;driver name=&#039;vhost&#039; queues=&#039;1&#039;&gt; &lt;guest csum=&#039;off&#039; tso4=&#039;off&#039; tso6=&#039;off&#039;/&gt; &lt;/driver&gt; &lt;/interface&gt; &lt;!-- TITAN --&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;pci&#039; managed=&#039;yes&#039;&gt; &lt;driver name=&#039;vfio&#039;/&gt; &lt;source&gt; &lt;address bus=&#039;0x03&#039; slot=&#039;0x00&#039; function=&#039;0x0&#039;/&gt; &lt;/source&gt; &lt;address type=&#039;pci&#039; bus=&#039;0x00&#039; slot=&#039;0x09&#039; function=&#039;0x0&#039; multifunction=&#039;on&#039;/&gt; &lt;/hostdev&gt; &lt;!-- LAN --&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;pci&#039; managed=&#039;yes&#039;&gt; &lt;driver name=&#039;vfio&#039;/&gt; &lt;source&gt; &lt;address bus=&#039;0x0c&#039; slot=&#039;0x00&#039; function=&#039;0x0&#039;/&gt; &lt;/source&gt; &lt;address type=&#039;pci&#039; bus=&#039;0x00&#039; slot=&#039;0x0c&#039; function=&#039;0x0&#039;/&gt; &lt;/hostdev&gt; &lt;!-- USB 3.0 --&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;pci&#039; managed=&#039;yes&#039;&gt; &lt;driver name=&#039;vfio&#039;/&gt; &lt;source&gt; &lt;address bus=&#039;0x0a&#039; slot=&#039;0x00&#039; function=&#039;0x0&#039;/&gt; &lt;/source&gt; &lt;address type=&#039;pci&#039; bus=&#039;0x00&#039; slot=&#039;0x0a&#039; function=&#039;0x0&#039;/&gt; &lt;/hostdev&gt; &lt;/devices&gt; &lt;qemu:commandline&gt; &lt;qemu:arg value=&#039;-cpu&#039;/&gt; &lt;qemu:arg value=&#039;host,kvm=off&#039;/&gt; &lt;/qemu:commandline&gt; &lt;/domain&gt;</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499085">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499092" class="blockpost roweven"> <h2><span><span class="conr">#4031</span> <a href="viewtopic.php?pid=1499092#p1499092">2015-02-02 19:08:26</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>lordleto wrote:</cite><blockquote><div><div class="codebox"><pre><code> &lt;qemu:commandline&gt; &lt;qemu:arg value=&#039;-cpu&#039;/&gt; &lt;qemu:arg value=&#039;host,kvm=off&#039;/&gt; &lt;/qemu:commandline&gt;</code></pre></div></div></blockquote></div><p><a href="http://vfio.blogspot.com/2014/08/upstream-updates-for-august-26th-2014.html" rel="nofollow">http://vfio.blogspot.com/2014/08/upstre … -2014.html</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499092">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499109" class="blockpost rowodd"> <h2><span><span class="conr">#4032</span> <a href="viewtopic.php?pid=1499109#p1499109">2015-02-02 19:42:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>What does a person have to do to get pass their console/only graphics adapter passed through to a VM? Is it even possible? I would use a PCI video card except that my BIOS doesn&#039;t allow me to choose between PCI and PCIe for graphics.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499109">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499111" class="blockpost roweven"> <h2><span><span class="conr">#4033</span> <a href="viewtopic.php?pid=1499111#p1499111">2015-02-02 19:49:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=86675">lordleto</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-11-14</span></dd> <dd><span>Posts: 6</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>lordleto wrote:</cite><blockquote><div><div class="codebox"><pre><code> &lt;qemu:commandline&gt; &lt;qemu:arg value=&#039;-cpu&#039;/&gt; &lt;qemu:arg value=&#039;host,kvm=off&#039;/&gt; &lt;/qemu:commandline&gt;</code></pre></div></div></blockquote></div><p><a href="http://vfio.blogspot.com/2014/08/upstream-updates-for-august-26th-2014.html" rel="nofollow">http://vfio.blogspot.com/2014/08/upstre … -2014.html</a></p></div></blockquote></div><p>Yeah i know. My libvirt is too old to support the proper way. Should still have put it in to not make bad examples.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499111">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499147" class="blockpost rowodd"> <h2><span><span class="conr">#4034</span> <a href="viewtopic.php?pid=1499147#p1499147">2015-02-02 21:29:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87826">The_Moves</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 58</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87826">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>In the first post of this thread, NBHS references x-vga=on, is this the value I need to set in order to pass my Primary Graphics card through? (Essentially running the host headless) When i attempt to do this now, my system freezes hard require a system reset.</p><p>Qemu also mention adding x-vga support.</p><p><a href="http://wiki.qemu.org/ChangeLog/1.5" rel="nofollow">http://wiki.qemu.org/ChangeLog/1.5</a></p><p>If x-vga is the proper option I need to enable, what is the syntax I need to do to add it to my XML file? Or do I need to use a wrapper script?</p><p>I&#039;ve see references to Primary and Secondary passthrough, but I&#039;m confuzed as what they actually mean.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499147">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499158" class="blockpost roweven"> <h2><span><span class="conr">#4035</span> <a href="viewtopic.php?pid=1499158#p1499158">2015-02-02 21:56:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>The_Moves wrote:</cite><blockquote><div><p>In the first post of this thread, NBHS references x-vga=on, is this the value I need to set in order to pass my Primary Graphics card through? (Essentially running the host headless) When i attempt to do this now, my system freezes hard require a system reset.</p><p>Qemu also mention adding x-vga support.</p><p><a href="http://wiki.qemu.org/ChangeLog/1.5" rel="nofollow">http://wiki.qemu.org/ChangeLog/1.5</a></p><p>If x-vga is the proper option I need to enable, what is the syntax I need to do to add it to my XML file? Or do I need to use a wrapper script?</p><p>I&#039;ve see references to Primary and Secondary passthrough, but I&#039;m confuzed as what they actually mean.</p></div></blockquote></div><p>Primary and secondary in this thread predominantly refers to how the graphics device is presented to the guest.&#160; It&#039;s generally recommended that the graphics card for assignment is a secondary device on the host because it&#039;s often difficult to detach all the host drivers from the primary display.&#160; Even if you use pci-stub.ids to prevent PCI drivers from attaching, the low level VGA/VESA drivers can still make use of it.&#160; It&#039;s not necessarily impossible, but it&#039;s not a heavily used or documented path.</p><p><em>x-vga=on</em> is a QEMU vfio-pci option that allows you to enable VGA resource access for the assigned graphics card.&#160; This is necessary if the assigned graphics card is configured as the primary graphics for the guest in a non-OVMF configuration.&#160; It&#039;s optional for graphics cards assigned as a secondary graphics device to the guest.&#160; It should never be used with an OVMF guest configuration.&#160; Whether x-vga=on is used for the guest is entirely independent of whether the graphics card is primary or secondary on the host.</p><p>If you need to use x-vga=on and you&#039;re using libvirt to manage your VM, the recommended way to add it is via a wrapper script.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499158">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499216" class="blockpost rowodd"> <h2><span><span class="conr">#4036</span> <a href="viewtopic.php?pid=1499216#p1499216">2015-02-03 03:12:35</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Should be like this:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -vga none -nographic -localtime \ -drive if=pflash,format=raw,readonly,file=/path/to/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/copy/of/OVMF_VARS.fd \ -device vfio-pci,host=03:00.0,x-vga=on \ -device vfio-pci,host=03:00.1 -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p><a href="https://drive.google.com/open?id=0Bxp_MsrVrNnEQ3hSTkZkbFJtXzg&amp;authuser=0" rel="nofollow">OVMF binaries</a></p></div></blockquote></div><p>I got a first problem when I tried to install Win7.<br />When I boot VM, it gave me a message</p><div class="codebox"><pre><code>Boot Failed EFI DVD/CDROM</code></pre></div><p>And I google this message, found this solution.<br /><a href="http://support.microsoft.com/kb/2223832/" rel="nofollow">Microsoft KB</a></p><p>Maybe I&#039;ve try Win8 or 8.1</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499216">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499218" class="blockpost roweven"> <h2><span><span class="conr">#4037</span> <a href="viewtopic.php?pid=1499218#p1499218">2015-02-03 03:25:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Should be like this:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -vga none -nographic -localtime \ -drive if=pflash,format=raw,readonly,file=/path/to/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/copy/of/OVMF_VARS.fd \ -device vfio-pci,host=03:00.0,x-vga=on \ -device vfio-pci,host=03:00.1 -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=virtio \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p><a href="https://drive.google.com/open?id=0Bxp_MsrVrNnEQ3hSTkZkbFJtXzg&amp;authuser=0" rel="nofollow">OVMF binaries</a></p></div></blockquote></div><p>I got a first problem when I tried to install Win7.<br />When I boot VM, it gave me a message</p><div class="codebox"><pre><code>Boot Failed EFI DVD/CDROM</code></pre></div><p>And I google this message, found this solution.<br /><a href="http://support.microsoft.com/kb/2223832/" rel="nofollow">Microsoft KB</a></p><p>Maybe I&#039;ve try Win8 or 8.1</p></div></blockquote></div><p>You have to create a fat32 formatted disk image containing the windows installation files</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499218">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499220" class="blockpost rowodd"> <h2><span><span class="conr">#4038</span> <a href="viewtopic.php?pid=1499220#p1499220">2015-02-03 03:31:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>You have to create a fat32 formatted disk image containing the windows installation files</p></div></blockquote></div><p>That means I have to use USB Stick to make a installation disk and then mount into VM, I thought this is a easiest way to install Win7.</p><p>Or any options?</p><p>EDIT: I tried make Win7 installation USB stick(FAT32 Format) and mount into VM by using -usb command<br />But after that, OVMF can&#039;t find out my USB stick to load. And it still can&#039;t find device to boot.</p> <p class="postedit"><em>Last edited by AKSN74 (2015-02-03 04:09:50)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499220">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499234" class="blockpost roweven"> <h2><span><span class="conr">#4039</span> <a href="viewtopic.php?pid=1499234#p1499234">2015-02-03 05:10:24</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><p>That means I have to use USB Stick to make a installation disk and then mount into VM, I thought this is a easiest way to install Win7.</p><p>Or any options?</p><p>EDIT: I tried make Win7 installation USB stick(FAT32 Format) and mount into VM by using -usb command<br />But after that, OVMF can&#039;t find out my USB stick to load. And it still can&#039;t find device to boot.</p></div></blockquote></div><p>I created a empty image file, then use mkfs.vfat to format image to FAT32.<br />After that, I mount my image and copy WIndows 7 installation file into image.</p><p>Edit my script to:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.1,drive=ins_cd</code></pre></div><p>But OVMF still can&#039;t boot my image.</p> <p class="postedit"><em>Last edited by AKSN74 (2015-02-03 05:10:43)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499234">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499235" class="blockpost rowodd"> <h2><span><span class="conr">#4040</span> <a href="viewtopic.php?pid=1499235#p1499235">2015-02-03 05:16:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><p>That means I have to use USB Stick to make a installation disk and then mount into VM, I thought this is a easiest way to install Win7.</p><p>Or any options?</p><p>EDIT: I tried make Win7 installation USB stick(FAT32 Format) and mount into VM by using -usb command<br />But after that, OVMF can&#039;t find out my USB stick to load. And it still can&#039;t find device to boot.</p></div></blockquote></div><p>I created a empty image file, then use mkfs.vfat to format image to FAT32.<br />After that, I mount my image and copy WIndows 7 installation file into image.</p><p>Edit my script to:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.1,drive=ins_cd</code></pre></div><p>But OVMF still can&#039;t boot my image.</p></div></blockquote></div><p>Make sure this file exists:</p><div class="codebox"><pre><code>/efi/boot/bootx64.efi</code></pre></div><p>EDIT: btw since its a disk image and not a cdrom image you should change this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.1,drive=ins_cd</code></pre></div><p>to this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-hd,bus=ide.1,drive=ins_cd</code></pre></div> <p class="postedit"><em>Last edited by nbhs (2015-02-03 05:20:20)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499235">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499241" class="blockpost roweven"> <h2><span><span class="conr">#4041</span> <a href="viewtopic.php?pid=1499241#p1499241">2015-02-03 05:42:21</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Make sure this file exists:</p><div class="codebox"><pre><code>/efi/boot/bootx64.efi</code></pre></div><p>EDIT: btw since its a disk image and not a cdrom image you should change this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.1,drive=ins_cd</code></pre></div><p>to this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-hd,bus=ide.1,drive=ins_cd</code></pre></div></div></blockquote></div><p>Things not always be easy.</p><p>When I set install image from ide-cd to ide-hd, it gave me this:<br /><span class="postimg"><img src="http://i.imgur.com/CfZ1Edq.jpg" alt="CfZ1Edq.jpg" /></span></p><p>And if I set ide-hd back to ide-cd, it can enter without any problem, but stuck at &quot;Starting Windows.&quot;</p><p>Maybe I can try put bootx64.efi into ISO file by using UltraISO or something.</p><p>And here is my script:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none -nographic -localtime -boot menu=on \ -drive if=pflash,format=raw,readonly,file=/home/eddieak/OVMF/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/home/eddieak/OVMF/OVMF_VARS.fd \ -device vfio-pci,host=03:00.0,x-vga=on \ -device vfio-pci,host=03:00.1 \ -device virtio-scsi-pci,id=scsi \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=none -device scsi-hd,drive=disk \ -drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.0,drive=ins_cd \ -drive file=/home/eddieak/virtio.iso,id=virtocd,if=none -device ide-cd,bus=ide.1,drive=virtocd \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p>Now I have no idea what problem about this.</p> <p class="postedit"><em>Last edited by AKSN74 (2015-02-03 05:42:43)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499241">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499244" class="blockpost rowodd"> <h2><span><span class="conr">#4042</span> <a href="viewtopic.php?pid=1499244#p1499244">2015-02-03 05:55:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>AKSN74 wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Make sure this file exists:</p><div class="codebox"><pre><code>/efi/boot/bootx64.efi</code></pre></div><p>EDIT: btw since its a disk image and not a cdrom image you should change this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.1,drive=ins_cd</code></pre></div><p>to this:</p><div class="codebox"><pre><code>-drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-hd,bus=ide.1,drive=ins_cd</code></pre></div></div></blockquote></div><p>Things not always be easy.</p><p>When I set install image from ide-cd to ide-hd, it gave me this:<br /><a href="http://i.imgur.com/CfZ1Edq.jpg" rel="nofollow">http://i.imgur.com/CfZ1Edq.jpg</a></p><p>And if I set ide-hd back to ide-cd, it can enter without any problem, but stuck at &quot;Starting Windows.&quot;</p><p>Maybe I can try put bootx64.efi into ISO file by using UltraISO or something.</p><p>And here is my script:</p><div class="codebox"><pre><code>#!/bin/bash qemu-system-x86_64 -enable-kvm -m 8192 -cpu host,kvm=off \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none -nographic -localtime -boot menu=on \ -drive if=pflash,format=raw,readonly,file=/home/eddieak/OVMF/OVMF_CODE.fd \ -drive if=pflash,format=raw,file=/home/eddieak/OVMF/OVMF_VARS.fd \ -device vfio-pci,host=03:00.0,x-vga=on \ -device vfio-pci,host=03:00.1 \ -device virtio-scsi-pci,id=scsi \ -usb -usbdevice host:046d:c534 \ -drive file=/home/eddieak/win7.img,id=disk,format=raw,if=none -device scsi-hd,drive=disk \ -drive file=/home/eddieak/wintest.img,id=ins_cd,if=none -device ide-cd,bus=ide.0,drive=ins_cd \ -drive file=/home/eddieak/virtio.iso,id=virtocd,if=none -device ide-cd,bus=ide.1,drive=virtocd \ -net tap -net nic,macaddr=40-D8-2D-52-FB-43</code></pre></div><p>Now I have no idea what problem about this.</p></div></blockquote></div><p>The problem is windows 7 requires a CSM present in order to boot, thats why you&#039;re stuck on the windows logo, i posted a <a href="https://bbs.archlinux.org/viewtopic.php?pid=1483550#p1483550" rel="nofollow">workarround</a> a few pages back, i recommend you use windows 8 instead.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499244">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499246" class="blockpost roweven"> <h2><span><span class="conr">#4043</span> <a href="viewtopic.php?pid=1499246#p1499246">2015-02-03 06:16:54</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79578">AKSN74</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/79578.jpg?m=1423108340" width="80" height="80" alt="" /></dd> <dd><span>From: Taichung, Taiwan</span></dd> <dd><span>Registered: 2014-02-18</span></dd> <dd><span>Posts: 52</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:missile0407@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>The problem is windows 7 requires a CSM present in order to boot, thats why you&#039;re stuck on the windows logo, i posted a <a href="https://bbs.archlinux.org/viewtopic.php?pid=1483550#p1483550" rel="nofollow">workarround</a> a few pages back, i recommend you use windows 8 instead.</p></div></blockquote></div><p>Mmm... Seems like it&#039;s only way to use Windows 8.1 instead of Win7.</p><p>ITOW, maybe it will not be stuck when rebooting if guest OS is Linux. From legacy bios to OVMF.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499246">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499278" class="blockpost rowodd"> <h2><span><span class="conr">#4044</span> <a href="viewtopic.php?pid=1499278#p1499278">2015-02-03 08:55:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88205">nythrix</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-01-22</span></dd> <dd><span>Posts: 4</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Quick question: Does anyone know why we can&#039;t pass through the intel igfx? Is it a technical limitation or a matter of not enough programmers/money thrown at it?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499278">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499281" class="blockpost roweven"> <h2><span><span class="conr">#4045</span> <a href="viewtopic.php?pid=1499281#p1499281">2015-02-03 08:59:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nythrix wrote:</cite><blockquote><div><p>Quick question: Does anyone know why we can&#039;t pass through the intel igfx? Is it a technical limitation or a matter of not enough programmers/money thrown at it?</p></div></blockquote></div><p><a href="https://01.org/kvm/blogs/albcamus/2014/kvmgt-first-release" rel="nofollow">https://01.org/kvm/blogs/albcamus/2014/ … st-release</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499281">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499284" class="blockpost rowodd"> <h2><span><span class="conr">#4046</span> <a href="viewtopic.php?pid=1499284#p1499284">2015-02-03 09:15:28</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79471">Bronek</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: London</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 90</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79471">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Primary and secondary in this thread predominantly refers to how the graphics device is presented to the guest.&#160; It&#039;s generally recommended that the graphics card for assignment is a secondary device on the host because it&#039;s often difficult to detach all the host drivers from the primary display.&#160; Even if you use pci-stub.ids to prevent PCI drivers from attaching, the low level VGA/VESA drivers can still make use of it.&#160; It&#039;s not necessarily impossible, but it&#039;s not a heavily used or documented path.</p></div></blockquote></div><br /><p>One way to do it is to avoid any use of VGA from host, e.g. redirect console to serial port (kernel command line parameter <strong>console=ttyS0</strong> which effectively turns your host headless). I&#039;d be interested to learn other ways.</p> </div> <div class="postsignature postmsg"><hr /><p>Sorry about&#160; &quot;KVM VGA-Passthrough ...&quot; thread <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Anyone interested in continuing this discussion elsewhere, please contact me privately. I might be able to find it a new home.</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499284">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499334" class="blockpost roweven"> <h2><span><span class="conr">#4047</span> <a href="viewtopic.php?pid=1499334#p1499334">2015-02-03 12:52:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=78620">mostlyharmless</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-01-16</span></dd> <dd><span>Posts: 50</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=78620">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Supposedly the CSM requirement is only for Setup; making an unattended installation is thought to fix the Win 7 installation problem also, but I haven&#039;t verified this yet.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499334">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499375" class="blockpost rowodd"> <h2><span><span class="conr">#4048</span> <a href="viewtopic.php?pid=1499375#p1499375">2015-02-03 14:59:04</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nythrix wrote:</cite><blockquote><div><p>Quick question: Does anyone know why we can&#039;t pass through the intel igfx? Is it a technical limitation or a matter of not enough programmers/money thrown at it?</p></div></blockquote></div><p>The problem is that IGD is not a self-contained device like a discrete graphics card.&#160; Enabling it in the guest requires not only passing the device at PCI address 0000:00:02.0, but also modifying the PCI device IDs of various chipset components and emulating or passing through I/O ranges of other devices obliquely associated with graphics.&#160; IOW, instead of being isolated to a single device, it&#039;s smeared across parts of the whole chipset.&#160; It&#039;s not impossible to support it, Xen has done it and there&#039;s very rough prototype code to do it in KVM.&#160; It is pretty messy though due to the architecture (or perhaps more correctly, lack of architecture in IGD design).</p><p>Last I heard, we&#039;re waiting on Intel to see if they can redesign their driver to take a more self-contained approach to IGD.&#160; It&#039;s possible that some of the chipset and miscellaneous resource requirements are no longer necessary.&#160; However, that may also mean that a solution relying on that approach may only work for the very latest devices.&#160; I haven&#039;t had the time or interest to put in to IGD assignment, but another KVM developer has recently started looking at it, so it&#039;s possible it could move forward.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499375">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499376" class="blockpost roweven"> <h2><span><span class="conr">#4049</span> <a href="viewtopic.php?pid=1499376#p1499376">2015-02-03 15:00:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=88519">lael</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-03</span></dd> <dd><span>Posts: 1</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi guys congrats to this humongus thread!</p><p>I have been wanting to do such a setup for a long time, had some experience with XEN but i bought the wrong cpu for this with no vt-d and i postponed up until now that i am able to buy new hardware and would like to hear what parts to look out for and hopefully have less hassle setting everything up.</p><p>The doc with the listed Mainboards <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> is a huge help but i fear that some info might be missing like info on Revision and the Motheboards i checked so far seem to be a quite a few years old but i am not done with the list yet.</p><p>Thanks for any suggestions.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499376">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1499377" class="blockpost rowodd"> <h2><span><span class="conr">#4050</span> <a href="viewtopic.php?pid=1499377#p1499377">2015-02-03 15:04:15</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>lael wrote:</cite><blockquote><div><p>Hi guys congrats to this humongus thread!</p><p>I have been wanting to do such a setup for a long time, had some experience with XEN but i bought the wrong cpu for this with no vt-d and i postponed up until now that i am able to buy new hardware and would like to hear what parts to look out for and hopefully have less hassle setting everything up.</p><p>The doc with the listed Mainboards <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> is a huge help but i fear that some info might be missing like info on Revision and the Motheboards i checked so far seem to be a quite a few years old but i am not done with the list yet.</p><p>Thanks for any suggestions.</p></div></blockquote></div><p><a href="https://bbs.archlinux.org/viewtopic.php?pid=1495466#p1495466" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 6#p1495466</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1499377">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=161">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=160">160</a> <a href="viewtopic.php?id=162768&amp;p=161">161</a> <strong>162</strong> <a href="viewtopic.php?id=162768&amp;p=163">163</a> <a href="viewtopic.php?id=162768&amp;p=164">164</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=163">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
