<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 174) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=174" title="Page 174" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=173" title="Page 173" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=175" title="Page 175" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=173">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=172">172</a> <a href="viewtopic.php?id=162768&amp;p=173">173</a> <strong>174</strong> <a href="viewtopic.php?id=162768&amp;p=175">175</a> <a href="viewtopic.php?id=162768&amp;p=176">176</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=175">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1506465" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#4326</span> <a href="viewtopic.php?pid=1506465#p1506465">2015-02-26 17:15:31</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>JohnyPea wrote:</cite><blockquote><div><p>I am thinking of getting 290x, out of curiosity and also because the effort needed to circumvent nVidias &quot;helpfullness&quot;. So please let us know how it works out.</p></div></blockquote></div><p>Check it out:<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a><br />A whole spreadsheet with graphics and stuff!<br />There&#039;s Eight people with R9 290X.</p><p>Here&#039;s a COPY with R9 290(x) filtered. You can check these guys&#039; posts by searching their nicknames.<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0AnGmoFuXY5zpdFFjZmU4dnpGXzhGcVpjNWMzSW9zX1E#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … zX1E#gid=0</a></p> <p class="postedit"><em>Last edited by Duelist (2015-02-26 17:15:38)</em></p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506465">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506478" class="blockpost roweven"> <h2><span><span class="conr">#4327</span> <a href="viewtopic.php?pid=1506478#p1506478">2015-02-26 17:34:50</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83627">JohnyPea</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-17</span></dd> <dd><span>Posts: 17</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="quotebox"><cite>JohnyPea wrote:</cite><blockquote><div><p>I am thinking of getting 290x, out of curiosity and also because the effort needed to circumvent nVidias &quot;helpfullness&quot;. So please let us know how it works out.</p></div></blockquote></div><p>Check it out:<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a><br />A whole spreadsheet with graphics and stuff!<br />There&#039;s Eight people with R9 290X.</p><p>Here&#039;s a COPY with R9 290(x) filtered. You can check these guys&#039; posts by searching their nicknames.<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0AnGmoFuXY5zpdFFjZmU4dnpGXzhGcVpjNWMzSW9zX1E#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … zX1E#gid=0</a></p></div></blockquote></div><p> Nice! Did I realy miss THIS? I think I have seen something simmilar, but this list is excellent. Thank you.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506478">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506485" class="blockpost rowodd"> <h2><span><span class="conr">#4328</span> <a href="viewtopic.php?pid=1506485#p1506485">2015-02-26 17:58:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85314">Duelist</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-22</span></dd> <dd><span>Posts: 358</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>JohnyPea wrote:</cite><blockquote><div><div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><div class="quotebox"><cite>JohnyPea wrote:</cite><blockquote><div><p>I am thinking of getting 290x, out of curiosity and also because the effort needed to circumvent nVidias &quot;helpfullness&quot;. So please let us know how it works out.</p></div></blockquote></div><p>Check it out:<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a><br />A whole spreadsheet with graphics and stuff!<br />There&#039;s Eight people with R9 290X.</p><p>Here&#039;s a COPY with R9 290(x) filtered. You can check these guys&#039; posts by searching their nicknames.<br /><a href="https://docs.google.com/spreadsheet/ccc?key=0AnGmoFuXY5zpdFFjZmU4dnpGXzhGcVpjNWMzSW9zX1E#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … zX1E#gid=0</a></p></div></blockquote></div><p> Nice! Did I realy miss THIS? I think I have seen something simmilar, but this list is excellent. Thank you.</p></div></blockquote></div><p><strong>QEMU IS LOVE</strong><br /><strong>QEMU IS LIFE</strong><br /><span class="postimg"><img src="http://i.imgur.com/THZjGKp.png" alt="THZjGKp.png" /></span></p><p>Sorry for being silly, i just love VFIO a bit. I&#039;ve actually red through this all. I should dedicate myself more..</p> </div> <div class="postsignature postmsg"><hr /><p><span class="bbs">The forum rules prohibit requesting support for distributions other than arch.</span><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1551460#p1551460" rel="nofollow">I gave up.</a><a href="https://bbs.archlinux.org/viewtopic.php?id=162768" rel="nofollow"> It was too late.</a><br /><a href="http://pastebin.com/B3fL84bq" rel="nofollow">What I was trying to do</a>.<br /><a href="http://vfio.blogspot.com/" rel="nofollow">The reference about VFIO and KVM VGA passthrough.</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506485">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506486" class="blockpost roweven"> <h2><span><span class="conr">#4329</span> <a href="viewtopic.php?pid=1506486#p1506486">2015-02-26 18:05:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83627">JohnyPea</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-17</span></dd> <dd><span>Posts: 17</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Duelist wrote:</cite><blockquote><div><p><strong>QEMU IS LOVE</strong><br /><strong>QEMU IS LIFE</strong></p><p>Sorry for being silly, i just love VFIO a bit. I&#039;ve actually red through this all. I should dedicate myself more..</p></div></blockquote></div><p> LOL, I couldn&#039;t agree more!</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506486">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506531" class="blockpost rowodd"> <h2><span><span class="conr">#4330</span> <a href="viewtopic.php?pid=1506531#p1506531">2015-02-26 20:28:18</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=80028">trimm</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-03-06</span></dd> <dd><span>Posts: 31</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=80028">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>nbhs: Perhaps update the first post with this link <a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF" rel="nofollow">https://wiki.archlinux.org/index.php/PC … h_via_OVMF</a> and <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> ?</p> <p class="postedit"><em>Last edited by trimm (2015-02-26 20:28:37)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506531">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506571" class="blockpost roweven"> <h2><span><span class="conr">#4331</span> <a href="viewtopic.php?pid=1506571#p1506571">2015-02-26 22:01:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89132">bubbacub</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-26</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=89132">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi thanks for your help - very grateful.</p><p>Tried the xml file you posted (realised my win8 install doesnt have virtio drivers yet and went back to ide) and have been fiddling away all evening.</p><p>I put the vfio binding script into startup as you suggested and I can now boot my vm with the following command</p><div class="codebox"><pre><code>sudo qemu-system-x86_64 -enable-kvm -M q35 -m 4096 -cpu host \ -smp 4,sockets=1,cores=4,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.$ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 \ -drive file=/dev/sdb,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -boot menu=on \ -usb -usbdevice host:045e:0745 \ -vnc :0</code></pre></div><p>I was getting some apparmor permision denied errors which came from a bug concerning the bios.bin file - the file has to be in a non elevated user directory apparently</p><p>Apparmor issues resolved and the VM is now definable. </p><p>Also had to change the machine type to pc-q35-1.5 otherwise it refused to be defined.</p><p>Here is the final/latest xml file I&#039;ve got</p><br /><div class="codebox"><pre class="vscroll"><code>&lt;domain type=&#039;kvm&#039; xmlns:qemu=&#039;http://libvirt.org/schemas/domain/qemu/1.0&#039;&gt; &lt;name&gt;win8&lt;/name&gt; &lt;uuid&gt;6e68b59c-0977-49d9-82b7-325662a8ee13&lt;/uuid&gt; &lt;memory unit=&#039;KiB&#039;&gt;4194304&lt;/memory&gt; &lt;currentMemory unit=&#039;KiB&#039;&gt;4194304&lt;/currentMemory&gt; &lt;vcpu placement=&#039;static&#039;&gt;4&lt;/vcpu&gt; &lt;os&gt; &lt;type arch=&#039;x86_64&#039; machine=&#039;pc-q35-1.5&#039;&gt;hvm&lt;/type&gt; &lt;loader type=&#039;rom&#039;&gt;/home/terminator2/bios.bin&lt;/loader&gt; &lt;boot dev=&#039;hd&#039;/&gt; &lt;bootmenu enable=&#039;yes&#039;/&gt; &lt;/os&gt; &lt;features&gt; &lt;acpi/&gt; &lt;/features&gt; &lt;cpu mode=&#039;host-passthrough&#039;&gt; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;1&#039;/&gt; &lt;/cpu&gt; &lt;clock offset=&#039;utc&#039;/&gt; &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt; &lt;on_reboot&gt;restart&lt;/on_reboot&gt; &lt;on_crash&gt;destroy&lt;/on_crash&gt; &lt;devices&gt; &lt;emulator&gt;/usr/bin/qemu-system-x86_64&lt;/emulator&gt; &lt;disk type=&#039;block&#039; device=&#039;disk&#039;&gt; &lt;driver name=&#039;qemu&#039; type=&#039;raw&#039; cache=&#039;none&#039;/&gt; &lt;source dev=&#039;/dev/sdb&#039;/&gt; &lt;target dev=&#039;hda&#039; bus=&#039;ide&#039;/&gt; &lt;/disk&gt; &lt;controller type=&#039;usb&#039; index=&#039;0&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x02&#039; slot=&#039;0x01&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;sata&#039; index=&#039;0&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1f&#039; function=&#039;0x2&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;pci&#039; index=&#039;0&#039; model=&#039;pcie-root&#039;/&gt; &lt;controller type=&#039;pci&#039; index=&#039;1&#039; model=&#039;dmi-to-pci-bridge&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1e&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;pci&#039; index=&#039;2&#039; model=&#039;pci-bridge&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x01&#039; slot=&#039;0x01&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;ide&#039; index=&#039;0&#039;/&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;usb&#039; managed=&#039;no&#039;&gt; &lt;source&gt; &lt;vendor id=&#039;0x045e&#039;/&gt; &lt;product id=&#039;0x0745&#039;/&gt; &lt;/source&gt; &lt;/hostdev&gt; &lt;memballoon model=&#039;none&#039;/&gt; &lt;/devices&gt; &lt;qemu:commandline&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1&#039;/&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on&#039;/&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;vfio-pci,host=01:00.1,bus=root.1,addr=00.1&#039;/&gt; &lt;/qemu:commandline&gt; &lt;/domain&gt;</code></pre></div><p>but it get this on starting the vm via virsh</p><div class="codebox"><pre><code>error: Failed to start domain win8 error: internal error: process exited while connecting to monitor: qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error opening /dev/vfio/10: Operation not permitted qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: failed to get group 10 qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>I&#039;ve edited my qemu.conf and added /dev/vfio/10 and /dev/vfio/vfio to cgroup_device_acl, i&#039;ve turned clear_emulator_capabilities to 0 and set to run as root. (not sure if this does anything in ubuntu though?).<br />I&#039;ve added /dev/vfio/10 and /dev/vfio/vfio to my user and chmod to 666.</p><p>bit stuck now :-(</p><p>Wondering if the solution is to find a way to get the vfio parts out of the qemu:arg bit of the xml file into something higher up in the xml file?</p> <p class="postedit"><em>Last edited by bubbacub (2015-02-26 22:13:11)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506571">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506587" class="blockpost rowodd"> <h2><span><span class="conr">#4332</span> <a href="viewtopic.php?pid=1506587#p1506587">2015-02-26 22:28:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85100">Tyrewt</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-13</span></dd> <dd><span>Posts: 14</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Bronek wrote:</cite><blockquote><div><div class="quotebox"><cite>Tyrewt wrote:</cite><blockquote><div><p>Trying to do some USB passthough in my config with:</p><div class="quotebox"><blockquote><div><p>usb -usbdevice host:056a:00b9 -usbdevice host:2672:000d -usbdevice host:046d:c21d</p></div></blockquote></div><p>The camera (host:2672:000d) is seen by both the Host (Linux) and Guest (Windows7) when plugged in. Also, Windows fails to load a &quot;MTP Device Driver&quot;. I believe it has something to do with USB passthough, usb-mtp.&#160; Can&#039;t find much information on a fix. Please advise?</p></div></blockquote></div><p>I found that the best way for USB passthrough is to pass whole USB controller. You can do it also for USB controllers integrated into the south-bridge since they are attached to PCIe root like normal extension cards. This is useful for all types of USB devices because it basically removes USB root complex from host OS and also removes latency of USB serialisation through qemu. Also perfect for attaching things like USB-DAC for great quality sound.</p></div></blockquote></div><br /><br /><br /><p>So I followed your advice with no luck, maybe I should focus efforts on USB Device Pass-through as it seems get further with Ubuntu.</p><p>For the record, the three USB controllers were:</p><div class="quotebox"><blockquote><div><p>00:14.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB xHCI [8086:8c31] (rev 04)<br />00:1a.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 [8086:8c2d] (rev 04)<br />00:1d.0 USB controller [0c03]: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 [8086:8c26] (rev 04)</p></div></blockquote></div><p>Added them to my /etc/vfio-pci.cfg</p><div class="quotebox"><blockquote><div><p>0000:00:14.0<br />0000:00:1a.0<br />0000:00:1d.0</p></div></blockquote></div><p>Then added the following lines to my qemu config</p><div class="quotebox"><blockquote><div><p>-usb \<br />-device vfio-pci,host=00:14.0 \<br />-device vfio-pci,host=00:1a.0 \<br />-device vfio-pci,host=00:1d.0 \</p></div></blockquote></div><br /><p>Starting the Virtual Machine fails at the first controller with the following error.</p><div class="quotebox"><blockquote><div><p>qemu-system-x86_64: -device vfio-pci,host=00:14.0: vfio: error opening /dev/vfio/4: No such file or directory<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: vfio: failed to get group 4<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: Device initialization failed.<br />qemu-system-x86_64: -device vfio-pci,host=00:14.0: Device &#039;vfio-pci&#039; could not be initialized</p></div></blockquote></div><p>Any suggestions?</p> <p class="postedit"><em>Last edited by Tyrewt (2015-02-26 23:09:16)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506587">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506603" class="blockpost roweven"> <h2><span><span class="conr">#4333</span> <a href="viewtopic.php?pid=1506603#p1506603">2015-02-26 23:18:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>trimm wrote:</cite><blockquote><div><p>nbhs: Perhaps update the first post with this link <a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF" rel="nofollow">https://wiki.archlinux.org/index.php/PC … h_via_OVMF</a> and <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> ?</p></div></blockquote></div><p>Great!, are you maintaining this database?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506603">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506616" class="blockpost rowodd"> <h2><span><span class="conr">#4334</span> <a href="viewtopic.php?pid=1506616#p1506616">2015-02-27 00:08:18</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>trimm wrote:</cite><blockquote><div><p>nbhs: Perhaps update the first post with this link <a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF" rel="nofollow">https://wiki.archlinux.org/index.php/PC … h_via_OVMF</a> and <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> ?</p></div></blockquote></div><p>Great!, are you maintaining this database?</p></div></blockquote></div><p>Ah, No!&#160; Please don&#039;t put anything that talks about modifying qemu.conf or using &lt;qemu:arg&gt; options on the first post.&#160; That&#039;s WRONG.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506616">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506619" class="blockpost roweven"> <h2><span><span class="conr">#4335</span> <a href="viewtopic.php?pid=1506619#p1506619">2015-02-27 00:22:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87813">Len</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/87813.png?m=1420509844" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 23</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87813">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>trimm wrote:</cite><blockquote><div><p>nbhs: Perhaps update the first post with this link <a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF" rel="nofollow">https://wiki.archlinux.org/index.php/PC … h_via_OVMF</a> and <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> ?</p></div></blockquote></div><p>Great!, are you maintaining this database?</p></div></blockquote></div><p>Ah, No!&#160; Please don&#039;t put anything that talks about modifying qemu.conf or using &lt;qemu:arg&gt; options on the first post.&#160; That&#039;s WRONG.</p></div></blockquote></div><p>And, I think that writing those </p><div class="codebox"><pre><code>&lt;hyperv&gt; ... &lt;relaxed state=&#039;off&#039;/&gt; &lt;vapic state=&#039;off&#039;/&gt; &lt;spinlocks state=&#039;off&#039;/&gt; ... &lt;/hyperv&gt; &lt;clock&gt; ... &lt;timer name=&#039;hypervclock&#039; present=&#039;no&#039;/&gt; ... &lt;/clock&gt;</code></pre></div><p>is not needed, when \./ this is on</p><div class="codebox"><pre><code>&lt;kvm&gt; ... &lt;hidden state=&#039;on&#039;/&gt; ... &lt;/kvm&gt;</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506619">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506623" class="blockpost rowodd"> <h2><span><span class="conr">#4336</span> <a href="viewtopic.php?pid=1506623#p1506623">2015-02-27 00:53:53</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Len wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Great!, are you maintaining this database?</p></div></blockquote></div><p>Ah, No!&#160; Please don&#039;t put anything that talks about modifying qemu.conf or using &lt;qemu:arg&gt; options on the first post.&#160; That&#039;s WRONG.</p></div></blockquote></div><p>And, I think that writing those </p><div class="codebox"><pre><code>&lt;hyperv&gt; ... &lt;relaxed state=&#039;off&#039;/&gt; &lt;vapic state=&#039;off&#039;/&gt; &lt;spinlocks state=&#039;off&#039;/&gt; ... &lt;/hyperv&gt; &lt;clock&gt; ... &lt;timer name=&#039;hypervclock&#039; present=&#039;no&#039;/&gt; ... &lt;/clock&gt;</code></pre></div><p>is not needed, when \./ this is on</p><div class="codebox"><pre><code>&lt;kvm&gt; ... &lt;hidden state=&#039;on&#039;/&gt; ... &lt;/kvm&gt;</code></pre></div></div></blockquote></div><p>Hiding KVM and hiding hyper-v extensions are two separate things.&#160; Both are required for Nvidia (though it&#039;s usually sufficient to simply not specify hyper-v extensions unless some defaults have changed).</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506623">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506625" class="blockpost roweven"> <h2><span><span class="conr">#4337</span> <a href="viewtopic.php?pid=1506625#p1506625">2015-02-27 00:54:16</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><div class="quotebox"><cite>trimm wrote:</cite><blockquote><div><p>nbhs: Perhaps update the first post with this link <a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF" rel="nofollow">https://wiki.archlinux.org/index.php/PC … h_via_OVMF</a> and <a href="https://docs.google.com/spreadsheet/ccc?key=0Aryg5nO-kBebdFozaW9tUWdVd2VHM0lvck95TUlpMlE&amp;usp=drive_web#gid=0" rel="nofollow">https://docs.google.com/spreadsheet/ccc … _web#gid=0</a> ?</p></div></blockquote></div><p>Great!, are you maintaining this database?</p></div></blockquote></div><p>Ah, No!&#160; Please don&#039;t put anything that talks about modifying qemu.conf or using &lt;qemu:arg&gt; options on the first post.&#160; That&#039;s WRONG.</p></div></blockquote></div><p>Ok thanks for the tip aw</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506625">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506682" class="blockpost rowodd"> <h2><span><span class="conr">#4338</span> <a href="viewtopic.php?pid=1506682#p1506682">2015-02-27 07:59:52</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83627">JohnyPea</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-17</span></dd> <dd><span>Posts: 17</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>bubbacub wrote:</cite><blockquote><div><div class="codebox"><pre><code>error: Failed to start domain win8 error: internal error: process exited while connecting to monitor: qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: error opening /dev/vfio/10: Operation not permitted qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: vfio: failed to get group 10 qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>I&#039;ve edited my qemu.conf and added /dev/vfio/10 and /dev/vfio/vfio to cgroup_device_acl, i&#039;ve turned clear_emulator_capabilities to 0 and set to run as root. (not sure if this does anything in ubuntu though?).<br />I&#039;ve added /dev/vfio/10 and /dev/vfio/vfio to my user and chmod to 666.</p><p>bit stuck now :-(</p><p>Wondering if the solution is to find a way to get the vfio parts out of the qemu:arg bit of the xml file into something higher up in the xml file?</p></div></blockquote></div><p>I went exaxtly the same way, and got it working in the end but got stuck on permissions when I tried to use host pulseaudio by guest directly. Therefore better (or mayby only) solution was OVMF with primary virtual graphics and machine type pc-i440fx.<br /> from notes:</p><div class="codebox"><pre><code>/etc/rc.local chown dzon:libvirtd /dev/vfio/16 /dev/vfio/17 /dev/vfio/7 /dev/vfio/vfio chmod 666 /dev/vfio/16 /dev/vfio/17 /dev/vfio/7 /dev/vfio/vfio chown dzon:libvirtd /dev/kvm /etc/libvirt/qemu.conf cgroup_device_acl = [ &quot;/dev/null&quot;, &quot;/dev/full&quot;, &quot;/dev/zero&quot;, &quot;/dev/random&quot;, &quot;/dev/urandom&quot;, &quot;/dev/ptmx&quot;, &quot;/dev/kvm&quot;, &quot;/dev/kqemu&quot;, &quot;/dev/rtc&quot;,&quot;/dev/hpet&quot;, &quot;/dev/vfio/vfio&quot;, &quot;/dev/vfio/23&quot;,&quot;/dev/vfio/18&quot; ] clear_emulator_capabilities = 0 /etc/apparmor.d/usr.sbin.libvirtd /dev/hugepages rw, /dev/vfio/18 rw, /dev/vfio/23 rw,</code></pre></div><p>So you have the qemu.conf part probably done.<br />At the begining I too needed to do some fiddling with</p><div class="codebox"><pre><code>/etc/libvirt/qemu.conf user = &quot;root&quot; group = &quot;root&quot;</code></pre></div><p>but the point was not to.<br />After all this, there was a problem with memory allocation limit. That should be normally managed by libvirt, but at this point it probably went crazy. I cant find the startup script I used for that, but it was messy anyway.<br />Yes, the solution IS getting the vfio qemu:arg parts out. That didnt work with q35 and passed through graphic as primary, though. I too thought that q35, being based on newer architecture, would be better. Maybe in virtual enviroment doesn&#039;t matter that much. 440 is working at least the same if not better and is more compatible.<br />If you need to have a machine of *1.5, then you have probably a quite old qemu. I am compiling mine, but there are a few good ppas for newer packages (including libvirt and virt-manager) even for older ubuntus. This maybe shouldnt be discussed on Arch forum? ;-)</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506682">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506721" class="blockpost roweven"> <h2><span><span class="conr">#4339</span> <a href="viewtopic.php?pid=1506721#p1506721">2015-02-27 12:07:49</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=74738">instantepiphany</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-09-04</span></dd> <dd><span>Posts: 32</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:jordancran@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I am unfortunately still having slowdown issues - but only in guild wars 2, and only when I turn the camera. The frames drop to about 10% of normal at best. I tried using the q35 chipset today, and that increase performance significantly in Shadows of Mordor, and even solved a similar issue in SoM. Someone suggested checking my &quot;disk subsystems&quot; but I don&#039;t really know what that means. My harddrives are all using the virtio interface, and are entire physical hard drives that I am passing through to the machine. Neither my ram nor cpu in the vm gets maxed out when I turn in GW2 - which makes me think it is possibly something to do with my disks but like I said I don&#039;t know how to troubleshoot this.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506721">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506779" class="blockpost rowodd"> <h2><span><span class="conr">#4340</span> <a href="viewtopic.php?pid=1506779#p1506779">2015-02-27 15:45:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84760">Denso</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/84760.png?m=1412533733" width="71" height="80" alt="" /></dd> <dd><span>Registered: 2014-08-30</span></dd> <dd><span>Posts: 179</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><blockquote><div><p>I am unfortunately still having slowdown issues - but only in guild wars 2, and only when I turn the camera. The frames drop to about 10% of normal at best. I tried using the q35 chipset today, and that increase performance significantly in Shadows of Mordor, and even solved a similar issue in SoM. Someone suggested checking my &quot;disk subsystems&quot; but I don&#039;t really know what that means. My harddrives are all using the virtio interface, and are entire physical hard drives that I am passing through to the machine. Neither my ram nor cpu in the vm gets maxed out when I turn in GW2 - which makes me think it is possibly something to do with my disks but like I said I don&#039;t know how to troubleshoot this.</p></div></blockquote></div><p>Hi .</p><p>Games usually don&#039;t hammer HDDs except for loading the area or level .</p><p>You would get better help if you&#039;d paste your QEMU command line here .</p><p>Thanks .</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506779">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506792" class="blockpost roweven"> <h2><span><span class="conr">#4341</span> <a href="viewtopic.php?pid=1506792#p1506792">2015-02-27 16:38:33</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85100">Tyrewt</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-13</span></dd> <dd><span>Posts: 14</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Trying to get Windows 7 Guest with USB device passthough (A camera), more specifically the MTP Device Driver working. My camera gets detected oddly enough by both Host and Guest when connected, but the driver in Windows fails. Appaently it should be done using USB 2.0, but I am unsure how to connect USB devices to the ehci bus. Can anyone show me?</p><p>Currently I have:</p><div class="quotebox"><blockquote><div><p>-usb \<br />-usbdevice host:056a:00b9 \ <br />-usbdevice host:2672:000d \<br />-usbdevice host:046d:c21d \</p></div></blockquote></div><p>Would EHCI (USB 2.0) be like this?</p><div class="quotebox"><blockquote><div><p>-usb \<br />-usbdevice usb-host,bus=ehci.0,host:056a:00b9 \ <br />-usbdevice usb-host,bus=ehci.0,host:2672:000d \<br />-usbdevice usb-host,bus=ehci.0,host:046d:c21d \</p></div></blockquote></div> <p class="postedit"><em>Last edited by Tyrewt (2015-02-27 18:45:16)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506792">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506859" class="blockpost rowodd"> <h2><span><span class="conr">#4342</span> <a href="viewtopic.php?pid=1506859#p1506859">2015-02-27 21:52:36</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89099">Frans-Willem</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-25</span></dd> <dd><span>Posts: 2</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:fw@hardijzer.nl">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi guys,</p><p>I&#039;ve got almost everything working, but sound. Either way I add it, as ich6 (intel-hda), or usb, it all results in System Interrupts taking 30-40% CPU on the Windows 8.1 guest. I&#039;ve already tried the QEMU command line stuff, but it doesn&#039;t seem to help at all.<br />I&#039;ve also tried to pass through the integrated audio, but that just results in the driver failing on the windows guest, sadly.</p><p>Any ideas ?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506859">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506868" class="blockpost roweven"> <h2><span><span class="conr">#4343</span> <a href="viewtopic.php?pid=1506868#p1506868">2015-02-27 22:09:47</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89132">bubbacub</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-26</span></dd> <dd><span>Posts: 3</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=89132">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>No matter!</p><p>Just rebooted and everything is working great under libvirt. </p><p>Thanks for all your help, looks like your advice and my flailing around like a blind man with a text editor worked.</p><p>this is my final xml file in case it helps anyone else:</p><div class="codebox"><pre class="vscroll"><code>&lt;domain type=&#039;kvm&#039; xmlns:qemu=&#039;http://libvirt.org/schemas/domain/qemu/1.0&#039;&gt; &lt;name&gt;win8&lt;/name&gt; &lt;uuid&gt;6e68b59c-0977-49d9-82b7-325662a8ee13&lt;/uuid&gt; &lt;memory unit=&#039;KiB&#039;&gt;4194304&lt;/memory&gt; &lt;currentMemory unit=&#039;KiB&#039;&gt;4194304&lt;/currentMemory&gt; &lt;vcpu placement=&#039;static&#039;&gt;4&lt;/vcpu&gt; &lt;os&gt; &lt;type arch=&#039;x86_64&#039; machine=&#039;pc-q35-1.5&#039;&gt;hvm&lt;/type&gt; &lt;loader type=&#039;rom&#039;&gt;/home/terminator2/bios.bin&lt;/loader&gt; &lt;boot dev=&#039;hd&#039;/&gt; &lt;bootmenu enable=&#039;yes&#039;/&gt; &lt;/os&gt; &lt;features&gt; &lt;acpi/&gt; &lt;/features&gt; &lt;cpu mode=&#039;host-passthrough&#039;&gt; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;1&#039;/&gt; &lt;/cpu&gt; &lt;clock offset=&#039;utc&#039;/&gt; &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt; &lt;on_reboot&gt;restart&lt;/on_reboot&gt; &lt;on_crash&gt;destroy&lt;/on_crash&gt; &lt;devices&gt; &lt;emulator&gt;/usr/bin/qemu-system-x86_64&lt;/emulator&gt; &lt;disk type=&#039;block&#039; device=&#039;disk&#039;&gt; &lt;driver name=&#039;qemu&#039; type=&#039;raw&#039; cache=&#039;none&#039;/&gt; &lt;source dev=&#039;/dev/sdb&#039;/&gt; &lt;target dev=&#039;hda&#039; bus=&#039;ide&#039;/&gt; &lt;/disk&gt; &lt;controller type=&#039;usb&#039; index=&#039;0&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x02&#039; slot=&#039;0x01&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;sata&#039; index=&#039;0&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1f&#039; function=&#039;0x2&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;pci&#039; index=&#039;0&#039; model=&#039;pcie-root&#039;/&gt; &lt;controller type=&#039;pci&#039; index=&#039;1&#039; model=&#039;dmi-to-pci-bridge&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1e&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;pci&#039; index=&#039;2&#039; model=&#039;pci-bridge&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x01&#039; slot=&#039;0x01&#039; function=&#039;0x0&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;ide&#039; index=&#039;0&#039;/&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;usb&#039; managed=&#039;no&#039;&gt; &lt;source&gt; &lt;vendor id=&#039;0x045e&#039;/&gt; &lt;product id=&#039;0x0745&#039;/&gt; &lt;/source&gt; &lt;/hostdev&gt; &lt;memballoon model=&#039;none&#039;/&gt; &lt;/devices&gt; &lt;qemu:commandline&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1&#039;/&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on&#039;/&gt; &lt;qemu:arg value=&#039;-device&#039;/&gt; &lt;qemu:arg value=&#039;vfio-pci,host=01:00.1,bus=root.1,addr=00.1&#039;/&gt; &lt;/qemu:commandline&gt; &lt;/domain&gt;</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506868">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506886" class="blockpost rowodd"> <h2><span><span class="conr">#4344</span> <a href="viewtopic.php?pid=1506886#p1506886">2015-02-28 00:21:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83959">Jodaco</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-30</span></dd> <dd><span>Posts: 3</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Has anyone else with an amd system done this with nbhs&#039; suggested option of disabling npt?&#160; I found that with it disabled it did improve my benchmark scores, doubled in some cases, and games hit higher framerates, but its not consistent.&#160; With npt=0 set cpu load is all over the damn place and framerates in games vary anywhere from 5 fps to 150fps.</p><p>I have an AMD 8320, Asus M5A99X EVO PRO r2.0 with the latest bios, 32 GB of ram, Geforce 660 ti for host, and a Geforce 970 on the guest.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506886">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1506910" class="blockpost roweven"> <h2><span><span class="conr">#4345</span> <a href="viewtopic.php?pid=1506910#p1506910">2015-02-28 03:41:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87813">Len</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/87813.png?m=1420509844" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 23</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87813">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hmmm~ two questions,</p><p>1. How can I tell my Windows 8.1 that one drive is SSD (for TRIM and other improvements), I&#039;m using VirtIO driver.<br />2. How can I pass specific USB ports, using <strong>usb-devices</strong> I know, that I want pass to VM my:</p><div class="codebox"><pre><code>Bus=01 Lev=01 Prnt=01 Port=10 Cnt=01 Bus=01 Lev=01 Prnt=01 Port=11 Cnt=01 Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01</code></pre></div><p>ports (10,11,00 -- front panel, on Z97X-Gaming 5)</p> <p class="postedit"><em>Last edited by Len (2015-02-28 03:41:42)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1506910">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507063" class="blockpost rowodd"> <h2><span><span class="conr">#4346</span> <a href="viewtopic.php?pid=1507063#p1507063">2015-02-28 17:40:05</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Try passing usb controller with vifio, for me 1a and 1d are front headers/ports on z77. </p><p>lspci | grep USB<br />00:14.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB xHCI Host Controller (rev 04)<br />00:1a.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB Enhanced Host Controller #2 (rev 04)<br />00:1d.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB Enhanced Host Controller #1 (rev 04)<br />04:00.0 USB controller: VIA Technologies, Inc. VL80x xHCI USB 3.0 Controller (rev 03)</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507063">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507128" class="blockpost roweven"> <h2><span><span class="conr">#4347</span> <a href="viewtopic.php?pid=1507128#p1507128">2015-02-28 21:12:48</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=87813">Len</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/87813.png?m=1420509844" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2015-01-06</span></dd> <dd><span>Posts: 23</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=87813">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>slis wrote:</cite><blockquote><div><p>Try passing usb controller with vifio, for me 1a and 1d are front headers/ports on z77. </p><p>lspci | grep USB<br />00:14.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB xHCI Host Controller (rev 04)<br />00:1a.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB Enhanced Host Controller #2 (rev 04)<br />00:1d.0 USB controller: Intel Corporation 7 Series/C210 Series Chipset Family USB Enhanced Host Controller #1 (rev 04)<br />04:00.0 USB controller: VIA Technologies, Inc. VL80x xHCI USB 3.0 Controller (rev 03)</p></div></blockquote></div><p>In my case, I have binded <span class="bbu">00:1a.0</span> and <span class="bbu">00:1d.0</span>, but USB3.0 port is not binded. So no luck...</p><div class="codebox"><pre><code>lspci -nn | grep USB 00:14.0 USB controller [0c03]: Intel Corporation 9 Series Chipset Family USB xHCI Controller [8086:8cb1] 00:1a.0 USB controller [0c03]: Intel Corporation 9 Series Chipset Family USB EHCI Controller #2 [8086:8cad] 00:1d.0 USB controller [0c03]: Intel Corporation 9 Series Chipset Family USB EHCI Controller #1 [8086:8ca6]</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507128">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507164" class="blockpost rowodd"> <h2><span><span class="conr">#4348</span> <a href="viewtopic.php?pid=1507164#p1507164">2015-02-28 23:04:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=89165">terusus</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2015-02-27</span></dd> <dd><span>Posts: 6</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=89165">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hi guys,<br />I&#039;ve been trying to do VGA passthrough for the last week and I am a bit lost. First, I decided to go with XEN but I could not bind the VGA to a virtual machine. Then I found this guide and I gave KVM a try. The device is successfully passed to the VM but it appears to be dead.</p><p>My system:<br />Ubuntu 14.10 (kernel 3.19 + i915_317 patch + acs override patch + cpu optimizations patch +<br />&#160; CONFIG_INTEL_IOMMU_DEFAULT_ON=y<br />&#160; CONFIG_IRQ_FORCED_THREADING_DEFAULT=y<br />&#160; CONFIG_PREEMPT=y<br />&#160; CONFIG_VFIO=y<br />&#160; CONFIG_VFIO_IOMMU_TYPE1=y<br />&#160; CONFIG_VFIO_PCI=y)</p><p>Default QEMU for Ubuntu 14.10 is 2.1.0</p><p>i5 4670<br />ASRock H87 Pro4<br />nVidia 560Ti</p><p>I have added GRUB_CMDLINE_LINUX=&quot;i915.enable_hd_vgaarb=1&quot;. And I have blacklisted nouveau (from /etc/modprobe.d/blacklist).</p><div class="codebox"><pre><code>00:00.0 Host bridge: Intel Corporation 4th Gen Core Processor DRAM Controller (rev 06) 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x16 Controller (rev 06) 00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller (rev 06) 00:03.0 Audio device: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller (rev 06) 00:14.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB xHCI (rev 05) 00:16.0 Communication controller: Intel Corporation 8 Series/C220 Series Chipset Family MEI Controller #1 (rev 04) 00:19.0 Ethernet controller: Intel Corporation Ethernet Connection I217-V (rev 05) 00:1a.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 (rev 05) 00:1b.0 Audio device: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller (rev 05) 00:1c.0 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #1 (rev d5) 00:1c.6 PCI bridge: Intel Corporation 82801 PCI Bridge (rev d5) 00:1d.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 (rev 05) 00:1f.0 ISA bridge: Intel Corporation H87 Express LPC Controller (rev 05) 00:1f.2 SATA controller: Intel Corporation 8 Series/C220 Series Chipset Family 6-port SATA Controller 1 [AHCI mode] (rev 05) 00:1f.3 SMBus: Intel Corporation 8 Series/C220 Series Chipset Family SMBus Controller (rev 05) 01:00.0 VGA compatible controller: NVIDIA Corporation GF114 [GeForce GTX 560 Ti] (rev a1) 01:00.1 Audio device: NVIDIA Corporation GF114 HDMI Audio Controller (rev a1) 03:00.0 PCI bridge: ASMedia Technology Inc. ASM1083/1085 PCIe to PCI Bridge (rev 04)</code></pre></div><p>I successfully use the vfio-bind.sh script and prepare the VGA (01:00.0 and 01:00.1). (No errors or warnings.)</p><p>I start the vm like this (No errors or warnings.):</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 4096 -cpu host,hv_time,kvm=off \ -smp 2,sockets=1,cores=2,threads=1 \ -device ioh3420,bus=pcie.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 \ -device virtio-scsi-pci,id=scsi \ -drive file=/storage/vm/win7.img,id=disk,format=raw,if=none -device scsi-hd,drive=disk \ -drive file=/media/.../win7.iso,id=isocd,if=none -device scsi-cd,drive=isocd \ -drive file=/media/.../virtio-win-0.1-100.iso,id=virtiocd,if=none -device ide-cd,bus=ide.1,drive=virtiocd</code></pre></div><p>However, with or without the nVidia drivers GPUZ shows a similar picture (in win7 and win8):<br /><span class="postimg"><img src="http://s28.postimg.org/mnbsh6n5p/gpuz.gif" alt="GPUZ" /></span></p><p>There is no signal on the nVidia DVI port.</p><p>I have read the <a href="http://vfio.blogspot.com/2014/08/vfiovga-faq.html" rel="nofollow">VFIO FAQ</a>. I have also tried <a href="http://vfio.blogspot.com/2014/08/primary-graphics-assignment-without-vga.html" rel="nofollow">Alex Williamson&#039;s OVMF guide</a> with no luck - win8 freezes when trying to &quot;setup devices&quot;. Right now I seriously envy the guy - it looks like everything he touches starts working.</p><p>So, please, help me out!</p><p>This is my dmesg.</p><div class="codebox"><pre class="vscroll"><code>[ 0.000000] Initializing cgroup subsys cpuset [ 0.000000] Initializing cgroup subsys cpu [ 0.000000] Initializing cgroup subsys cpuacct [ 0.000000] Linux version 3.19.0-6-kvm (root@UCPC) (gcc version 4.9.1 (Ubuntu 4.9.1-16ubuntu6) ) #6 SMP PREEMPT Fri Feb 27 12:37:03 EAT 2015 (Ubuntu 3.19.0-6.6-kvm 3.19.0) [ 0.000000] Command line: BOOT_IMAGE=/@/boot/vmlinuz-3.19.0-6-kvm root=UUID=a3929651-e09b-4f1c-afa3-a5516b17eabb ro rootflags=subvol=@ i915.enable_hd_vgaarb=1 quiet splash crashkernel=384M-:128M vt.handoff=7 [ 0.000000] KERNEL supported cpus: [ 0.000000] Intel GenuineIntel [ 0.000000] AMD AuthenticAMD [ 0.000000] Centaur CentaurHauls [ 0.000000] e820: BIOS-provided physical RAM map: [ 0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009d7ff] usable [ 0.000000] BIOS-e820: [mem 0x000000000009d800-0x000000000009ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000a956ffff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a9570000-0x00000000a9576fff] ACPI NVS [ 0.000000] BIOS-e820: [mem 0x00000000a9577000-0x00000000a9e4afff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a9e4b000-0x00000000aa0e4fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000aa0e5000-0x00000000bc1e3fff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bc1e4000-0x00000000bc3e9fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000bc3ea000-0x00000000bc426fff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bc427000-0x00000000bc4cefff] ACPI NVS [ 0.000000] BIOS-e820: [mem 0x00000000bc4cf000-0x00000000bcffefff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000bcfff000-0x00000000bcffffff] usable [ 0.000000] BIOS-e820: [mem 0x00000000bf800000-0x00000000cf9fffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000f8000000-0x00000000fbffffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec00fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fed00000-0x00000000fed03fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fed1c000-0x00000000fed1ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000fee00fff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000ff000000-0x00000000ffffffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000042e5fffff] usable [ 0.000000] NX (Execute Disable) protection: active [ 0.000000] SMBIOS 2.7 present. [ 0.000000] DMI: To Be Filled By O.E.M. To Be Filled By O.E.M./H87 Pro4, BIOS P2.10 07/09/2014 [ 0.000000] e820: update [mem 0x00000000-0x00000fff] usable ==&gt; reserved [ 0.000000] e820: remove [mem 0x000a0000-0x000fffff] usable [ 0.000000] AGP: No AGP bridge found [ 0.000000] e820: last_pfn = 0x42e600 max_arch_pfn = 0x400000000 [ 0.000000] MTRR default type: uncachable [ 0.000000] MTRR fixed ranges enabled: [ 0.000000] 00000-9FFFF write-back [ 0.000000] A0000-BFFFF uncachable [ 0.000000] C0000-CFFFF write-protect [ 0.000000] D0000-E7FFF uncachable [ 0.000000] E8000-FFFFF write-protect [ 0.000000] MTRR variable ranges enabled: [ 0.000000] 0 base 0000000000 mask 7C00000000 write-back [ 0.000000] 1 base 0400000000 mask 7FE0000000 write-back [ 0.000000] 2 base 0420000000 mask 7FF8000000 write-back [ 0.000000] 3 base 0428000000 mask 7FFC000000 write-back [ 0.000000] 4 base 042C000000 mask 7FFE000000 write-back [ 0.000000] 5 base 042E000000 mask 7FFFC00000 write-back [ 0.000000] 6 base 042E400000 mask 7FFFE00000 write-back [ 0.000000] 7 base 00C0000000 mask 7FC0000000 uncachable [ 0.000000] 8 base 00BF800000 mask 7FFF800000 uncachable [ 0.000000] 9 disabled [ 0.000000] PAT configuration [0-7]: WB WC UC- UC WB WC UC- UC [ 0.000000] original variable MTRRs [ 0.000000] reg 0, base: 0GB, range: 16GB, type WB [ 0.000000] reg 1, base: 16GB, range: 512MB, type WB [ 0.000000] reg 2, base: 16896MB, range: 128MB, type WB [ 0.000000] reg 3, base: 17024MB, range: 64MB, type WB [ 0.000000] reg 4, base: 17088MB, range: 32MB, type WB [ 0.000000] reg 5, base: 17120MB, range: 4MB, type WB [ 0.000000] reg 6, base: 17124MB, range: 2MB, type WB [ 0.000000] reg 7, base: 3GB, range: 1GB, type UC [ 0.000000] reg 8, base: 3064MB, range: 8MB, type UC [ 0.000000] total RAM covered: 16094M [ 0.000000] gran_size: 64K chunk_size: 64K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 128K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 256K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 512K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 1M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 64K chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 64K chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 64K chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 64K chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 64K chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 64K chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 64K chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 64K chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 64K chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 128K chunk_size: 128K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 256K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 512K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 1M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 128K chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 128K chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 128K chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 128K chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 128K chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 128K chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 128K chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 128K chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 128K chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 256K chunk_size: 256K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 256K chunk_size: 512K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 256K chunk_size: 1M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 256K chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 256K chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 256K chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 256K chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 256K chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 256K chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 256K chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 256K chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 256K chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 256K chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 256K chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 512K chunk_size: 512K num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 512K chunk_size: 1M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 512K chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 512K chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 512K chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 512K chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 512K chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 512K chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 512K chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 512K chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 512K chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 512K chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 512K chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 1M chunk_size: 1M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 1M chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 1M chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 1M chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 1M chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 1M chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 1M chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 1M chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 1M chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 1M chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 1M chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 1M chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 2M chunk_size: 2M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 2M chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 2M chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 2M chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 2M chunk_size: 32M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 2M chunk_size: 64M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 2M chunk_size: 128M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 2M chunk_size: 256M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 2M chunk_size: 512M num_reg: 10 lose cover RAM: 0G [ 0.000000] gran_size: 2M chunk_size: 1G num_reg: 10 lose cover RAM: 0G [ 0.000000] *BAD*gran_size: 2M chunk_size: 2G num_reg: 10 lose cover RAM: -1G [ 0.000000] gran_size: 4M chunk_size: 4M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 4M chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] *BAD*gran_size: 4M chunk_size: 16M num_reg: 10 lose cover RAM: -10M [ 0.000000] gran_size: 4M chunk_size: 32M num_reg: 10 lose cover RAM: 2M [ 0.000000] gran_size: 4M chunk_size: 64M num_reg: 10 lose cover RAM: 2M [ 0.000000] gran_size: 4M chunk_size: 128M num_reg: 10 lose cover RAM: 2M [ 0.000000] gran_size: 4M chunk_size: 256M num_reg: 10 lose cover RAM: 2M [ 0.000000] gran_size: 4M chunk_size: 512M num_reg: 10 lose cover RAM: 2M [ 0.000000] gran_size: 4M chunk_size: 1G num_reg: 10 lose cover RAM: 2M [ 0.000000] *BAD*gran_size: 4M chunk_size: 2G num_reg: 10 lose cover RAM: -1022M [ 0.000000] gran_size: 8M chunk_size: 8M num_reg: 10 lose cover RAM: 742M [ 0.000000] gran_size: 8M chunk_size: 16M num_reg: 9 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 32M num_reg: 9 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 64M num_reg: 8 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 128M num_reg: 8 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 256M num_reg: 8 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 512M num_reg: 8 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 1G num_reg: 8 lose cover RAM: 6M [ 0.000000] gran_size: 8M chunk_size: 2G num_reg: 9 lose cover RAM: 6M [ 0.000000] gran_size: 16M chunk_size: 16M num_reg: 10 lose cover RAM: 238M [ 0.000000] gran_size: 16M chunk_size: 32M num_reg: 9 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 64M num_reg: 8 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 128M num_reg: 8 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 256M num_reg: 8 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 512M num_reg: 8 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 1G num_reg: 8 lose cover RAM: 14M [ 0.000000] gran_size: 16M chunk_size: 2G num_reg: 9 lose cover RAM: 14M [ 0.000000] gran_size: 32M chunk_size: 32M num_reg: 10 lose cover RAM: 126M [ 0.000000] gran_size: 32M chunk_size: 64M num_reg: 8 lose cover RAM: 30M [ 0.000000] gran_size: 32M chunk_size: 128M num_reg: 8 lose cover RAM: 30M [ 0.000000] gran_size: 32M chunk_size: 256M num_reg: 8 lose cover RAM: 30M [ 0.000000] gran_size: 32M chunk_size: 512M num_reg: 8 lose cover RAM: 30M [ 0.000000] gran_size: 32M chunk_size: 1G num_reg: 8 lose cover RAM: 30M [ 0.000000] gran_size: 32M chunk_size: 2G num_reg: 9 lose cover RAM: 30M [ 0.000000] gran_size: 64M chunk_size: 64M num_reg: 10 lose cover RAM: 94M [ 0.000000] gran_size: 64M chunk_size: 128M num_reg: 8 lose cover RAM: 94M [ 0.000000] gran_size: 64M chunk_size: 256M num_reg: 8 lose cover RAM: 94M [ 0.000000] gran_size: 64M chunk_size: 512M num_reg: 8 lose cover RAM: 94M [ 0.000000] gran_size: 64M chunk_size: 1G num_reg: 8 lose cover RAM: 94M [ 0.000000] gran_size: 64M chunk_size: 2G num_reg: 9 lose cover RAM: 94M [ 0.000000] gran_size: 128M chunk_size: 128M num_reg: 8 lose cover RAM: 222M [ 0.000000] gran_size: 128M chunk_size: 256M num_reg: 8 lose cover RAM: 222M [ 0.000000] gran_size: 128M chunk_size: 512M num_reg: 8 lose cover RAM: 222M [ 0.000000] gran_size: 128M chunk_size: 1G num_reg: 8 lose cover RAM: 222M [ 0.000000] gran_size: 128M chunk_size: 2G num_reg: 9 lose cover RAM: 222M [ 0.000000] gran_size: 256M chunk_size: 256M num_reg: 6 lose cover RAM: 478M [ 0.000000] gran_size: 256M chunk_size: 512M num_reg: 6 lose cover RAM: 478M [ 0.000000] gran_size: 256M chunk_size: 1G num_reg: 7 lose cover RAM: 478M [ 0.000000] gran_size: 256M chunk_size: 2G num_reg: 8 lose cover RAM: 478M [ 0.000000] gran_size: 512M chunk_size: 512M num_reg: 5 lose cover RAM: 734M [ 0.000000] gran_size: 512M chunk_size: 1G num_reg: 7 lose cover RAM: 734M [ 0.000000] gran_size: 512M chunk_size: 2G num_reg: 8 lose cover RAM: 734M [ 0.000000] gran_size: 1G chunk_size: 1G num_reg: 3 lose cover RAM: 1758M [ 0.000000] gran_size: 1G chunk_size: 2G num_reg: 3 lose cover RAM: 1758M [ 0.000000] gran_size: 2G chunk_size: 2G num_reg: 3 lose cover RAM: 1758M [ 0.000000] mtrr_cleanup: can not find optimal value [ 0.000000] please specify mtrr_gran_size/mtrr_chunk_size [ 0.000000] e820: update [mem 0xbf800000-0xffffffff] usable ==&gt; reserved [ 0.000000] e820: last_pfn = 0xbd000 max_arch_pfn = 0x400000000 [ 0.000000] found SMP MP-table at [mem 0x000fd7f0-0x000fd7ff] mapped at [ffff8800000fd7f0] [ 0.000000] Scanning 1 areas for low memory corruption [ 0.000000] Base memory trampoline at [ffff880000097000] 97000 size 24576 [ 0.000000] Using GB pages for direct mapping [ 0.000000] init_memory_mapping: [mem 0x00000000-0x000fffff] [ 0.000000] [mem 0x00000000-0x000fffff] page 4k [ 0.000000] BRK [0x01fd8000, 0x01fd8fff] PGTABLE [ 0.000000] BRK [0x01fd9000, 0x01fd9fff] PGTABLE [ 0.000000] BRK [0x01fda000, 0x01fdafff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0x42e400000-0x42e5fffff] [ 0.000000] [mem 0x42e400000-0x42e5fffff] page 2M [ 0.000000] BRK [0x01fdb000, 0x01fdbfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0x420000000-0x42e3fffff] [ 0.000000] [mem 0x420000000-0x42e3fffff] page 2M [ 0.000000] init_memory_mapping: [mem 0x400000000-0x41fffffff] [ 0.000000] [mem 0x400000000-0x41fffffff] page 2M [ 0.000000] init_memory_mapping: [mem 0x00100000-0xa956ffff] [ 0.000000] [mem 0x00100000-0x001fffff] page 4k [ 0.000000] [mem 0x00200000-0x3fffffff] page 2M [ 0.000000] [mem 0x40000000-0x7fffffff] page 1G [ 0.000000] [mem 0x80000000-0xa93fffff] page 2M [ 0.000000] [mem 0xa9400000-0xa956ffff] page 4k [ 0.000000] init_memory_mapping: [mem 0xa9577000-0xa9e4afff] [ 0.000000] [mem 0xa9577000-0xa95fffff] page 4k [ 0.000000] [mem 0xa9600000-0xa9dfffff] page 2M [ 0.000000] [mem 0xa9e00000-0xa9e4afff] page 4k [ 0.000000] BRK [0x01fdc000, 0x01fdcfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0xaa0e5000-0xbc1e3fff] [ 0.000000] [mem 0xaa0e5000-0xaa1fffff] page 4k [ 0.000000] [mem 0xaa200000-0xbbffffff] page 2M [ 0.000000] [mem 0xbc000000-0xbc1e3fff] page 4k [ 0.000000] BRK [0x01fdd000, 0x01fddfff] PGTABLE [ 0.000000] init_memory_mapping: [mem 0xbc3ea000-0xbc426fff] [ 0.000000] [mem 0xbc3ea000-0xbc426fff] page 4k [ 0.000000] init_memory_mapping: [mem 0xbcfff000-0xbcffffff] [ 0.000000] [mem 0xbcfff000-0xbcffffff] page 4k [ 0.000000] init_memory_mapping: [mem 0x100000000-0x3ffffffff] [ 0.000000] [mem 0x100000000-0x3ffffffff] page 1G [ 0.000000] RAMDISK: [mem 0x357ee000-0x36beefff] [ 0.000000] ACPI: Early table checksum verification disabled [ 0.000000] ACPI: RSDP 0x00000000000F0490 000024 (v02 ALASKA) [ 0.000000] ACPI: XSDT 0x00000000BC4AB088 00008C (v01 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: FACP 0x00000000BC4B57E8 00010C (v05 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: DSDT 0x00000000BC4AB1A8 00A63B (v02 ALASKA A M I 00000210 INTL 20091112) [ 0.000000] ACPI: FACS 0x00000000BC4CD080 000040 [ 0.000000] ACPI: APIC 0x00000000BC4B58F8 000072 (v03 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: FPDT 0x00000000BC4B5970 000044 (v01 ALASKA A M I 01072009 AMI 00010013) [ 0.000000] ACPI: SSDT 0x00000000BC4B59B8 000539 (v01 PmRef Cpu0Ist 00003000 INTL 20051117) [ 0.000000] ACPI: SSDT 0x00000000BC4B5EF8 000AD8 (v01 PmRef CpuPm 00003000 INTL 20051117) [ 0.000000] ACPI: SSDT 0x00000000BC4B69D0 0001C7 (v01 PmRef LakeTiny 00003000 INTL 20051117) [ 0.000000] ACPI: MCFG 0x00000000BC4B6B98 00003C (v01 ALASKA A M I 01072009 MSFT 00000097) [ 0.000000] ACPI: HPET 0x00000000BC4B6BD8 000038 (v01 ALASKA A M I 01072009 AMI. 00000005) [ 0.000000] ACPI: SSDT 0x00000000BC4B6C10 00036D (v01 SataRe SataTabl 00001000 INTL 20091112) [ 0.000000] ACPI: SSDT 0x00000000BC4B6F80 003493 (v01 SaSsdt SaSsdt 00003000 INTL 20091112) [ 0.000000] ACPI: AAFT 0x00000000BC4BA418 0002BB (v01 ALASKA OEMAAFT 01072009 MSFT 00000097) [ 0.000000] ACPI: ASF! 0x00000000BC4BA6D8 0000A5 (v32 INTEL HCG 00000001 TFSM 000F4240) [ 0.000000] ACPI: DMAR 0x00000000BC4BA780 0000B8 (v01 INTEL HSW 00000001 INTL 00000001) [ 0.000000] ACPI: Local APIC address 0xfee00000 [ 0.000000] No NUMA configuration found [ 0.000000] Faking a node at [mem 0x0000000000000000-0x000000042e5fffff] [ 0.000000] NODE_DATA(0) allocated [mem 0x42e5f5000-0x42e5f9fff] [ 0.000000] Reserving 128MB of memory at 720MB for crashkernel (System RAM: 16037MB) [ 0.000000] [ffffea0000000000-ffffea0010bfffff] PMD -&gt; [ffff88041e000000-ffff88042dbfffff] on node 0 [ 0.000000] Zone ranges: [ 0.000000] DMA [mem 0x00001000-0x00ffffff] [ 0.000000] DMA32 [mem 0x01000000-0xffffffff] [ 0.000000] Normal [mem 0x100000000-0x42e5fffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x00001000-0x0009cfff] [ 0.000000] node 0: [mem 0x00100000-0xa956ffff] [ 0.000000] node 0: [mem 0xa9577000-0xa9e4afff] [ 0.000000] node 0: [mem 0xaa0e5000-0xbc1e3fff] [ 0.000000] node 0: [mem 0xbc3ea000-0xbc426fff] [ 0.000000] node 0: [mem 0xbcfff000-0xbcffffff] [ 0.000000] node 0: [mem 0x100000000-0x42e5fffff] [ 0.000000] Initmem setup node 0 [mem 0x00001000-0x42e5fffff] [ 0.000000] On node 0 totalpages: 4105501 [ 0.000000] DMA zone: 64 pages used for memmap [ 0.000000] DMA zone: 21 pages reserved [ 0.000000] DMA zone: 3996 pages, LIFO batch:0 [ 0.000000] DMA32 zone: 11967 pages used for memmap [ 0.000000] DMA32 zone: 765825 pages, LIFO batch:31 [ 0.000000] Normal zone: 52120 pages used for memmap [ 0.000000] Normal zone: 3335680 pages, LIFO batch:31 [ 0.000000] Reserving Intel graphics stolen memory at 0xbfa00000-0xcf9fffff [ 0.000000] ACPI: PM-Timer IO Port: 0x1808 [ 0.000000] ACPI: Local APIC address 0xfee00000 [ 0.000000] ACPI: LAPIC (acpi_id[0x01] lapic_id[0x00] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x02] lapic_id[0x02] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x03] lapic_id[0x04] enabled) [ 0.000000] ACPI: LAPIC (acpi_id[0x04] lapic_id[0x06] enabled) [ 0.000000] ACPI: LAPIC_NMI (acpi_id[0xff] high edge lint[0x1]) [ 0.000000] ACPI: IOAPIC (id[0x02] address[0xfec00000] gsi_base[0]) [ 0.000000] IOAPIC[0]: apic_id 2, version 32, address 0xfec00000, GSI 0-23 [ 0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl) [ 0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level) [ 0.000000] ACPI: IRQ0 used by override. [ 0.000000] ACPI: IRQ9 used by override. [ 0.000000] Using ACPI (MADT) for SMP configuration information [ 0.000000] ACPI: HPET id: 0x8086a701 base: 0xfed00000 [ 0.000000] smpboot: Allowing 4 CPUs, 0 hotplug CPUs [ 0.000000] PM: Registered nosave memory: [mem 0x00000000-0x00000fff] [ 0.000000] PM: Registered nosave memory: [mem 0x0009d000-0x0009dfff] [ 0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009ffff] [ 0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff] [ 0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xa9570000-0xa9576fff] [ 0.000000] PM: Registered nosave memory: [mem 0xa9e4b000-0xaa0e4fff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc1e4000-0xbc3e9fff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc427000-0xbc4cefff] [ 0.000000] PM: Registered nosave memory: [mem 0xbc4cf000-0xbcffefff] [ 0.000000] PM: Registered nosave memory: [mem 0xbd000000-0xbf7fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xbf800000-0xcf9fffff] [ 0.000000] PM: Registered nosave memory: [mem 0xcfa00000-0xf7ffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xf8000000-0xfbffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfc000000-0xfebfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfec00000-0xfec00fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfec01000-0xfecfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed00000-0xfed03fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed04000-0xfed1bfff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed1c000-0xfed1ffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfed20000-0xfedfffff] [ 0.000000] PM: Registered nosave memory: [mem 0xfee00000-0xfee00fff] [ 0.000000] PM: Registered nosave memory: [mem 0xfee01000-0xfeffffff] [ 0.000000] PM: Registered nosave memory: [mem 0xff000000-0xffffffff] [ 0.000000] e820: [mem 0xcfa00000-0xf7ffffff] available for PCI devices [ 0.000000] Booting paravirtualized kernel on bare hardware [ 0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:256 nr_cpu_ids:4 nr_node_ids:1 [ 0.000000] PERCPU: Embedded 31 pages/cpu @ffff88042e200000 s87616 r8192 d31168 u524288 [ 0.000000] pcpu-alloc: s87616 r8192 d31168 u524288 alloc=1*2097152 [ 0.000000] pcpu-alloc: [0] 0 1 2 3 [ 0.000000] Built 1 zonelists in Node order, mobility grouping on. Total pages: 4041329 [ 0.000000] Policy zone: Normal [ 0.000000] Kernel command line: BOOT_IMAGE=/@/boot/vmlinuz-3.19.0-6-kvm root=UUID=a3929651-e09b-4f1c-afa3-a5516b17eabb ro rootflags=subvol=@ i915.enable_hd_vgaarb=1 quiet splash crashkernel=384M-:128M vt.handoff=7 [ 0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes) [ 0.000000] xsave: enabled xstate_bv 0x7, cntxt size 0x340 using standard form [ 0.000000] AGP: Checking aperture... [ 0.000000] AGP: No AGP bridge found [ 0.000000] Calgary: detecting Calgary via BIOS EBDA area [ 0.000000] Calgary: Unable to locate Rio Grande table in EBDA - bailing! [ 0.000000] Memory: 15929224K/16422004K available (8010K kernel code, 1219K rwdata, 3752K rodata, 1376K init, 1300K bss, 492780K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1 [ 0.000000] Preemptible hierarchical RCU implementation. [ 0.000000] RCU dyntick-idle grace-period acceleration is enabled. [ 0.000000] RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=4. [ 0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4 [ 0.000000] NR_IRQS:16640 nr_irqs:456 16 [ 0.000000] Offload RCU callbacks from all CPUs [ 0.000000] Offload RCU callbacks from CPUs: 0-3. [ 0.000000] vt handoff: transparent VT on vt#7 [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] hpet clockevent registered [ 0.000000] tsc: Fast TSC calibration using PIT [ 0.000000] tsc: Detected 3399.180 MHz processor [ 0.000020] Calibrating delay loop (skipped), value calculated using timer frequency.. 6798.36 BogoMIPS (lpj=3399180) [ 0.000022] pid_max: default: 32768 minimum: 301 [ 0.000025] ACPI: Core revision 20141107 [ 0.006731] ACPI: All ACPI Tables successfully acquired [ 0.014007] Security Framework initialized [ 0.014017] AppArmor: AppArmor initialized [ 0.014018] Yama: becoming mindful. [ 0.014664] Dentry cache hash table entries: 2097152 (order: 12, 16777216 bytes) [ 0.016565] Inode-cache hash table entries: 1048576 (order: 11, 8388608 bytes) [ 0.017396] Mount-cache hash table entries: 32768 (order: 6, 262144 bytes) [ 0.017407] Mountpoint-cache hash table entries: 32768 (order: 6, 262144 bytes) [ 0.017573] Initializing cgroup subsys memory [ 0.017576] Initializing cgroup subsys devices [ 0.017578] Initializing cgroup subsys freezer [ 0.017579] Initializing cgroup subsys net_cls [ 0.017581] Initializing cgroup subsys blkio [ 0.017582] Initializing cgroup subsys perf_event [ 0.017583] Initializing cgroup subsys net_prio [ 0.017585] Initializing cgroup subsys hugetlb [ 0.017601] CPU: Physical Processor ID: 0 [ 0.017601] CPU: Processor Core ID: 0 [ 0.018351] mce: CPU supports 9 MCE banks [ 0.018361] CPU0: Thermal monitoring enabled (TM1) [ 0.018370] Last level iTLB entries: 4KB 1024, 2MB 1024, 4MB 1024 Last level dTLB entries: 4KB 1024, 2MB 1024, 4MB 1024, 1GB 4 [ 0.018443] Freeing SMP alternatives memory: 28K (ffffffff81e8a000 - ffffffff81e91000) [ 0.018922] ftrace: allocating 30017 entries in 118 pages [ 0.027558] dmar: Host address width 39 [ 0.027559] dmar: DRHD base: 0x000000fed90000 flags: 0x0 [ 0.027566] dmar: IOMMU 0: reg_base_addr fed90000 ver 1:0 cap c0000020660462 ecap f0101a [ 0.027567] dmar: DRHD base: 0x000000fed91000 flags: 0x1 [ 0.027569] dmar: IOMMU 1: reg_base_addr fed91000 ver 1:0 cap d2008020660462 ecap f010da [ 0.027570] dmar: RMRR base: 0x000000bc371000 end: 0x000000bc37dfff [ 0.027571] dmar: RMRR base: 0x000000bf800000 end: 0x000000cf9fffff [ 0.027635] IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 1 [ 0.027636] HPET id 0 under DRHD base 0xfed91000 [ 0.027637] Queued invalidation will be enabled to support x2apic and Intr-remapping. [ 0.027743] Enabled IRQ remapping in x2apic mode [ 0.027744] Enabling x2apic [ 0.027744] Enabled x2apic [ 0.027748] Switched APIC routing to cluster x2apic. [ 0.028163] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1 [ 0.038156] smpboot: CPU0: Intel(R) Core(TM) i5-4670 CPU @ 3.40GHz (fam: 06, model: 3c, stepping: 03) [ 0.038161] TSC deadline timer enabled [ 0.038177] Performance Events: PEBS fmt2+, 16-deep LBR, Haswell events, full-width counters, Intel PMU driver. [ 0.038190] ... version: 3 [ 0.038191] ... bit width: 48 [ 0.038192] ... generic registers: 8 [ 0.038192] ... value mask: 0000ffffffffffff [ 0.038193] ... max period: 0000ffffffffffff [ 0.038193] ... fixed-purpose events: 3 [ 0.038194] ... event mask: 00000007000000ff [ 0.046264] x86: Booting SMP configuration: [ 0.046266] .... node #0, CPUs: #1 [ 0.060109] NMI watchdog: enabled on all CPUs, permanently consumes one hw-PMU counter. [ 0.062145] #2 #3 [ 0.092026] x86: Booted up 1 node, 4 CPUs [ 0.092028] smpboot: Total of 4 processors activated (27193.44 BogoMIPS) [ 0.094493] devtmpfs: initialized [ 0.096390] evm: security.selinux [ 0.096391] evm: security.SMACK64 [ 0.096391] evm: security.SMACK64EXEC [ 0.096392] evm: security.SMACK64TRANSMUTE [ 0.096392] evm: security.SMACK64MMAP [ 0.096393] evm: security.ima [ 0.096393] evm: security.capability [ 0.096434] PM: Registering ACPI NVS region [mem 0xa9570000-0xa9576fff] (28672 bytes) [ 0.096435] PM: Registering ACPI NVS region [mem 0xbc427000-0xbc4cefff] (688128 bytes) [ 0.096534] pinctrl core: initialized pinctrl subsystem [ 0.096604] RTC time: 19:46:49, date: 02/28/15 [ 0.096673] NET: Registered protocol family 16 [ 0.101393] cpuidle: using governor ladder [ 0.104397] cpuidle: using governor menu [ 0.104440] ACPI FADT declares the system doesn&#039;t support PCIe ASPM, so disable it [ 0.104441] ACPI: bus type PCI registered [ 0.104442] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5 [ 0.104489] PCI: MMCONFIG for domain 0000 [bus 00-3f] at [mem 0xf8000000-0xfbffffff] (base 0xf8000000) [ 0.104490] PCI: MMCONFIG at [mem 0xf8000000-0xfbffffff] reserved in E820 [ 0.104543] PCI: Using configuration type 1 for base access [ 0.108644] ACPI: Added _OSI(Module Device) [ 0.108645] ACPI: Added _OSI(Processor Device) [ 0.108646] ACPI: Added _OSI(3.0 _SCP Extensions) [ 0.108647] ACPI: Added _OSI(Processor Aggregator Device) [ 0.110935] ACPI: Executed 1 blocks of module-level executable AML code [ 0.112366] [Firmware Bug]: ACPI: BIOS _OSI(Linux) query ignored [ 0.112665] ACPI: Dynamic OEM Table Load: [ 0.112669] ACPI: SSDT 0xFFFF88041BFE4800 0003D3 (v01 PmRef Cpu0Cst 00003001 INTL 20051117) [ 0.113089] ACPI: Dynamic OEM Table Load: [ 0.113092] ACPI: SSDT 0xFFFF88041BF4A800 0005AA (v01 PmRef ApIst 00003000 INTL 20051117) [ 0.113543] ACPI: Dynamic OEM Table Load: [ 0.113546] ACPI: SSDT 0xFFFF88041BFDCC00 000119 (v01 PmRef ApCst 00003000 INTL 20051117) [ 0.114191] ACPI: Interpreter enabled [ 0.114196] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S1_] (20141107/hwxface-580) [ 0.114199] ACPI Exception: AE_NOT_FOUND, While evaluating Sleep State [\_S2_] (20141107/hwxface-580) [ 0.114210] ACPI: (supports S0 S3 S4 S5) [ 0.114211] ACPI: Using IOAPIC for interrupt routing [ 0.114245] PCI: Using host bridge windows from ACPI; if necessary, use &quot;pci=nocrs&quot; and report a bug [ 0.119480] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-3e]) [ 0.119484] acpi PNP0A08:00: _OSC: OS supports [ExtendedConfig ASPM ClockPM Segments MSI] [ 0.119613] acpi PNP0A08:00: _OSC: platform does not support [PCIeHotplug PME] [ 0.119693] acpi PNP0A08:00: _OSC: OS now controls [AER PCIeCapability] [ 0.120027] PCI host bridge to bus 0000:00 [ 0.120028] pci_bus 0000:00: root bus resource [bus 00-3e] [ 0.120029] pci_bus 0000:00: root bus resource [io 0x0000-0x0cf7] [ 0.120030] pci_bus 0000:00: root bus resource [io 0x0d00-0xffff] [ 0.120031] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff] [ 0.120032] pci_bus 0000:00: root bus resource [mem 0x000d0000-0x000d3fff] [ 0.120033] pci_bus 0000:00: root bus resource [mem 0x000d4000-0x000d7fff] [ 0.120034] pci_bus 0000:00: root bus resource [mem 0x000d8000-0x000dbfff] [ 0.120035] pci_bus 0000:00: root bus resource [mem 0x000dc000-0x000dffff] [ 0.120036] pci_bus 0000:00: root bus resource [mem 0x000e0000-0x000e3fff] [ 0.120037] pci_bus 0000:00: root bus resource [mem 0x000e4000-0x000e7fff] [ 0.120038] pci_bus 0000:00: root bus resource [mem 0xcfa00000-0xfeafffff] [ 0.120043] pci 0000:00:00.0: [8086:0c00] type 00 class 0x060000 [ 0.120100] pci 0000:00:01.0: [8086:0c01] type 01 class 0x060400 [ 0.120126] pci 0000:00:01.0: PME# supported from D0 D3hot D3cold [ 0.120174] pci 0000:00:02.0: [8086:0412] type 00 class 0x030000 [ 0.120182] pci 0000:00:02.0: reg 0x10: [mem 0xee400000-0xee7fffff 64bit] [ 0.120186] pci 0000:00:02.0: reg 0x18: [mem 0xd0000000-0xdfffffff 64bit pref] [ 0.120189] pci 0000:00:02.0: reg 0x20: [io 0xf000-0xf03f] [ 0.120241] pci 0000:00:03.0: [8086:0c0c] type 00 class 0x040300 [ 0.120247] pci 0000:00:03.0: reg 0x10: [mem 0xee834000-0xee837fff 64bit] [ 0.120322] pci 0000:00:14.0: [8086:8c31] type 00 class 0x0c0330 [ 0.120337] pci 0000:00:14.0: reg 0x10: [mem 0xee820000-0xee82ffff 64bit] [ 0.120388] pci 0000:00:14.0: PME# supported from D3hot D3cold [ 0.120418] pci 0000:00:14.0: System wakeup disabled by ACPI [ 0.120442] pci 0000:00:16.0: [8086:8c3a] type 00 class 0x078000 [ 0.120458] pci 0000:00:16.0: reg 0x10: [mem 0xee840000-0xee84000f 64bit] [ 0.120513] pci 0000:00:16.0: PME# supported from D0 D3hot D3cold [ 0.120566] pci 0000:00:19.0: [8086:153b] type 00 class 0x020000 [ 0.120580] pci 0000:00:19.0: reg 0x10: [mem 0xee800000-0xee81ffff] [ 0.120586] pci 0000:00:19.0: reg 0x14: [mem 0xee83d000-0xee83dfff] [ 0.120593] pci 0000:00:19.0: reg 0x18: [io 0xf080-0xf09f] [ 0.120644] pci 0000:00:19.0: PME# supported from D0 D3hot D3cold [ 0.120670] pci 0000:00:19.0: System wakeup disabled by ACPI [ 0.120697] pci 0000:00:1a.0: [8086:8c2d] type 00 class 0x0c0320 [ 0.120713] pci 0000:00:1a.0: reg 0x10: [mem 0xee83c000-0xee83c3ff] [ 0.120789] pci 0000:00:1a.0: PME# supported from D0 D3hot D3cold [ 0.120826] pci 0000:00:1a.0: System wakeup disabled by ACPI [ 0.120851] pci 0000:00:1b.0: [8086:8c20] type 00 class 0x040300 [ 0.120864] pci 0000:00:1b.0: reg 0x10: [mem 0xee830000-0xee833fff 64bit] [ 0.120923] pci 0000:00:1b.0: PME# supported from D0 D3hot D3cold [ 0.120950] pci 0000:00:1b.0: System wakeup disabled by ACPI [ 0.120972] pci 0000:00:1c.0: [8086:8c10] type 01 class 0x060400 [ 0.121029] pci 0000:00:1c.0: PME# supported from D0 D3hot D3cold [ 0.121045] pci 0000:00:1c.0: Enabling MPC IRBNCE [ 0.121047] pci 0000:00:1c.0: Intel PCH root port ACS workaround enabled [ 0.121066] pci 0000:00:1c.0: System wakeup disabled by ACPI [ 0.121092] pci 0000:00:1c.6: [8086:244e] type 01 class 0x060401 [ 0.121149] pci 0000:00:1c.6: PME# supported from D0 D3hot D3cold [ 0.121178] pci 0000:00:1c.6: System wakeup disabled by ACPI [ 0.121206] pci 0000:00:1d.0: [8086:8c26] type 00 class 0x0c0320 [ 0.121223] pci 0000:00:1d.0: reg 0x10: [mem 0xee83b000-0xee83b3ff] [ 0.121300] pci 0000:00:1d.0: PME# supported from D0 D3hot D3cold [ 0.121335] pci 0000:00:1d.0: System wakeup disabled by ACPI [ 0.121360] pci 0000:00:1f.0: [8086:8c4a] type 00 class 0x060100 [ 0.121496] pci 0000:00:1f.2: [8086:8c02] type 00 class 0x010601 [ 0.121509] pci 0000:00:1f.2: reg 0x10: [io 0xf0d0-0xf0d7] [ 0.121515] pci 0000:00:1f.2: reg 0x14: [io 0xf0c0-0xf0c3] [ 0.121520] pci 0000:00:1f.2: reg 0x18: [io 0xf0b0-0xf0b7] [ 0.121526] pci 0000:00:1f.2: reg 0x1c: [io 0xf0a0-0xf0a3] [ 0.121532] pci 0000:00:1f.2: reg 0x20: [io 0xf060-0xf07f] [ 0.121538] pci 0000:00:1f.2: reg 0x24: [mem 0xee83a000-0xee83a7ff] [ 0.121569] pci 0000:00:1f.2: PME# supported from D3hot [ 0.121611] pci 0000:00:1f.3: [8086:8c22] type 00 class 0x0c0500 [ 0.121623] pci 0000:00:1f.3: reg 0x10: [mem 0xee839000-0xee8390ff 64bit] [ 0.121639] pci 0000:00:1f.3: reg 0x20: [io 0xf040-0xf05f] [ 0.121722] pci 0000:01:00.0: [10de:1200] type 00 class 0x030000 [ 0.121730] pci 0000:01:00.0: reg 0x10: [mem 0xec000000-0xedffffff] [ 0.121737] pci 0000:01:00.0: reg 0x14: [mem 0xe0000000-0xe7ffffff 64bit pref] [ 0.121744] pci 0000:01:00.0: reg 0x1c: [mem 0xe8000000-0xebffffff 64bit pref] [ 0.121748] pci 0000:01:00.0: reg 0x24: [io 0xe000-0xe07f] [ 0.121752] pci 0000:01:00.0: reg 0x30: [mem 0xee000000-0xee07ffff pref] [ 0.121817] pci 0000:01:00.1: [10de:0e0c] type 00 class 0x040300 [ 0.121826] pci 0000:01:00.1: reg 0x10: [mem 0xee080000-0xee083fff] [ 0.123417] pci 0000:00:01.0: PCI bridge to [bus 01] [ 0.123420] pci 0000:00:01.0: bridge window [io 0xe000-0xefff] [ 0.123422] pci 0000:00:01.0: bridge window [mem 0xe0000000-0xee0fffff] [ 0.123471] pci 0000:00:1c.0: PCI bridge to [bus 02] [ 0.123532] pci 0000:03:00.0: [1b21:1080] type 01 class 0x060401 [ 0.123631] pci 0000:03:00.0: System wakeup disabled by ACPI [ 0.123651] pci 0000:00:1c.6: PCI bridge to [bus 03-04] (subtractive decode) [ 0.123659] pci 0000:00:1c.6: bridge window [io 0x0000-0x0cf7] (subtractive decode) [ 0.123659] pci 0000:00:1c.6: bridge window [io 0x0d00-0xffff] (subtractive decode) [ 0.123660] pci 0000:00:1c.6: bridge window [mem 0x000a0000-0x000bffff] (subtractive decode) [ 0.123661] pci 0000:00:1c.6: bridge window [mem 0x000d0000-0x000d3fff] (subtractive decode) [ 0.123662] pci 0000:00:1c.6: bridge window [mem 0x000d4000-0x000d7fff] (subtractive decode) [ 0.123663] pci 0000:00:1c.6: bridge window [mem 0x000d8000-0x000dbfff] (subtractive decode) [ 0.123664] pci 0000:00:1c.6: bridge window [mem 0x000dc000-0x000dffff] (subtractive decode) [ 0.123665] pci 0000:00:1c.6: bridge window [mem 0x000e0000-0x000e3fff] (subtractive decode) [ 0.123666] pci 0000:00:1c.6: bridge window [mem 0x000e4000-0x000e7fff] (subtractive decode) [ 0.123667] pci 0000:00:1c.6: bridge window [mem 0xcfa00000-0xfeafffff] (subtractive decode) [ 0.123772] pci 0000:03:00.0: PCI bridge to [bus 04] (subtractive decode) [ 0.123788] pci 0000:03:00.0: bridge window [io 0x0000-0x0cf7] (subtractive decode) [ 0.123789] pci 0000:03:00.0: bridge window [io 0x0d00-0xffff] (subtractive decode) [ 0.123790] pci 0000:03:00.0: bridge window [mem 0x000a0000-0x000bffff] (subtractive decode) [ 0.123791] pci 0000:03:00.0: bridge window [mem 0x000d0000-0x000d3fff] (subtractive decode) [ 0.123792] pci 0000:03:00.0: bridge window [mem 0x000d4000-0x000d7fff] (subtractive decode) [ 0.123793] pci 0000:03:00.0: bridge window [mem 0x000d8000-0x000dbfff] (subtractive decode) [ 0.123793] pci 0000:03:00.0: bridge window [mem 0x000dc000-0x000dffff] (subtractive decode) [ 0.123794] pci 0000:03:00.0: bridge window [mem 0x000e0000-0x000e3fff] (subtractive decode) [ 0.123795] pci 0000:03:00.0: bridge window [mem 0x000e4000-0x000e7fff] (subtractive decode) [ 0.123796] pci 0000:03:00.0: bridge window [mem 0xcfa00000-0xfeafffff] (subtractive decode) [ 0.123818] acpi PNP0A08:00: Disabling ASPM (FADT indicates it is unsupported) [ 0.124305] ACPI: PCI Interrupt Link [LNKA] (IRQs 3 4 5 6 10 *11 12 14 15) [ 0.124334] ACPI: PCI Interrupt Link [LNKB] (IRQs 3 4 5 6 *10 11 12 14 15) [ 0.124361] ACPI: PCI Interrupt Link [LNKC] (IRQs 3 4 5 6 *10 11 12 14 15) [ 0.124393] ACPI: PCI Interrupt Link [LNKD] (IRQs 3 4 *5 6 10 11 12 14 15) [ 0.124420] ACPI: PCI Interrupt Link [LNKE] (IRQs *3 4 5 6 10 11 12 14 15) [ 0.124446] ACPI: PCI Interrupt Link [LNKF] (IRQs 3 4 5 6 10 11 12 14 15) *0, disabled. [ 0.124473] ACPI: PCI Interrupt Link [LNKG] (IRQs 3 4 5 6 10 *11 12 14 15) [ 0.124499] ACPI: PCI Interrupt Link [LNKH] (IRQs 3 4 *5 6 10 11 12 14 15) [ 0.124621] ACPI: Enabled 4 GPEs in block 00 to 3F [ 0.124683] vgaarb: setting as boot device: PCI:0000:00:02.0 [ 0.124685] vgaarb: device added: PCI:0000:00:02.0,decodes=io+mem,owns=io+mem,locks=none [ 0.124688] vgaarb: device added: PCI:0000:01:00.0,decodes=io+mem,owns=none,locks=none [ 0.124688] vgaarb: loaded [ 0.124689] vgaarb: bridge control possible 0000:01:00.0 [ 0.124690] vgaarb: no bridge control possible 0000:00:02.0 [ 0.124815] SCSI subsystem initialized [ 0.124843] libata version 3.00 loaded. [ 0.124867] ACPI: bus type USB registered [ 0.124877] usbcore: registered new interface driver usbfs [ 0.124883] usbcore: registered new interface driver hub [ 0.124893] usbcore: registered new device driver usb [ 0.124976] PCI: Using ACPI for IRQ routing [ 0.126163] PCI: pci_cache_line_size set to 64 bytes [ 0.126202] e820: reserve RAM buffer [mem 0x0009d800-0x0009ffff] [ 0.126203] e820: reserve RAM buffer [mem 0xa9570000-0xabffffff] [ 0.126204] e820: reserve RAM buffer [mem 0xa9e4b000-0xabffffff] [ 0.126205] e820: reserve RAM buffer [mem 0xbc1e4000-0xbfffffff] [ 0.126206] e820: reserve RAM buffer [mem 0xbc427000-0xbfffffff] [ 0.126207] e820: reserve RAM buffer [mem 0xbd000000-0xbfffffff] [ 0.126207] e820: reserve RAM buffer [mem 0x42e600000-0x42fffffff] [ 0.126275] NetLabel: Initializing [ 0.126276] NetLabel: domain hash size = 128 [ 0.126276] NetLabel: protocols = UNLABELED CIPSOv4 [ 0.126283] NetLabel: unlabeled traffic allowed by default [ 0.126331] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0, 0, 0, 0, 0, 0 [ 0.126335] hpet0: 8 comparators, 64-bit 14.318180 MHz counter [ 0.128361] Switched to clocksource hpet [ 0.132246] AppArmor: AppArmor Filesystem Enabled [ 0.132279] pnp: PnP ACPI init [ 0.132325] system 00:00: [mem 0xfed40000-0xfed44fff] has been reserved [ 0.132327] system 00:00: Plug and Play ACPI device, IDs PNP0c01 (active) [ 0.132424] system 00:01: [io 0x0680-0x069f] has been reserved [ 0.132426] system 00:01: [io 0xffff] has been reserved [ 0.132427] system 00:01: [io 0xffff] has been reserved [ 0.132428] system 00:01: [io 0xffff] has been reserved [ 0.132429] system 00:01: [io 0x1c00-0x1cfe] has been reserved [ 0.132430] system 00:01: [io 0x1d00-0x1dfe] has been reserved [ 0.132431] system 00:01: [io 0x1e00-0x1efe] has been reserved [ 0.132432] system 00:01: [io 0x1f00-0x1ffe] has been reserved [ 0.132433] system 00:01: [io 0x1800-0x18fe] could not be reserved [ 0.132434] system 00:01: [io 0x164e-0x164f] has been reserved [ 0.132435] system 00:01: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.132452] pnp 00:02: Plug and Play ACPI device, IDs PNP0b00 (active) [ 0.132480] system 00:03: [io 0x1854-0x1857] has been reserved [ 0.132481] system 00:03: Plug and Play ACPI device, IDs INT3f0d PNP0c02 (active) [ 0.132524] system 00:04: [io 0x0290-0x029f] has been reserved [ 0.132526] system 00:04: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.132643] system 00:05: [io 0x04d0-0x04d1] has been reserved [ 0.132645] system 00:05: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.132734] pnp 00:06: [dma 0 disabled] [ 0.132757] pnp 00:06: Plug and Play ACPI device, IDs PNP0501 (active) [ 0.132999] system 00:07: [mem 0xfed1c000-0xfed1ffff] has been reserved [ 0.133000] system 00:07: [mem 0xfed10000-0xfed17fff] has been reserved [ 0.133001] system 00:07: [mem 0xfed18000-0xfed18fff] has been reserved [ 0.133002] system 00:07: [mem 0xfed19000-0xfed19fff] has been reserved [ 0.133003] system 00:07: [mem 0xf8000000-0xfbffffff] has been reserved [ 0.133004] system 00:07: [mem 0xfed20000-0xfed3ffff] has been reserved [ 0.133005] system 00:07: [mem 0xfed90000-0xfed93fff] could not be reserved [ 0.133007] system 00:07: [mem 0xfed45000-0xfed8ffff] has been reserved [ 0.133008] system 00:07: [mem 0xff000000-0xffffffff] has been reserved [ 0.133009] system 00:07: [mem 0xfee00000-0xfeefffff] could not be reserved [ 0.133010] system 00:07: [mem 0xf7fef000-0xf7feffff] has been reserved [ 0.133011] system 00:07: [mem 0xf7ff0000-0xf7ff0fff] has been reserved [ 0.133012] system 00:07: Plug and Play ACPI device, IDs PNP0c02 (active) [ 0.133155] pnp: PnP ACPI: found 8 devices [ 0.138903] pci 0000:00:01.0: PCI bridge to [bus 01] [ 0.138905] pci 0000:00:01.0: bridge window [io 0xe000-0xefff] [ 0.138908] pci 0000:00:01.0: bridge window [mem 0xe0000000-0xee0fffff] [ 0.138911] pci 0000:00:1c.0: PCI bridge to [bus 02] [ 0.138919] pci 0000:03:00.0: PCI bridge to [bus 04] [ 0.138934] pci 0000:00:1c.6: PCI bridge to [bus 03-04] [ 0.138943] pci_bus 0000:00: resource 4 [io 0x0000-0x0cf7] [ 0.138944] pci_bus 0000:00: resource 5 [io 0x0d00-0xffff] [ 0.138945] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff] [ 0.138945] pci_bus 0000:00: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.138946] pci_bus 0000:00: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.138947] pci_bus 0000:00: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.138948] pci_bus 0000:00: resource 10 [mem 0x000dc000-0x000dffff] [ 0.138949] pci_bus 0000:00: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.138950] pci_bus 0000:00: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.138951] pci_bus 0000:00: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.138952] pci_bus 0000:01: resource 0 [io 0xe000-0xefff] [ 0.138953] pci_bus 0000:01: resource 1 [mem 0xe0000000-0xee0fffff] [ 0.138954] pci_bus 0000:03: resource 4 [io 0x0000-0x0cf7] [ 0.138955] pci_bus 0000:03: resource 5 [io 0x0d00-0xffff] [ 0.138956] pci_bus 0000:03: resource 6 [mem 0x000a0000-0x000bffff] [ 0.138957] pci_bus 0000:03: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.138957] pci_bus 0000:03: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.138958] pci_bus 0000:03: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.138959] pci_bus 0000:03: resource 10 [mem 0x000dc000-0x000dffff] [ 0.138960] pci_bus 0000:03: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.138961] pci_bus 0000:03: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.138962] pci_bus 0000:03: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.138963] pci_bus 0000:04: resource 4 [io 0x0000-0x0cf7] [ 0.138964] pci_bus 0000:04: resource 5 [io 0x0d00-0xffff] [ 0.138965] pci_bus 0000:04: resource 6 [mem 0x000a0000-0x000bffff] [ 0.138966] pci_bus 0000:04: resource 7 [mem 0x000d0000-0x000d3fff] [ 0.138966] pci_bus 0000:04: resource 8 [mem 0x000d4000-0x000d7fff] [ 0.138967] pci_bus 0000:04: resource 9 [mem 0x000d8000-0x000dbfff] [ 0.138968] pci_bus 0000:04: resource 10 [mem 0x000dc000-0x000dffff] [ 0.138969] pci_bus 0000:04: resource 11 [mem 0x000e0000-0x000e3fff] [ 0.138970] pci_bus 0000:04: resource 12 [mem 0x000e4000-0x000e7fff] [ 0.138971] pci_bus 0000:04: resource 13 [mem 0xcfa00000-0xfeafffff] [ 0.138986] NET: Registered protocol family 2 [ 0.139110] TCP established hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.139246] TCP bind hash table entries: 65536 (order: 8, 1048576 bytes) [ 0.139342] TCP: Hash tables configured (established 131072 bind 65536) [ 0.139359] TCP: reno registered [ 0.139371] UDP hash table entries: 8192 (order: 6, 262144 bytes) [ 0.139406] UDP-Lite hash table entries: 8192 (order: 6, 262144 bytes) [ 0.139454] NET: Registered protocol family 1 [ 0.139464] pci 0000:00:02.0: Video device with shadowed ROM [ 0.171419] PCI: CLS 64 bytes, default 64 [ 0.171450] Trying to unpack rootfs image as initramfs... [ 0.372381] Freeing initrd memory: 20484K (ffff8800357ee000 - ffff880036bef000) [ 0.372397] DMAR: No ATSR found [ 0.372467] IOMMU: dmar0 using Queued invalidation [ 0.372468] IOMMU: dmar1 using Queued invalidation [ 0.372469] IOMMU: Setting RMRR: [ 0.372477] IOMMU: Setting identity map for device 0000:00:02.0 [0xbf800000 - 0xcf9fffff] [ 0.373656] IOMMU: Setting identity map for device 0000:00:14.0 [0xbc371000 - 0xbc37dfff] [ 0.373676] IOMMU: Setting identity map for device 0000:00:1a.0 [0xbc371000 - 0xbc37dfff] [ 0.373694] IOMMU: Setting identity map for device 0000:00:1d.0 [0xbc371000 - 0xbc37dfff] [ 0.373706] IOMMU: Prepare 0-16MiB unity mapping for LPC [ 0.373711] IOMMU: Setting identity map for device 0000:00:1f.0 [0x0 - 0xffffff] [ 0.373819] PCI-DMA: Intel(R) Virtualization Technology for Directed I/O [ 0.375262] RAPL PMU detected, hw unit 2^-14 Joules, API unit is 2^-32 Joules, 4 fixed counters 655360 ms ovfl timer [ 0.375312] microcode: CPU0 sig=0x306c3, pf=0x2, revision=0x9 [ 0.375317] microcode: CPU1 sig=0x306c3, pf=0x2, revision=0x9 [ 0.375321] microcode: CPU2 sig=0x306c3, pf=0x2, revision=0x9 [ 0.375326] microcode: CPU3 sig=0x306c3, pf=0x2, revision=0x9 [ 0.375364] microcode: Microcode Update Driver: v2.00 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba [ 0.375380] Scanning for low memory corruption every 60 seconds [ 0.375570] futex hash table entries: 1024 (order: 4, 65536 bytes) [ 0.375583] Initialise system trusted keyring [ 0.375597] audit: initializing netlink subsys (disabled) [ 0.375606] audit: type=2000 audit(1425152809.357:1): initialized [ 0.375815] HugeTLB registered 2 MB page size, pre-allocated 0 pages [ 0.376631] zpool: loaded [ 0.376632] zbud: loaded [ 0.376737] VFS: Disk quotas dquot_6.5.2 [ 0.376757] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes) [ 0.377020] fuse init (API version 7.23) [ 0.377108] Key type big_key registered [ 0.377413] Key type asymmetric registered [ 0.377414] Asymmetric key parser &#039;x509&#039; registered [ 0.377434] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252) [ 0.377461] io scheduler noop registered [ 0.377463] io scheduler deadline registered (default) [ 0.377479] io scheduler cfq registered [ 0.377694] pci_hotplug: PCI Hot Plug PCI Core version: 0.5 [ 0.377705] pciehp: PCI Express Hot Plug Controller Driver version: 0.4 [ 0.377724] vesafb: mode is 1280x1024x32, linelength=5120, pages=0 [ 0.377724] vesafb: scrolling: redraw [ 0.377726] vesafb: Truecolor: size=8:8:8:8, shift=24:16:8:0 [ 0.377736] vesafb: framebuffer at 0xd0000000, mapped to 0xffffc90005c00000, using 5120k, total 5120k [ 0.377788] Console: switching to colour frame buffer device 160x64 [ 0.377799] fb0: VESA VGA frame buffer device [ 0.377810] intel_idle: MWAIT substates: 0x42120 [ 0.377811] intel_idle: v0.4 model 0x3C [ 0.377811] intel_idle: lapic_timer_reliable_states 0xffffffff [ 0.377950] input: Power Button as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input0 [ 0.377952] ACPI: Power Button [PWRB] [ 0.377973] input: Power Button as /devices/LNXSYSTM:00/LNXPWRBN:00/input/input1 [ 0.377974] ACPI: Power Button [PWRF] [ 0.378087] GHES: HEST is not enabled! [ 0.378152] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled [ 0.398652] 00:06: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A [ 0.399762] Linux agpgart interface v0.103 [ 0.400530] brd: module loaded [ 0.400882] loop: module loaded [ 0.400992] libphy: Fixed MDIO Bus: probed [ 0.400994] tun: Universal TUN/TAP device driver, 1.6 [ 0.400995] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt; [ 0.401020] PPP generic driver version 2.4.2 [ 0.401065] VFIO - User Level meta-driver version: 0.3 [ 0.401372] xhci_hcd 0000:00:14.0: xHCI Host Controller [ 0.401377] xhci_hcd 0000:00:14.0: new USB bus registered, assigned bus number 1 [ 0.401470] xhci_hcd 0000:00:14.0: cache line size of 64 is not supported [ 0.401555] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.401557] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.401558] usb usb1: Product: xHCI Host Controller [ 0.401559] usb usb1: Manufacturer: Linux 3.19.0-6-kvm xhci-hcd [ 0.401560] usb usb1: SerialNumber: 0000:00:14.0 [ 0.401650] hub 1-0:1.0: USB hub found [ 0.401666] hub 1-0:1.0: 14 ports detected [ 0.403110] xhci_hcd 0000:00:14.0: xHCI Host Controller [ 0.403113] xhci_hcd 0000:00:14.0: new USB bus registered, assigned bus number 2 [ 0.403144] usb usb2: New USB device found, idVendor=1d6b, idProduct=0003 [ 0.403145] usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.403146] usb usb2: Product: xHCI Host Controller [ 0.403147] usb usb2: Manufacturer: Linux 3.19.0-6-kvm xhci-hcd [ 0.403148] usb usb2: SerialNumber: 0000:00:14.0 [ 0.403221] hub 2-0:1.0: USB hub found [ 0.403231] hub 2-0:1.0: 6 ports detected [ 0.403856] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver [ 0.403863] ehci-pci: EHCI PCI platform driver [ 0.403922] ehci-pci 0000:00:1a.0: EHCI Host Controller [ 0.403925] ehci-pci 0000:00:1a.0: new USB bus registered, assigned bus number 3 [ 0.403934] ehci-pci 0000:00:1a.0: debug port 2 [ 0.407820] ehci-pci 0000:00:1a.0: cache line size of 64 is not supported [ 0.407874] ehci-pci 0000:00:1a.0: irq 16, io mem 0xee83c000 [ 0.413145] ehci-pci 0000:00:1a.0: USB 2.0 started, EHCI 1.00 [ 0.413183] usb usb3: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.413185] usb usb3: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.413186] usb usb3: Product: EHCI Host Controller [ 0.413187] usb usb3: Manufacturer: Linux 3.19.0-6-kvm ehci_hcd [ 0.413187] usb usb3: SerialNumber: 0000:00:1a.0 [ 0.413326] hub 3-0:1.0: USB hub found [ 0.413330] hub 3-0:1.0: 2 ports detected [ 0.413453] ehci-pci 0000:00:1d.0: EHCI Host Controller [ 0.413456] ehci-pci 0000:00:1d.0: new USB bus registered, assigned bus number 4 [ 0.413465] ehci-pci 0000:00:1d.0: debug port 2 [ 0.417363] ehci-pci 0000:00:1d.0: cache line size of 64 is not supported [ 0.417502] ehci-pci 0000:00:1d.0: irq 23, io mem 0xee83b000 [ 0.423154] ehci-pci 0000:00:1d.0: USB 2.0 started, EHCI 1.00 [ 0.423179] usb usb4: New USB device found, idVendor=1d6b, idProduct=0002 [ 0.423181] usb usb4: New USB device strings: Mfr=3, Product=2, SerialNumber=1 [ 0.423182] usb usb4: Product: EHCI Host Controller [ 0.423183] usb usb4: Manufacturer: Linux 3.19.0-6-kvm ehci_hcd [ 0.423184] usb usb4: SerialNumber: 0000:00:1d.0 [ 0.423293] hub 4-0:1.0: USB hub found [ 0.423296] hub 4-0:1.0: 2 ports detected [ 0.423368] ehci-platform: EHCI generic platform driver [ 0.423374] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver [ 0.423377] ohci-pci: OHCI PCI platform driver [ 0.423384] ohci-platform: OHCI generic platform driver [ 0.423388] uhci_hcd: USB Universal Host Controller Interface driver [ 0.423416] i8042: PNP: No PS/2 controller found. Probing ports directly. [ 0.426196] serio: i8042 KBD port at 0x60,0x64 irq 1 [ 0.426216] serio: i8042 AUX port at 0x60,0x64 irq 12 [ 0.426409] mousedev: PS/2 mouse device common for all mice [ 0.426684] rtc_cmos 00:02: RTC can wake from S4 [ 0.426782] rtc_cmos 00:02: rtc core: registered rtc_cmos as rtc0 [ 0.426894] rtc_cmos 00:02: alarms up to one month, y3k, 242 bytes nvram, hpet irqs [ 0.426909] i2c /dev entries driver [ 0.426952] device-mapper: uevent: version 1.0.3 [ 0.427009] device-mapper: ioctl: 4.29.0-ioctl (2014-10-28) initialised: dm-devel@redhat.com [ 0.427020] Intel P-state driver initializing. [ 0.427145] Consider also installing thermald for improved thermal control. [ 0.427148] ledtrig-cpu: registered to indicate activity on CPUs [ 0.427386] PCCT header not found. [ 0.427388] ACPI PCC probe failed. [ 0.427441] TCP: cubic registered [ 0.427498] NET: Registered protocol family 10 [ 0.427656] NET: Registered protocol family 17 [ 0.427663] Key type dns_resolver registered [ 0.427925] Loading compiled-in X.509 certificates [ 0.428429] Loaded X.509 cert &#039;Magrathea: Glacier signing key: e053bb5652cbcfaa2aef7163e2bf6c27749be754&#039; [ 0.428436] registered taskstats version 1 [ 0.429619] Key type trusted registered [ 0.432446] Key type encrypted registered [ 0.432449] AppArmor: AppArmor sha1 policy hashing enabled [ 0.432452] ima: No TPM chip found, activating TPM-bypass! [ 0.432465] evm: HMAC attrs: 0x1 [ 0.432862] Magic number: 3:332:800 [ 0.432973] rtc_cmos 00:02: setting system clock to 2015-02-28 19:46:49 UTC (1425152809) [ 0.433106] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found [ 0.433107] EDD information not available. [ 0.433164] PM: Hibernation image not present or could not be loaded. [ 0.433424] Freeing unused kernel memory: 1376K (ffffffff81d32000 - ffffffff81e8a000) [ 0.433425] Write protecting the kernel read-only data: 12288k [ 0.433603] Freeing unused kernel memory: 168K (ffff8800017d6000 - ffff880001800000) [ 0.433660] Freeing unused kernel memory: 344K (ffff880001baa000 - ffff880001c00000) [ 0.439365] systemd-udevd[135]: starting version 208 [ 0.439641] random: systemd-udevd urandom read with 1 bits of entropy available [ 0.449592] pps_core: LinuxPPS API ver. 1 registered [ 0.449594] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 0.450433] PTP clock support registered [ 0.451210] ahci 0000:00:1f.2: version 3.0 [ 0.451338] ahci 0000:00:1f.2: AHCI 0001.0300 32 slots 6 ports 6 Gbps 0xa impl SATA mode [ 0.451339] ahci 0000:00:1f.2: flags: 64bit ncq led clo pio slum part ems apst [ 0.453024] e1000e: Intel(R) PRO/1000 Network Driver - 2.3.2-k [ 0.453025] e1000e: Copyright(c) 1999 - 2014 Intel Corporation. [ 0.453933] scsi host0: ahci [ 0.454069] scsi host1: ahci [ 0.454184] scsi host2: ahci [ 0.454264] scsi host3: ahci [ 0.454389] scsi host4: ahci [ 0.454471] scsi host5: ahci [ 0.454523] ata1: DUMMY [ 0.454525] ata2: SATA max UDMA/133 abar m2048@0xee83a000 port 0xee83a180 irq 28 [ 0.454526] ata3: DUMMY [ 0.454527] ata4: SATA max UDMA/133 abar m2048@0xee83a000 port 0xee83a280 irq 28 [ 0.454527] ata5: DUMMY [ 0.454528] ata6: DUMMY [ 0.454637] e1000e 0000:00:19.0: Interrupt Throttling Rate (ints/sec) set to dynamic conservative mode [ 0.619330] e1000e 0000:00:19.0 eth0: registered PHC clock [ 0.619333] e1000e 0000:00:19.0 eth0: (PCI Express:2.5GT/s:Width x1) d0:50:99:15:70:12 [ 0.619334] e1000e 0000:00:19.0 eth0: Intel(R) PRO/1000 Network Connection [ 0.619370] e1000e 0000:00:19.0 eth0: MAC: 11, PHY: 12, PBA No: FFFFFF-0FF [ 0.714887] usb 3-1: new high-speed USB device number 2 using ehci-pci [ 0.724878] usb 4-1: new high-speed USB device number 2 using ehci-pci [ 0.754850] usb 1-4: new high-speed USB device number 2 using xhci_hcd [ 0.759886] ata2: SATA link up 6.0 Gbps (SStatus 133 SControl 300) [ 0.759910] ata4: SATA link up 6.0 Gbps (SStatus 133 SControl 300) [ 0.760196] ata2.00: supports DRM functions and may not be fully accessible [ 0.760427] ata2.00: failed to get NCQ Send/Recv Log Emask 0x1 [ 0.760429] ata2.00: ATA-9: Samsung SSD 850 EVO 500GB, EMT01B6Q, max UDMA/133 [ 0.760430] ata2.00: 976773168 sectors, multi 1: LBA48 NCQ (depth 31/32), AA [ 0.760915] ata2.00: supports DRM functions and may not be fully accessible [ 0.760958] ata4.00: ATA-8: WDC WD10EZRX-00A8LB0, 01.01A01, max UDMA/133 [ 0.760970] ata4.00: 1953525168 sectors, multi 16: LBA48 NCQ (depth 31/32), AA [ 0.761078] ata2.00: failed to get NCQ Send/Recv Log Emask 0x1 [ 0.761219] ata2.00: configured for UDMA/133 [ 0.761384] scsi 1:0:0:0: Direct-Access ATA Samsung SSD 850 1B6Q PQ: 0 ANSI: 5 [ 0.761618] sd 1:0:0:0: [sda] 976773168 512-byte logical blocks: (500 GB/465 GiB) [ 0.761626] sd 1:0:0:0: Attached scsi generic sg0 type 0 [ 0.761817] sd 1:0:0:0: [sda] Write Protect is off [ 0.761819] sd 1:0:0:0: [sda] Mode Sense: 00 3a 00 00 [ 0.761874] sd 1:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA [ 0.762044] ata4.00: configured for UDMA/133 [ 0.762099] scsi 3:0:0:0: Direct-Access ATA WDC WD10EZRX-00A 1A01 PQ: 0 ANSI: 5 [ 0.762220] sd 3:0:0:0: [sdb] 1953525168 512-byte logical blocks: (1.00 TB/931 GiB) [ 0.762222] sd 3:0:0:0: [sdb] 4096-byte physical blocks [ 0.762235] sd 3:0:0:0: Attached scsi generic sg1 type 0 [ 0.762274] sd 3:0:0:0: [sdb] Write Protect is off [ 0.762276] sd 3:0:0:0: [sdb] Mode Sense: 00 3a 00 00 [ 0.762300] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA [ 0.762445] sda: sda1 sda2 &lt; sda5 &gt; [ 0.762657] sd 1:0:0:0: [sda] Attached SCSI disk [ 0.779140] sdb: sdb1 sdb2 sdb3 [ 0.779762] sd 3:0:0:0: [sdb] Attached SCSI disk [ 0.830770] raid6: sse2x1 11769 MB/s [ 0.843201] usb 3-1: New USB device found, idVendor=8087, idProduct=8008 [ 0.843202] usb 3-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0 [ 0.843227] usb 4-1: New USB device found, idVendor=8087, idProduct=8000 [ 0.843228] usb 4-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0 [ 0.843456] hub 3-1:1.0: USB hub found [ 0.843479] hub 4-1:1.0: USB hub found [ 0.843560] hub 3-1:1.0: 6 ports detected [ 0.843566] hub 4-1:1.0: 8 ports detected [ 0.847757] raid6: sse2x2 14488 MB/s [ 0.864735] raid6: sse2x4 17296 MB/s [ 0.881719] raid6: avx2x1 23332 MB/s [ 0.898721] raid6: avx2x2 26101 MB/s [ 0.915687] raid6: avx2x4 31621 MB/s [ 0.915688] raid6: using algorithm avx2x4 (31621 MB/s) [ 0.915689] raid6: using avx2x2 recovery algorithm [ 0.916474] xor: automatically using best checksumming function: [ 0.925705] avx : 36740.000 MB/sec [ 0.932605] Btrfs loaded [ 1.139033] usb 1-4: New USB device found, idVendor=046d, idProduct=0825 [ 1.139035] usb 1-4: New USB device strings: Mfr=0, Product=0, SerialNumber=2 [ 1.139036] usb 1-4: SerialNumber: 5713F440 [ 1.189196] BTRFS: device fsid a3929651-e09b-4f1c-afa3-a5516b17eabb devid 1 transid 8536 /dev/sda1 [ 1.192878] BTRFS info (device sda1): disk space caching is enabled [ 1.207324] BTRFS: detected SSD devices, enabling SSD mode [ 1.292394] usb 1-13: new high-speed USB device number 3 using xhci_hcd [ 1.324761] init: plymouth-upstart-bridge main process (236) terminated with status 1 [ 1.324770] init: plymouth-upstart-bridge main process ended, respawning [ 1.325793] init: plymouth-upstart-bridge main process (252) terminated with status 1 [ 1.325799] init: plymouth-upstart-bridge main process ended, respawning [ 1.327177] init: plymouth-upstart-bridge main process (254) terminated with status 1 [ 1.327184] init: plymouth-upstart-bridge main process ended, respawning [ 1.328042] init: plymouth-upstart-bridge main process (255) terminated with status 1 [ 1.328048] init: plymouth-upstart-bridge main process ended, respawning [ 1.375276] tsc: Refined TSC clocksource calibration: 3399.013 MHz [ 1.456468] usb 1-13: New USB device found, idVendor=1a40, idProduct=0101 [ 1.456470] usb 1-13: New USB device strings: Mfr=0, Product=1, SerialNumber=0 [ 1.456471] usb 1-13: Product: USB 2.0 Hub [MTT] [ 1.456758] hub 1-13:1.0: USB hub found [ 1.456780] hub 1-13:1.0: 4 ports detected [ 1.610081] usb 1-14: new low-speed USB device number 4 using xhci_hcd [ 1.751783] random: nonblocking pool is initialized [ 1.779040] usb 1-14: New USB device found, idVendor=046d, idProduct=c01e [ 1.779043] usb 1-14: New USB device strings: Mfr=1, Product=2, SerialNumber=0 [ 1.779044] usb 1-14: Product: USB-PS/2 Optical Mouse [ 1.779045] usb 1-14: Manufacturer: Logitech [ 1.779109] usb 1-14: ep 0x81 - rounding interval to 64 microframes, ep desc says 80 microframes [ 1.836010] usb 1-13.3: new low-speed USB device number 5 using xhci_hcd [ 1.866773] Adding 16002044k swap on /dev/sda5. Priority:-1 extents:1 across:16002044k SSFS [ 1.870613] BTRFS info (device sda1): turning on discard [ 1.870617] BTRFS info (device sda1): enabling auto defrag [ 1.870619] BTRFS info (device sda1): disk space caching is enabled [ 1.910440] systemd-udevd[411]: starting version 208 [ 1.922543] nct6775: Found NCT6776D/F or compatible chip at 0x2e:0x290 [ 1.927797] lp: driver loaded but no devices found [ 1.929990] ppdev: user-space parallel port driver [ 1.935139] usb 1-13.3: New USB device found, idVendor=09da, idProduct=0260 [ 1.935141] usb 1-13.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0 [ 1.935143] usb 1-13.3: Product: USB Keyboard [ 1.935144] usb 1-13.3: Manufacturer: [ 1.936263] usb 1-13.3: ep 0x81 - rounding interval to 64 microframes, ep desc says 80 microframes [ 1.936265] usb 1-13.3: ep 0x82 - rounding interval to 64 microframes, ep desc says 80 microframes [ 1.990765] audit: type=1400 audit(1425142011.058:2): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/cups/backend/cups-pdf&quot; pid=515 comm=&quot;apparmor_parser&quot; [ 1.990769] audit: type=1400 audit(1425142011.058:3): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/sbin/cupsd&quot; pid=515 comm=&quot;apparmor_parser&quot; [ 1.990771] audit: type=1400 audit(1425142011.058:4): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;third_party&quot; pid=515 comm=&quot;apparmor_parser&quot; [ 1.992199] Bluetooth: Core ver 2.20 [ 1.992208] NET: Registered protocol family 31 [ 1.992208] Bluetooth: HCI device and connection manager initialized [ 1.992211] Bluetooth: HCI socket layer initialized [ 1.992213] Bluetooth: L2CAP socket layer initialized [ 1.992216] Bluetooth: SCO socket layer initialized [ 2.005060] Bluetooth: RFCOMM TTY layer initialized [ 2.005065] Bluetooth: RFCOMM socket layer initialized [ 2.005068] Bluetooth: RFCOMM ver 1.11 [ 2.005149] init: cups main process (517) killed by HUP signal [ 2.005154] init: cups main process ended, respawning [ 2.005703] Bluetooth: BNEP (Ethernet Emulation) ver 1.3 [ 2.005705] Bluetooth: BNEP filters: protocol multicast [ 2.005707] Bluetooth: BNEP socket layer initialized [ 2.025992] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 2.028714] [drm] Initialized drm 1.1.0 20060810 [ 2.040797] audit: type=1400 audit(1425142011.108:5): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/sbin/dhclient&quot; pid=581 comm=&quot;apparmor_parser&quot; [ 2.040802] audit: type=1400 audit(1425142011.108:6): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/NetworkManager/nm-dhcp-client.action&quot; pid=581 comm=&quot;apparmor_parser&quot; [ 2.040804] audit: type=1400 audit(1425142011.108:7): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/connman/scripts/dhclient-script&quot; pid=581 comm=&quot;apparmor_parser&quot; [ 2.045713] [drm] Memory usable by graphics device = 2048M [ 2.045715] [drm] VT-d active for gfx access [ 2.045717] checking generic (d0000000 500000) vs hw (d0000000 10000000) [ 2.045718] fb: switching to inteldrmfb from VESA VGA [ 2.045730] Console: switching to colour dummy device 80x25 [ 2.045762] [drm] Replacing VGA console driver [ 2.051843] [drm] Supports vblank timestamp caching Rev 2 (21.10.2013). [ 2.051844] [drm] Driver supports precise vblank timestamp query. [ 2.051868] [drm] DMAR active, disabling use of stolen memory [ 2.060582] AVX2 version of gcm_enc/dec engaged. [ 2.060583] AES CTR mode by8 optimization enabled [ 2.082972] hidraw: raw HID events driver (C) Jiri Kosina [ 2.094078] media: Linux media interface: v0.10 [ 2.096038] Linux video capture interface: v2.00 [ 2.098455] intel_rapl: Found RAPL domain package [ 2.098457] intel_rapl: Found RAPL domain core [ 2.098459] intel_rapl: Found RAPL domain uncore [ 2.098460] intel_rapl: Found RAPL domain dram [ 2.100352] uvcvideo: Found UVC 1.00 device &lt;unnamed&gt; (046d:0825) [ 2.100366] device-mapper: multipath: version 1.7.0 loaded [ 2.116011] input: UVC Camera (046d:0825) as /devices/pci0000:00/0000:00:14.0/usb1/1-4/1-4:1.0/input/input5 [ 2.116162] usbcore: registered new interface driver uvcvideo [ 2.116164] USB Video Class driver (1.1.1) [ 2.119831] vgaarb: device changed decodes: PCI:0000:00:02.0,olddecodes=io+mem,decodes=io:owns=io+mem [ 2.120764] usbcore: registered new interface driver usbhid [ 2.120765] usbhid: USB HID core driver [ 2.121120] ACPI: Video Device [GFX0] (multi-head: yes rom: no post: no) [ 2.121403] acpi device:5d: registered as cooling_device5 [ 2.121449] input: Video Bus as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00/input/input6 [ 2.121608] [drm] Initialized i915 1.6.0 20141121 for 0000:00:02.0 on minor 0 [ 2.122015] snd_hda_intel 0000:01:00.1: Disabling MSI [ 2.122049] snd_hda_intel 0000:01:00.1: Handle VGA-switcheroo audio client [ 2.137140] input: HDA Intel HDMI HDMI/DP,pcm=3 as /devices/pci0000:00/0000:00:03.0/sound/card0/input7 [ 2.137179] input: HDA Intel HDMI HDMI/DP,pcm=7 as /devices/pci0000:00/0000:00:03.0/sound/card0/input8 [ 2.137209] input: HDA Intel HDMI HDMI/DP,pcm=8 as /devices/pci0000:00/0000:00:03.0/sound/card0/input9 [ 2.143337] sound hdaudioC2D0: autoconfig: line_outs=4 (0x14/0x15/0x16/0x17/0x0) type:line [ 2.143339] sound hdaudioC2D0: speaker_outs=0 (0x0/0x0/0x0/0x0/0x0) [ 2.143340] sound hdaudioC2D0: hp_outs=1 (0x1b/0x0/0x0/0x0/0x0) [ 2.143341] sound hdaudioC2D0: mono: mono_out=0x0 [ 2.143342] sound hdaudioC2D0: dig-out=0x1e/0x0 [ 2.143343] sound hdaudioC2D0: inputs: [ 2.143344] sound hdaudioC2D0: Front Mic=0x19 [ 2.143345] sound hdaudioC2D0: Rear Mic=0x18 [ 2.143346] sound hdaudioC2D0: Line=0x1a [ 2.149206] fbcon: inteldrmfb (fb0) is primary device [ 2.149268] Console: switching to colour frame buffer device 160x64 [ 2.149281] i915 0000:00:02.0: fb0: inteldrmfb frame buffer device [ 2.149282] i915 0000:00:02.0: registered panic notifier [ 2.158330] input: HDA Intel PCH Front Mic as /devices/pci0000:00/0000:00:1b.0/sound/card2/input10 [ 2.158389] input: HDA Intel PCH Rear Mic as /devices/pci0000:00/0000:00:1b.0/sound/card2/input11 [ 2.158443] input: HDA Intel PCH Line as /devices/pci0000:00/0000:00:1b.0/sound/card2/input12 [ 2.158496] input: HDA Intel PCH Line Out Front as /devices/pci0000:00/0000:00:1b.0/sound/card2/input13 [ 2.158546] input: HDA Intel PCH Line Out Surround as /devices/pci0000:00/0000:00:1b.0/sound/card2/input14 [ 2.158656] input: HDA Intel PCH Line Out CLFE as /devices/pci0000:00/0000:00:1b.0/sound/card2/input15 [ 2.158758] input: HDA Intel PCH Line Out Side as /devices/pci0000:00/0000:00:1b.0/sound/card2/input16 [ 2.158836] input: HDA Intel PCH Front Headphone as /devices/pci0000:00/0000:00:1b.0/sound/card2/input17 [ 2.159068] input: Logitech USB-PS/2 Optical Mouse as /devices/pci0000:00/0000:00:14.0/usb1/1-14/1-14:1.0/0003:046D:C01E.0001/input/input18 [ 2.159132] hid-generic 0003:046D:C01E.0001: input,hidraw0: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:14.0-14/input0 [ 2.159213] input: USB Keyboard as /devices/pci0000:00/0000:00:14.0/usb1/1-13/1-13.3/1-13.3:1.0/0003:09DA:0260.0002/input/input19 [ 2.181454] init: failsafe main process (785) killed by TERM signal [ 2.209644] hid-generic 0003:09DA:0260.0002: input,hidraw1: USB HID v1.10 Keyboard [ USB Keyboard] on usb-0000:00:14.0-13.3/input0 [ 2.212064] input: USB Keyboard as /devices/pci0000:00/0000:00:14.0/usb1/1-13/1-13.3/1-13.3:1.1/0003:09DA:0260.0003/input/input20 [ 2.235618] init: samba-ad-dc main process (883) terminated with status 1 [ 2.255222] audit: type=1400 audit(1425142011.322:8): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;/usr/lib/lightdm/lightdm-guest-session&quot; pid=984 comm=&quot;apparmor_parser&quot; [ 2.255226] audit: type=1400 audit(1425142011.322:9): apparmor=&quot;STATUS&quot; operation=&quot;profile_load&quot; profile=&quot;unconfined&quot; name=&quot;chromium&quot; pid=984 comm=&quot;apparmor_parser&quot; [ 2.256198] audit: type=1400 audit(1425142011.323:10): apparmor=&quot;STATUS&quot; operation=&quot;profile_replace&quot; profile=&quot;unconfined&quot; name=&quot;/sbin/dhclient&quot; pid=984 comm=&quot;apparmor_parser&quot; [ 2.262601] hid-generic 0003:09DA:0260.0003: input,hidraw2: USB HID v1.10 Device [ USB Keyboard] on usb-0000:00:14.0-13.3/input1 [ 2.294949] systemd-logind[963]: New seat seat0. [ 2.295143] systemd-logind[963]: Watching system buttons on /dev/input/event1 (Power Button) [ 2.295175] systemd-logind[963]: Watching system buttons on /dev/input/event3 (Video Bus) [ 2.295202] systemd-logind[963]: Watching system buttons on /dev/input/event0 (Power Button) [ 2.374501] Switched to clocksource tsc [ 2.419305] input: HDA NVidia HDMI/DP,pcm=3 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input21 [ 2.419369] input: HDA NVidia HDMI/DP,pcm=7 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input22 [ 2.420313] input: HDA NVidia HDMI/DP,pcm=8 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input23 [ 2.421452] input: HDA NVidia HDMI/DP,pcm=9 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card3/input24 [ 2.521472] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready [ 2.529105] vboxdrv: module verification failed: signature and/or required key missing - tainting kernel [ 2.531134] vboxdrv: Found 4 processor cores. [ 2.531464] vboxdrv: fAsync=0 offMin=0x1df offMax=0xe1d [ 2.531510] vboxdrv: TSC mode is &#039;synchronous&#039;, kernel timer mode is &#039;normal&#039;. [ 2.531511] vboxdrv: Successfully loaded version 4.3.18_Ubuntu (interface 0x001a0008). [ 2.539538] vboxpci: IOMMU found [ 2.692404] ------------[ cut here ]------------ [ 2.692446] WARNING: CPU: 3 PID: 599 at /home/terusus/ubuntu-vivid/source/drivers/gpu/drm/i915/intel_display.c:9705 intel_check_page_flip+0xa2/0xf0 [i915]() [ 2.692447] WARN_ON(!in_irq()) [ 2.692448] Modules linked in: [ 2.692449] pci_stub vboxpci(OE) vboxnetadp(OE) vboxnetflt(OE) vboxdrv(OE) hid_generic snd_hda_codec_realtek snd_hda_codec_generic snd_hda_codec_hdmi snd_usb_audio(+) snd_usbmidi_lib uvcvideo dm_multipath videobuf2_vmalloc scsi_dh intel_rapl videobuf2_memops videobuf2_core v4l2_common iosf_mbi videodev x86_pkg_temp_thermal media usbhid intel_powerclamp snd_hda_intel kvm_intel snd_hda_controller hid snd_hda_codec snd_hwdep kvm snd_pcm crct10dif_pclmul crc32_pclmul snd_seq_midi ghash_clmulni_intel snd_seq_midi_event aesni_intel snd_rawmidi aes_x86_64 lrw gf128mul glue_helper snd_seq ablk_helper cryptd snd_seq_device snd_timer serio_raw i915 snd drm_kms_helper drm lpc_ich mei_me shpchp soundcore mei i2c_algo_bit 8250_fintek nuvoton_cir rc_core bnep rfcomm video soc_button_array mac_hid bluetooth binfmt_misc [ 2.692469] parport_pc ppdev lp parport nct6775 hwmon_vid coretemp btrfs xor raid6_pq e1000e ahci psmouse ptp libahci pps_core [ 2.692476] CPU: 3 PID: 599 Comm: irq/31-i915 Tainted: G OE 3.19.0-6-kvm #6 [ 2.692476] Hardware name: To Be Filled By O.E.M. To Be Filled By O.E.M./H87 Pro4, BIOS P2.10 07/09/2014 [ 2.692477] ffffffffc07661b8 ffff880419b93c98 ffffffff817c6613 0000000000000007 [ 2.692479] ffff880419b93ce8 ffff880419b93cd8 ffffffff8107732a ffff880419b93cd8 [ 2.692480] ffff8804186e3000 ffff880419b88800 ffff880419b88800 0000000000000000 [ 2.692481] Call Trace: [ 2.692496] [&lt;ffffffff817c6613&gt;] dump_stack+0x4c/0x6e [ 2.692499] [&lt;ffffffff8107732a&gt;] warn_slowpath_common+0x8a/0xc0 [ 2.692501] [&lt;ffffffff810773a6&gt;] warn_slowpath_fmt+0x46/0x50 [ 2.692510] [&lt;ffffffffc07111a2&gt;] intel_check_page_flip+0xa2/0xf0 [i915] [ 2.692518] [&lt;ffffffffc06de277&gt;] ironlake_irq_handler+0x417/0x1000 [i915] [ 2.692521] [&lt;ffffffff8109bc4d&gt;] ? finish_task_switch+0x5d/0x100 [ 2.692523] [&lt;ffffffff810d0340&gt;] ? irq_thread_fn+0x50/0x50 [ 2.692525] [&lt;ffffffff810d036d&gt;] irq_forced_thread_fn+0x2d/0x70 [ 2.692526] [&lt;ffffffff810d08b7&gt;] irq_thread+0x137/0x160 [ 2.692527] [&lt;ffffffff810d03e0&gt;] ? wake_threads_waitq+0x30/0x30 [ 2.692529] [&lt;ffffffff810d0780&gt;] ? irq_thread_check_affinity+0x90/0x90 [ 2.692531] [&lt;ffffffff810961eb&gt;] kthread+0xdb/0x100 [ 2.692541] [&lt;ffffffff81096110&gt;] ? kthread_create_on_node+0x1c0/0x1c0 [ 2.692543] [&lt;ffffffff817cd5bc&gt;] ret_from_fork+0x7c/0xb0 [ 2.692545] [&lt;ffffffff81096110&gt;] ? kthread_create_on_node+0x1c0/0x1c0 [ 2.692546] ---[ end trace 3bc57ae31fe4d29b ]--- [ 2.714351] init: plymouth-upstart-bridge main process ended, respawning [ 2.715692] init: plymouth-upstart-bridge main process (1679) killed by TERM signal [ 2.749461] systemd-logind[963]: Failed to start unit user@112.service: Unknown unit: user@112.service [ 2.749464] systemd-logind[963]: Failed to start user service: Unknown unit: user@112.service [ 2.751775] systemd-logind[963]: New session c1 of user lightdm. [ 2.751786] systemd-logind[963]: Linked /tmp/.X11-unix/X0 to /run/user/112/X11-display. [ 2.947777] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this. [ 3.001213] ip_tables: (C) 2000-2006 Netfilter Core Team [ 3.026918] nf_conntrack version 0.5.0 (16384 buckets, 65536 max) [ 3.279516] usb 1-4: set resolution quirk: cval-&gt;res = 384 [ 3.279678] usbcore: registered new interface driver snd-usb-audio [ 4.040540] e1000e: eth0 NIC Link is Up 100 Mbps Full Duplex, Flow Control: Rx/Tx [ 4.040544] e1000e 0000:00:19.0 eth0: 10/100 speed: disabling TSO [ 4.040583] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready [ 10.029597] systemd-logind[963]: Failed to start unit user@1000.service: Unknown unit: user@1000.service [ 10.029602] systemd-logind[963]: Failed to start user service: Unknown unit: user@1000.service [ 10.032050] systemd-logind[963]: New session c2 of user terusus. [ 10.032061] systemd-logind[963]: Linked /tmp/.X11-unix/X0 to /run/user/1000/X11-display.</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507164">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507196" class="blockpost roweven"> <h2><span><span class="conr">#4349</span> <a href="viewtopic.php?pid=1507196#p1507196">2015-03-01 00:24:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Is CONFIG_VFIO_PCI_VGA also set?</p><p>hv_time is incompatible with nvidia</p><p>Missing -vga none</p><p>Don&#039;t use q35</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507196">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1507295" class="blockpost rowodd"> <h2><span><span class="conr">#4350</span> <a href="viewtopic.php?pid=1507295#p1507295">2015-03-01 11:24:29</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=85328">PureTryOut</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-09-23</span></dd> <dd><span>Posts: 63</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hey guys, I finally managed to passthrough my GPU. I&#039;ve tried before and had lots of errors and eventually gave up. Later on I found my motherboard just didn&#039;t support IOMMU -.-<br />Anyways i&#039;ve bought a new motherboard that does support IOMMU so now I have the following setup:<br />MOBO: Asrock Extreme 6/ac<br />CPU: i7 4790k @ 4Ghz<br />GPU Host: GTX 980<br />GPU Guest: GTX 770 (I can&#039;t turn these around sadly, it will not give any video output otherwise)<br />Linux Mainline 3.18.5 kernel with ACS patch enabled (from the first post).</p><p>Using the following commandline I managed to set up a Windows 8 VM running on my SSD&#039;s, and having the GTX 770 as passthrough:</p><div class="codebox"><pre><code>QEMU_PA_SAMPLES=128 QEMU_AUDIO_DRV=pa qemu-system-x86_64 -enable-kvm -M q35 -m 8096 -cpu host -soundhw hda \ -smp 6,sockets=1,cores=6,threads=1 \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=02:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=02:00.1,bus=root.1,addr=00.1 \ -device virtio-scsi-pci,id=scsi \ -drive file=/dev/sdb,id=ssddisk,format=raw,if=none -device scsi-hd,drive=ssddisk \ -drive file=/dev/sdd,id=hdddisk,format=raw,if=none -device scsi-hd,drive=hdddisk</code></pre></div><p><strong>Problem 1:</strong><br />Everything appeared to be succesful, Windows runs without problems (just the mouse is a bit itchy), and the NVIDIA driver installer was able to detect the GPU and install the driver.<br />Rebooted VM, installed GPU-Z and it shows my GTX 770 (with 347.52 driver). However it also shows the GPU Clock is 0 Mhz, just as memory and default clock.<br />I also can&#039;t open the NVIDIA settings screen, first it gave me some runtime errors, now it just doesn&#039;t show up at all.<br />Whenever I run Geforce Experience it seems to not find any installed driver, as it automatically starts downloading the driver I already have installed.</p><p><strong>Problem 2:</strong><br />Sound laggs badly. I can hear it, but if it would be measured in frames per second, it would&#039;ve been around 3. As you can see in my commandline I try to use PulseAudio.<br />What am I doing wrong here?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1507295">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=173">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=172">172</a> <a href="viewtopic.php?id=162768&amp;p=173">173</a> <strong>174</strong> <a href="viewtopic.php?id=162768&amp;p=175">175</a> <a href="viewtopic.php?id=162768&amp;p=176">176</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=175">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
