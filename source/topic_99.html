<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 99) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=99" title="Page 99" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=98" title="Page 98" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=100" title="Page 100" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=98">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=97">97</a> <a href="viewtopic.php?id=162768&amp;p=98">98</a> <strong>99</strong> <a href="viewtopic.php?id=162768&amp;p=100">100</a> <a href="viewtopic.php?id=162768&amp;p=101">101</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=100">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1445391" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#2451</span> <a href="viewtopic.php?pid=1445391#p1445391">2014-08-09 22:56:57</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=72881">alexis_evo</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-04</span></dd> <dd><span>Posts: 33</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=72881">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aldum wrote:</cite><blockquote><div><div class="quotebox"><cite>alexis_evo wrote:</cite><blockquote><div><p>I appreciate the help, but I don&#039;t think the issue is NTP. I&#039;ve already disabled NTP in Windows. It&#039;s my understanding that there&#039;s three clocks on a computer. The RTC (hardware level, set in BIOS, battery backed), the system time (low level, set by the RTC on boot, never changes, used for timing by games/etc), and the local clock (the time displayed, synced by NTP). The problem is the system time is drifting off of the RTC.</p></div></blockquote></div><p>Ok, so you tried turning it off, now try the other way: have it update every 5 minutes.</p></div></blockquote></div><p>1) that is an ugly hack that will still cause problems (what if an application is affected by a time drift of 1-2 seconds? the time drift is as high as 1-2 seconds per minute, so 5-10 seconds of drift every 5 minutes is unacceptable).<br />2) public NTP servers will ban for polling that often.<br />3) AFAIK, NTP syncs the local/visible time, not the system time. With NTP enabled it will just fix the visible clock, leaving the system time to drift until the kernel snaps it back into place. If NTP were to sync the system time, it would break many applications whenever it is ran, so I don&#039;t believe they would do that (but who knows, maybe I&#039;m wrong).</p><p>I will try it after a couple more attempts, but I really don&#039;t like the solution, even if it were to work.</p><p>After disabling HPET (passing -no-hpet to qemu), and running it for an hour, Windows&#039; kernel hasn&#039;t snapped the time forward. can&#039;t tell for sure, but manually comparing the times it does seem to be keeping in sync. Will update if/when it kicks in again, or a couple of hours if it&#039;s still synced.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445391">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445441" class="blockpost roweven"> <h2><span><span class="conr">#2452</span> <a href="viewtopic.php?pid=1445441#p1445441">2014-08-10 03:40:26</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=70922">nbhs</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/70922.jpg?m=1367773811" width="80" height="80" alt="" /></dd> <dd><span>From: Montevideo, Uruguay</span></dd> <dd><span>Registered: 2013-05-02</span></dd> <dd><span>Posts: 402</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>alexis_evo wrote:</cite><blockquote><div><div class="quotebox"><cite>aldum wrote:</cite><blockquote><div><div class="quotebox"><cite>alexis_evo wrote:</cite><blockquote><div><p>I appreciate the help, but I don&#039;t think the issue is NTP. I&#039;ve already disabled NTP in Windows. It&#039;s my understanding that there&#039;s three clocks on a computer. The RTC (hardware level, set in BIOS, battery backed), the system time (low level, set by the RTC on boot, never changes, used for timing by games/etc), and the local clock (the time displayed, synced by NTP). The problem is the system time is drifting off of the RTC.</p></div></blockquote></div><p>Ok, so you tried turning it off, now try the other way: have it update every 5 minutes.</p></div></blockquote></div><p>1) that is an ugly hack that will still cause problems (what if an application is affected by a time drift of 1-2 seconds? the time drift is as high as 1-2 seconds per minute, so 5-10 seconds of drift every 5 minutes is unacceptable).<br />2) public NTP servers will ban for polling that often.<br />3) AFAIK, NTP syncs the local/visible time, not the system time. With NTP enabled it will just fix the visible clock, leaving the system time to drift until the kernel snaps it back into place. If NTP were to sync the system time, it would break many applications whenever it is ran, so I don&#039;t believe they would do that (but who knows, maybe I&#039;m wrong).</p><p>I will try it after a couple more attempts, but I really don&#039;t like the solution, even if it were to work.</p><p>After disabling HPET (passing -no-hpet to qemu), and running it for an hour, Windows&#039; kernel hasn&#039;t snapped the time forward. can&#039;t tell for sure, but manually comparing the times it does seem to be keeping in sync. Will update if/when it kicks in again, or a couple of hours if it&#039;s still synced.</p></div></blockquote></div><p>Maybe this helps? <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Virtualization_Host_Configuration_and_Guest_Installation_Guide/chap-Virtualization_Host_Configuration_and_Guest_Installation_Guide-KVM_guest_timing_management.html" rel="nofollow">https://access.redhat.com/documentation … ement.html</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445441">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445473" class="blockpost rowodd"> <h2><span><span class="conr">#2453</span> <a href="viewtopic.php?pid=1445473#p1445473">2014-08-10 08:23:40</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=72881">alexis_evo</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-07-04</span></dd> <dd><span>Posts: 33</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=72881">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>nbhs wrote:</cite><blockquote><div><p>Maybe this helps? <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Virtualization_Host_Configuration_and_Guest_Installation_Guide/chap-Virtualization_Host_Configuration_and_Guest_Installation_Guide-KVM_guest_timing_management.html" rel="nofollow">https://access.redhat.com/documentation … ement.html</a></p></div></blockquote></div><p>Yeah I saw and tried that. So far the only thing that&#039;s worked is disabling HPET. It does work though, so I guess this is &#039;solved&#039;. I don&#039;t think I need HPET for anything...</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445473">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445557" class="blockpost roweven"> <h2><span><span class="conr">#2454</span> <a href="viewtopic.php?pid=1445557#p1445557">2014-08-10 13:19:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=83600">d3lxa</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-07-16</span></dd> <dd><span>Posts: 4</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=83600">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>After a few weeks of test, I can say this is very stable. Had only a crash due to Windows (GPU overheat).</p><p>Nonetheless I have found a side problem with suspend/hibernate: After playing a few hours I shutdown Windows but I cannot suspend/hibernate (in Linux) at all. The computer seems to partially shutdown (mouse/keyboard off, monitor off) but it stays up (power on, fans on, etc). I can suspend/hibernate just fine when I freshly rebooted. Until I play using qemu VFIO I don&#039;t have such problem. If I use windows without gaming it&#039;s fine too (as far I can tell, I don&#039;t have tested too long). It seems, after a certain time of gaming, it becomes impossible to suspend, for some unknown reason. It may be related to the D3 state of the card. I tried to eject the VGA card but it&#039;s worse (Windows does not always shutdown).</p><p>Is it possible the card refuse to let it shutdown if it&#039;s still hot (fan at high speed) or until a certain time has passed after the VM is down? Does anyone experience this too? Does someone has any tip that I could try to see if it solve the issue, anything? I have 3.14.12 without patch (is the vga_arbitrer patch useful for this?)</p><p>EDIT: After a few tests, it&#039;s more simple than that: most of the time I was not able to suspend after running qemu with VFIO (without windows) in fact. What solved this problem (at great cost) is the VGAARB patch as expected. It prevents the color glitches I had until now on my linux screen but I am not able to play on Linux anymore (DRI disabled as described in the details) which is very unfortunate. I prefer DRI over being able to suspend. No other workaround out there?</p><p>My hardware+detailed report earlier: <a href="https://bbs.archlinux.org/viewtopic.php?pid=1436677#p1436677" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 7#p1436677</a></p> <p class="postedit"><em>Last edited by d3lxa (2014-08-11 00:20:09)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445557">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445632" class="blockpost rowodd"> <h2><span><span class="conr">#2455</span> <a href="viewtopic.php?pid=1445632#p1445632">2014-08-10 17:59:27</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84239">das_j</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-10</span></dd> <dd><span>Posts: 4</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=84239">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I am currently trying to realize this because I want to get away from Windows.<br />Arch looks like the best Distribution for me, even if I am using it the first time (I was using SLES at work so I have at least a bit of knowledge).<br />This looks like the perfect project to keep playing my Windows/DirectX games.<br />The VM starts perfectly (currently without any drives) and shows up on my second screen.<br />But when I kill it using Ctrl+C (Output: qemu: terminating on signal 2) and want to start it again, I get the following error:</p><div class="codebox"><pre><code>qemu-system-x86_64: vfio-pci: Cannot read device rom at 0000:04:00.0 Device option ROM contents are probably invalid (check dmesg). Skip option ROM probe with rombar=0, or load from file with romfile=</code></pre></div><p>The second screen (which kept the last image of the previous run) turned black and I had to kill it.</p><p>System information:</p><p>I have a Nvidia GTX 460 (to pass to the VM) and a Nvidia GeForce GT 240 for the Host.<br />My Mainboard is the Gigabyte GA-970A-UD3 and I have a AMD FX-8350.</p><p>lspci -k -nn (after binding to vfio):</p><div class="codebox"><pre><code>01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GT215 [GeForce GT 240] [10de:0ca3] (rev a2) Subsystem: CardExpert Technology Device [10b0:0401] Kernel driver in use: nouveau Kernel modules: nouveau 01:00.1 Audio device [0403]: NVIDIA Corporation High Definition Audio Controller [10de:0be4] (rev a1) Subsystem: CardExpert Technology Device [10b0:0401] Kernel driver in use: snd_hda_intel Kernel modules: snd_hda_intel 02:00.0 USB controller [0c03]: VIA Technologies, Inc. Device [1106:3483] (rev 01) Subsystem: Gigabyte Technology Co., Ltd Device [1458:5007] Kernel driver in use: xhci_hcd Kernel modules: xhci_hcd 03:00.0 SATA controller [0106]: Marvell Technology Group Ltd. 88SE9172 SATA 6Gb/s Controller [1b4b:9172] (rev 11) Subsystem: Gigabyte Technology Co., Ltd Device [1458:b000] Kernel driver in use: ahci Kernel modules: ahci 04:00.0 VGA compatible controller [0300]: NVIDIA Corporation GF114 [GeForce GTX 460 v2] [10de:1205] (rev a1) Subsystem: Gigabyte Technology Co., Ltd Device [1458:34fc] Kernel driver in use: vfio-pci Kernel modules: nouveau 04:00.1 Audio device [0403]: NVIDIA Corporation GF114 HDMI Audio Controller [10de:0e0c] (rev a1) Subsystem: Gigabyte Technology Co., Ltd Device [1458:34fc] Kernel driver in use: vfio-pci Kernel modules: snd_hda_intel</code></pre></div><p>cat /proc/cmdline:</p><div class="codebox"><pre><code>BOOT_IMAGE=/boot/vmlinuz-linux-custom root=UUID=5bccb51e-9801-4086-93d7-535ba06e5bae rw quiet pci-stub.ids=10de:1205,10de:0e0c iommu=pt</code></pre></div><p>Note: I use iommu=pt because Amd-Vi was spamming the log and slowing down the boot process. It still dosen&#039;t work when I remove it.</p><p>qemu call:</p><div class="codebox"><pre><code>qemu-system-x86_64 -enable-kvm -M q35 -m 4096 -cpu host \ -smp 6,sockets=1,cores=6,threads=1 \ -bios /usr/share/qemu/bios.bin -vga none \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=04:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=04:00.1,bus=root.1,addr=00.1</code></pre></div><p>qemu-system-x86_64 --version:</p><div class="codebox"><pre><code>QEMU emulator version 2.0.0, Copyright (c) 2003-2008 Fabrice Bellard</code></pre></div><p>cat /proc/version:</p><div class="codebox"><pre><code>Linux version 3.15.8-1-custom (root@Acerola) (gcc version 4.9.1 (GCC) ) #1 SMP PREEMPT Sun Aug 10 14:12:21 CEST 2014</code></pre></div><p>Can anybody help me with this?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445632">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445663" class="blockpost roweven"> <h2><span><span class="conr">#2456</span> <a href="viewtopic.php?pid=1445663#p1445663">2014-08-10 19:31:18</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=66944">shrubuntu</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2012-12-26</span></dd> <dd><span>Posts: 16</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=66944">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><div class="quotebox"><cite>shrubuntu wrote:</cite><blockquote><div><div class="quotebox"><cite>kameloc wrote:</cite><blockquote><div><p>Oh sorry I don&#039;t passthrough my onboard audio, just share it. If you add </p><div class="codebox"><pre><code>-device ac97,bus=pcie.0,addr=1b.0,id=sound0 \ -device hda-duplex,id=sound0-codec0,bus=sound0.0,cad=0</code></pre></div><p>It emulates Realtek AC&#039;97 for the guest. It allowed me to use my speakers from the VM or host, and at the same time</p></div></blockquote></div><p>Can you show me the whole command? I can&#039;t seem to get it to work</p></div></blockquote></div><p>This is how I start my VM. Only passthrough my GPU and a USB device. Emulate ac97 at the end.</p><p>sudo -E qemu-system-x86_64 -enable-kvm \<br />-M q35 \<br />-cpu host \<br />-smp 4,cores=4,threads=8,sockets=1 \<br />-m 6122 \<br />-rtc base=localtime,clock=host \<br />-balloon virtio \<br />-boot menu=on \<br />-bios /usr/share/qemu/bios.bin \<br />-vga none \<br />-usbdevice host:0d8c:0008 \<br />-device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \<br />-device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,romfile=/home/kameloc/windows7/EVGA.GTX550Ti.1024.121031.rom,multifunction=on,x-vga=on \<br />-device piix4-ide,bus=pcie.0,id=piix4-ide \<br />-drive file=/home/kameloc/windows7/windows7.img,id=disk,format=raw -device ide-hd,bus=piix4-ide.0,drive=disk \<br />-net nic,macaddr=DE:AD:BE:EF:00:00 \<br />-net bridge,br=br0 \<br />-soundhw ac97</p></div></blockquote></div><br /><p>alsa throws a bunch of errors when I call soundhw. Doesn&#039;t work <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="codebox"><pre><code>-soundhw ac97</code></pre></div> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445663">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445678" class="blockpost rowodd"> <h2><span><span class="conr">#2457</span> <a href="viewtopic.php?pid=1445678#p1445678">2014-08-10 20:09:23</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=11204">shazeal</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/11204.jpg?m=1212918678" width="80" height="80" alt="" /></dd> <dd><span>From: New Zealand</span></dd> <dd><span>Registered: 2007-06-05</span></dd> <dd><span>Posts: 339</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=11204">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>penetal wrote:</cite><blockquote><div><p>I am trying to create an audio infterface on the VM, but I end up with the scratchy / crackling sound problem that some others have come across in this thread.</p><p>I tried to set the sample rate and driver for QEMU, but that resulted in the problem becomming 100 times worse so I commented it out.<br />Startup Script:</p><div class="codebox"><pre><code>#!/bin/sh vfio-bind 0000:01:00.0 0000:01:00.1 #export QEMU_PA_SAMPLES=128 #export QEMU_AUDIO_DRV=pa qemu-system-x86_64 -enable-kvm -M q35 -m 10240 -cpu host \ -smp 6,sockets=1,cores=3,threads=2 \ -bios /usr/share/qemu/bios.bin \ -device ioh3420,bus=pcie.0,addr=1c.0,multifunction=on,port=1,chassis=1,id=root.1 \ -device vfio-pci,host=01:00.0,bus=root.1,addr=00.0,multifunction=on,x-vga=on \ -device vfio-pci,host=01:00.1,bus=root.1,addr=00.1 \ -drive file=/home/USER/vm/GamingWindows.img,id=disk,format=raw -device ide-hd,bus=ide.0,drive=disk \ -vga none \ -device ich9-intel-hda,bus=pcie.0,addr=1b.0,id=sound0 \ -device hda-duplex,id=sound0-codec0,bus=sound0.0,cad=0 \ -usb -usbdevice host:046d:c52b \ -monitor stdio</code></pre></div><p>Has anyone been able to solve this problem when those two things didn&#039;t help?</p></div></blockquote></div><p>Browsing through and saw this, no one replied so I thought I would post my solution for crappy audio in qemu <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>First in the /etc/pulse/daemon.conf (or where ever it is on Arch) set these or change the values you have.</p><div class="codebox"><pre><code>default-sample-format = s16le default-sample-rate = 48000 default-fragments = 5 default-fragment-size-msec = 2</code></pre></div><p>This lowers the latency and sets the sample rate to the same as the guest so no resampling is needed.</p><p>Then in your QEMU startup use this...</p><div class="codebox"><pre><code>export QEMU_AUDIO_DRV=pa export QEMU_PA_SAMPLES=1024</code></pre></div><p>The samples value can be tweaked up a bit, but anything under 1024 seems to introduce the choppy audio issue.</p><p>I still get the occasional crackle when the guest cpus are loaded but for the most part sound is flawless.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445678">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445695" class="blockpost roweven"> <h2><span><span class="conr">#2458</span> <a href="viewtopic.php?pid=1445695#p1445695">2014-08-10 20:55:14</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=84238">Mardok45</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-08-10</span></dd> <dd><span>Posts: 5</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I&#039;m running on Gentoo.</p><p>I have successfully passed through an old ATI HD 4850 and a Radeon HD 7470.&#160; These cards have worked great so far, but the one problem is neither are particularly powerful for recent games.&#160; So I tried passing through my NVidia GTX 260 and it pretty much refuses to work.&#160; After installing the drivers, I might be able to boot into a working instance, but after rebooting, Windows permanently BSOD&#039;s, even when not passing through the GPU, and I have to reimage the instance to get it working again.</p><p>Has anyone else had the same experience?&#160; Any suggestions on getting the NVidia card to work?</p><p>If it&#039;s not likely to get a Geforce card working, I&#039;m prepared to buy a Radeon 270X.&#160; I really want to get this working because it will solve a lot of headaches, not just with playing games, but with development work as well.&#160; The problem with that, though, is I haven&#039;t seen anybody confirm that R9 cards work.&#160; I saw a video claiming that it was a 280X working with KVM VGA passthrough, but I haven&#039;t been able to verify it.</p><p>Does anyone have any tips for getting a Geforce card to work with VGA passthrough?&#160; If not, can anybody confirm that Radeon R9 cards work with VGA passthrough?</p><p>EDIT: Well, I tried a clean installation and tried installing the NVidia drivers again, this time I&#039;m getting that infamous Code 43 error.&#160; I&#039;m running on kernel 3.15 with the i915 arbiter patch and vga arbiter patch, and QEMU 2.1.0.</p><p>EDIT 2: Now I&#039;m really confused, I downgraded the NVidia drivers to 275.33 and it&#039;s working.&#160; The &quot;3d business and gaming graphics performance&quot; score is 6.9.&#160; I don&#039;t understand what&#039;s going on.&#160; I&#039;ll install and play Dota 2 and see how the performance compares to native and whether or not the VM is stable during play.</p><p>EDIT 3: The VM is stable, but the performance could be better.&#160; On bare metal, I can play Dota 2 on max.&#160; On a KVM instance, the FPS drops dramatically.&#160; But hey, at least it works.&#160; Now I can at least have a multi-OS workstation.</p><p>EDIT 4: Managed to upgrade the drivers to 334.89, but still having performance problems with Dota 2.</p> <p class="postedit"><em>Last edited by Mardok45 (2014-08-11 02:08:23)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445695">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445809" class="blockpost rowodd"> <h2><span><span class="conr">#2459</span> <a href="viewtopic.php?pid=1445809#p1445809">2014-08-11 04:34:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=11204">shazeal</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/11204.jpg?m=1212918678" width="80" height="80" alt="" /></dd> <dd><span>From: New Zealand</span></dd> <dd><span>Registered: 2007-06-05</span></dd> <dd><span>Posts: 339</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=11204">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Just wanted to thank everyone in this thread, picked up lots of bits and pieces in here. Been testing for days using -vga std. Finally chucked in a second card today and now have a fully armed and operational OSX 10.9.4 guest <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>My setup.</p><p>Gentoo / Custom Kernel 3.16.0 + BFQ / GCC Optimization patches<br />Host: ASUS Nvidia 760 GTX<br />Guest: ASUS AMD 6450<br />CPU: Intel i5 2500 2 cpus in cpuset for guest<br />Memory: 16G, 2G hugetlbfs for guest.<br />Network: -netdev user,hostfwd=tcp::6900-:5900,id=user.0 -device e1000-82545em,netdev=user.0,id=mac_vnet0<br />Sound: Currently using ich9-intel-hda, but will probably switch to a USB stick at some point.<br />Disks: Preallocated qcow2 on SSD.</p><p>Have ordered a KVM Switch so I can just share the host keyboard and mouse and primary monitor. Fingers crossed using -device usb-host,hostbus=x,hostaddr=x assignment should work for the switch.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445809">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445812" class="blockpost roweven"> <h2><span><span class="conr">#2460</span> <a href="viewtopic.php?pid=1445812#p1445812">2014-08-11 04:41:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=11204">shazeal</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/11204.jpg?m=1212918678" width="80" height="80" alt="" /></dd> <dd><span>From: New Zealand</span></dd> <dd><span>Registered: 2007-06-05</span></dd> <dd><span>Posts: 339</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=11204">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Mardok45 wrote:</cite><blockquote><div><p>I&#039;m running on Gentoo.</p><p>I have successfully passed through an old ATI HD 4850 and a Radeon HD 7470.&#160; These cards have worked great so far, but the one problem is neither are particularly powerful for recent games.&#160; So I tried passing through my NVidia GTX 260 and it pretty much refuses to work.&#160; After installing the drivers, I might be able to boot into a working instance, but after rebooting, Windows permanently BSOD&#039;s, even when not passing through the GPU, and I have to reimage the instance to get it working again.</p><p>Has anyone else had the same experience?&#160; Any suggestions on getting the NVidia card to work?</p><p>If it&#039;s not likely to get a Geforce card working, I&#039;m prepared to buy a Radeon 270X.&#160; I really want to get this working because it will solve a lot of headaches, not just with playing games, but with development work as well.&#160; The problem with that, though, is I haven&#039;t seen anybody confirm that R9 cards work.&#160; I saw a video claiming that it was a 280X working with KVM VGA passthrough, but I haven&#039;t been able to verify it.</p><p>Does anyone have any tips for getting a Geforce card to work with VGA passthrough?&#160; If not, can anybody confirm that Radeon R9 cards work with VGA passthrough?</p><p>EDIT: Well, I tried a clean installation and tried installing the NVidia drivers again, this time I&#039;m getting that infamous Code 43 error.&#160; I&#039;m running on kernel 3.15 with the i915 arbiter patch and vga arbiter patch, and QEMU 2.1.0.</p><p>EDIT 2: Now I&#039;m really confused, I downgraded the NVidia drivers to 275.33 and it&#039;s working.&#160; The &quot;3d business and gaming graphics performance&quot; score is 6.9.&#160; I don&#039;t understand what&#039;s going on.&#160; I&#039;ll install and play Dota 2 and see how the performance compares to native and whether or not the VM is stable during play.</p><p>EDIT 3: The VM is stable, but the performance could be better.&#160; On bare metal, I can play Dota 2 on max.&#160; On a KVM instance, the FPS drops dramatically.&#160; But hey, at least it works.&#160; Now I can at least have a multi-OS workstation.</p><p>EDIT 4: Managed to upgrade the drivers to 334.89, but still having performance problems with Dota 2.</p></div></blockquote></div><p>The R9 270X is just a 7870 card rebranded and overclocked, regardless any video card can be passed through its just a PCI redirect afaik. Its upto the guest to support the video card.</p><p>More important than the video card is how are you running CPU/RAM, are you using cgroups and hugetlbfs?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445812">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445814" class="blockpost rowodd"> <h2><span><span class="conr">#2461</span> <a href="viewtopic.php?pid=1445814#p1445814">2014-08-11 04:48:12</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>Mardok45 wrote:</cite><blockquote><div><p>I&#039;m running on Gentoo.</p><p>I have successfully passed through an old ATI HD 4850 and a Radeon HD 7470.&#160; These cards have worked great so far, but the one problem is neither are particularly powerful for recent games.&#160; So I tried passing through my NVidia GTX 260 and it pretty much refuses to work.&#160; After installing the drivers, I might be able to boot into a working instance, but after rebooting, Windows permanently BSOD&#039;s, even when not passing through the GPU, and I have to reimage the instance to get it working again.</p><p>Has anyone else had the same experience?&#160; Any suggestions on getting the NVidia card to work?</p><p>If it&#039;s not likely to get a Geforce card working, I&#039;m prepared to buy a Radeon 270X.&#160; I really want to get this working because it will solve a lot of headaches, not just with playing games, but with development work as well.&#160; The problem with that, though, is I haven&#039;t seen anybody confirm that R9 cards work.&#160; I saw a video claiming that it was a 280X working with KVM VGA passthrough, but I haven&#039;t been able to verify it.</p><p>Does anyone have any tips for getting a Geforce card to work with VGA passthrough?&#160; If not, can anybody confirm that Radeon R9 cards work with VGA passthrough?</p><p>EDIT: Well, I tried a clean installation and tried installing the NVidia drivers again, this time I&#039;m getting that infamous Code 43 error.&#160; I&#039;m running on kernel 3.15 with the i915 arbiter patch and vga arbiter patch, and QEMU 2.1.0.</p><p>EDIT 2: Now I&#039;m really confused, I downgraded the NVidia drivers to 275.33 and it&#039;s working.&#160; The &quot;3d business and gaming graphics performance&quot; score is 6.9.&#160; I don&#039;t understand what&#039;s going on.&#160; I&#039;ll install and play Dota 2 and see how the performance compares to native and whether or not the VM is stable during play.</p><p>EDIT 3: The VM is stable, but the performance could be better.&#160; On bare metal, I can play Dota 2 on max.&#160; On a KVM instance, the FPS drops dramatically.&#160; But hey, at least it works.&#160; Now I can at least have a multi-OS workstation.</p><p>EDIT 4: Managed to upgrade the drivers to 334.89, but still having performance problems with Dota 2.</p></div></blockquote></div><p>Add kvm=off to the -cpu parameter list to make current Nvidia driver not get Code 43.&#160; Also add hv_time to enable hypver-v enlightened time keeping.&#160; Older kernels can have poor performance if the game makes use of debug registers, run something new.&#160; Hugepages, pinning, and vCPU model tuning also help.&#160; All of this is documented in the very, very long thread.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445814">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445826" class="blockpost roweven"> <h2><span><span class="conr">#2462</span> <a href="viewtopic.php?pid=1445826#p1445826">2014-08-11 05:39:39</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@mardok45 check your cpu config</p><p>&#160; &#160; &lt;topology sockets=&#039;1&#039; cores=&#039;4&#039; threads=&#039;1&#039;/&gt;</p><p>if u set 2 cores 2 threads dota works 2x slower, also check your cpu model, hvtime option... etc... host cpufreq settings....</p> <p class="postedit"><em>Last edited by slis (2014-08-11 05:40:22)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445826">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445893" class="blockpost rowodd"> <h2><span><span class="conr">#2463</span> <a href="viewtopic.php?pid=1445893#p1445893">2014-08-11 10:51:00</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I have 3 GPUs:</p><p>Passing through either GPU works flawlessly at any time.<br />Passing through two GPUs <strong>at the same time</strong> does not work.</p><p>Im using Ubuntu 14.04 with no &quot;patches&quot; whatsoever. What could be the problem? </p><p>The error is:<br />vfio: error opening /dev/vfio/1: Device or resource busy<br />vfio: failed to get group 1<br />Device initialization failed.<br />Device &#039;vfio-pci&#039; could not be initialized</p><p>If I shutdown the other VM and start the one getting error at the moment, it works and then the one that works at the moment is getting the same error. They don&#039;t work at the same time in 2 different VMs.<br />I added &quot;/dev/vfio/1&quot; to /etc/libvirt/qemu.conf and &quot;relaxed_acs_check = 1&quot;.</p><p>Please help!!</p><p>EDIT: When I start 2nd VM its always getting &quot;vfio: failed to get group 1&quot;, thats why I added &quot;/dev/vfio/1 to the qemu.conf. Should I do something else? Please help!</p> <p class="postedit"><em>Last edited by devianceluka (2014-08-11 10:52:41)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445893">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445929" class="blockpost roweven"> <h2><span><span class="conr">#2464</span> <a href="viewtopic.php?pid=1445929#p1445929">2014-08-11 12:24:41</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>I have 3 GPUs:</p><p>Passing through either GPU works flawlessly at any time.<br />Passing through two GPUs <strong>at the same time</strong> does not work.</p><p>Im using Ubuntu 14.04 with no &quot;patches&quot; whatsoever. What could be the problem?</p></div></blockquote></div><p>ACS override patch...</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445929">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445941" class="blockpost rowodd"> <h2><span><span class="conr">#2465</span> <a href="viewtopic.php?pid=1445941#p1445941">2014-08-11 13:02:48</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>I have 3 GPUs:</p><p>Passing through either GPU works flawlessly at any time.<br />Passing through two GPUs <strong>at the same time</strong> does not work.</p><p>Im using Ubuntu 14.04 with no &quot;patches&quot; whatsoever. What could be the problem?</p></div></blockquote></div><p>ACS override patch...</p></div></blockquote></div><p>Thank you.</p><p>Doing this command at the moment:<br />sudo patch -p1 override_for_missing_acs_capabilities.patch</p><p>Is this the right command? This machine is booting from a VERY slow USB drive (but it works..), VMs are on fast iSCSI. Is this command &quot;compiling/building&quot; anything? If it is, I guess this will take forever in this situation if I&#039;m not mistaken. After this command there is an empty line after and don&#039;t know if its doing anything or not..?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445941">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445963" class="blockpost roweven"> <h2><span><span class="conr">#2466</span> <a href="viewtopic.php?pid=1445963#p1445963">2014-08-11 14:12:47</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>I have 3 GPUs:</p><p>Passing through either GPU works flawlessly at any time.<br />Passing through two GPUs <strong>at the same time</strong> does not work.</p><p>Im using Ubuntu 14.04 with no &quot;patches&quot; whatsoever. What could be the problem?</p></div></blockquote></div><p>ACS override patch...</p></div></blockquote></div><p>Thank you.</p><p>Doing this command at the moment:<br />sudo patch -p1 override_for_missing_acs_capabilities.patch</p><p>Is this the right command?</p></div></blockquote></div><p>No, patch takes the diff file on stdin: <a href="http://jungels.net/articles/diff-patch-ten-minutes.html" rel="nofollow">http://jungels.net/articles/diff-patch-ten-minutes.html</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445963">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445971" class="blockpost rowodd"> <h2><span><span class="conr">#2467</span> <a href="viewtopic.php?pid=1445971#p1445971">2014-08-11 14:40:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82442">slis</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-02</span></dd> <dd><span>Posts: 125</span></dd> <dd class="usercontacts"><span class="email"><a href="mailto:xslisx@gmail.com">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>@aw </p><p>one question pls <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>what are options for clock or what clock to use on windows guest to make it &quot;tight&quot; or something like that, i get this weird problem after 30 or 60mins clock on vm is re/set or smth, cause when streaming games logs show frame time in -12312435ms expected is 20-50ms, and it starts to lag, it shows estimated bandwith like 10-40mbps (expected is 400-1000) in steam stats on 1gbps lan (alt-tab, copy-paste at same time 100MB/s) etc.... maybe cause of high cpu load? clock lags?</p><p>i did try couple of options that i found here/on internet, but nothing seems to make it go away completely. </p><p>problem it is happening after 30mins so its pain to wait for it <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>does hwclock need to be in sync with os clock? </p><br /><p>thx</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445971">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445985" class="blockpost roweven"> <h2><span><span class="conr">#2468</span> <a href="viewtopic.php?pid=1445985#p1445985">2014-08-11 15:38:44</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>ACS override patch...</p></div></blockquote></div><p>Thank you.</p><p>Doing this command at the moment:<br />sudo patch -p1 override_for_missing_acs_capabilities.patch</p><p>Is this the right command?</p></div></blockquote></div><p>No, patch takes the diff file on stdin: <a href="http://jungels.net/articles/diff-patch-ten-minutes.html" rel="nofollow">http://jungels.net/articles/diff-patch-ten-minutes.html</a></p></div></blockquote></div><p>You got me all clueless now.. What should I do exactly? Im running Ubuntu 14.04 upgraded everything to the latest. If you could please write those lines down I would really appreciate it.. Please</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445985">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445987" class="blockpost rowodd"> <h2><span><span class="conr">#2469</span> <a href="viewtopic.php?pid=1445987#p1445987">2014-08-11 15:53:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>Thank you.</p><p>Doing this command at the moment:<br />sudo patch -p1 override_for_missing_acs_capabilities.patch</p><p>Is this the right command?</p></div></blockquote></div><p>No, patch takes the diff file on stdin: <a href="http://jungels.net/articles/diff-patch-ten-minutes.html" rel="nofollow">http://jungels.net/articles/diff-patch-ten-minutes.html</a></p></div></blockquote></div><p>You got me all clueless now.. What should I do exactly? Im running Ubuntu 14.04 upgraded everything to the latest. If you could please write those lines down I would really appreciate it.. Please</p></div></blockquote></div><p>all the stuff discussed in the thread is still experimental<br />not everything is working, and what is working at the moment may require great amount of grinding to get it to work</p><p>so, you either get to catch-up on basic stuff yourself, or just wait for all the functionality to mature enough not to be considered experimental</p><p>people here are too busy fighting non-trivial stuff (==trying to make things more mature) - please consider possibility of not wasting their time to try to explain to you how to patch kernel and why it is needed at all (or anything else that is &quot;entry-level&quot;)</p><p>p.s. you could start by reading all the thread posts (while googling how to do all the stuff you dont understand) - yes, the thread is pretty long, but there are people here whose time is much more valuable for overall progress than yours or mine is (maturing general vt-d support is much more important than getting your stuff to work)</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445987">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445991" class="blockpost roweven"> <h2><span><span class="conr">#2470</span> <a href="viewtopic.php?pid=1445991#p1445991">2014-08-11 16:05:09</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>sinny wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>No, patch takes the diff file on stdin: <a href="http://jungels.net/articles/diff-patch-ten-minutes.html" rel="nofollow">http://jungels.net/articles/diff-patch-ten-minutes.html</a></p></div></blockquote></div><p>You got me all clueless now.. What should I do exactly? Im running Ubuntu 14.04 upgraded everything to the latest. If you could please write those lines down I would really appreciate it.. Please</p></div></blockquote></div><p>all the stuff discussed in the thread is still experimental<br />not everything is working, and what is working at the moment may require great amount of grinding to get it to work</p><p>so, you either get to catch-up on basic stuff yourself, or just wait for all the functionality to mature enough not to be considered experimental</p><p>people here are too busy fighting non-trivial stuff (==trying to make things more mature) - please consider possibility of not wasting their time to try to explain to you how to patch kernel and why it is needed at all (or anything else that is &quot;entry-level&quot;)</p><p>p.s. you could start by reading all the thread posts (while googling how to do all the stuff you dont understand) - yes, the thread is pretty long, but there are people here whose time is much more valuable for overall progress than yours or mine is (maturing general vt-d support is much more important than getting your stuff to work)</p></div></blockquote></div><p>I understand that and I really respect all the work. But if someone got the time to explain a newbie here how to apply this patch, it would be awesome. Do I need the kernel source to do it? Do I need to compile kernel? Or it can be done to the existing kernel? If someone got the time I would really appreciate it.</p><p>EDIT: Especially that I got that far that I only need this patch do finish... It would be a real shame if noone got a minute to write down.. <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p> <p class="postedit"><em>Last edited by devianceluka (2014-08-11 16:08:59)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445991">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445996" class="blockpost rowodd"> <h2><span><span class="conr">#2471</span> <a href="viewtopic.php?pid=1445996#p1445996">2014-08-11 16:30:26</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><div class="quotebox"><cite>sinny wrote:</cite><blockquote><div><div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>You got me all clueless now.. What should I do exactly? Im running Ubuntu 14.04 upgraded everything to the latest. If you could please write those lines down I would really appreciate it.. Please</p></div></blockquote></div><p>all the stuff discussed in the thread is still experimental<br />not everything is working, and what is working at the moment may require great amount of grinding to get it to work</p><p>so, you either get to catch-up on basic stuff yourself, or just wait for all the functionality to mature enough not to be considered experimental</p><p>people here are too busy fighting non-trivial stuff (==trying to make things more mature) - please consider possibility of not wasting their time to try to explain to you how to patch kernel and why it is needed at all (or anything else that is &quot;entry-level&quot;)</p><p>p.s. you could start by reading all the thread posts (while googling how to do all the stuff you dont understand) - yes, the thread is pretty long, but there are people here whose time is much more valuable for overall progress than yours or mine is (maturing general vt-d support is much more important than getting your stuff to work)</p></div></blockquote></div><p>I understand that and I really respect all the work. But if someone got the time to explain a newbie here how to apply this patch, it would be awesome. Do I need the kernel source to do it? Do I need to compile kernel? Or it can be done to the existing kernel? If someone got the time I would really appreciate it.</p><p>EDIT: Especially that I got that far that I only need this patch do finish... It would be a real shame if noone got a minute to write down.. :(</p></div></blockquote></div><p>well, sorry to mention that, but you got abslutely nowhere (no way there is some &quot;that far&quot; you are implying) if you neither dont understand the very basics (things discussed here are much much more complex), nor got desire to explore things yourself</p><p>is it some kind of shame to google for something like &quot;ubuntu patching kernel&quot;? this way you only &quot;waste&quot; your own time. but no, somehow it seems like you prefer to waste your own AND someone else&#039;s time to explain to you things that are written about multiple times all over the internet</p><p>upd:<br />now me gracefully stops doing this holy-war-like thing. i have only one thing to add: respect other peoples&#039; time and work more than your own</p> <p class="postedit"><em>Last edited by sinny (2014-08-11 16:32:25)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445996">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1445998" class="blockpost roweven"> <h2><span><span class="conr">#2472</span> <a href="viewtopic.php?pid=1445998#p1445998">2014-08-11 16:33:55</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>EDIT: Especially that I got that far that I only need this patch do finish... It would be a real shame if noone got a minute to write down.. <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></div></blockquote></div><p>It&#039;s already been written down if you&#039;d check.&#160; Maybe start with <a href="http://kernelnewbies.org/" rel="nofollow">http://kernelnewbies.org/</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1445998">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1446049" class="blockpost rowodd"> <h2><span><span class="conr">#2473</span> <a href="viewtopic.php?pid=1446049#p1446049">2014-08-11 18:52:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Well, I got Ubuntu 14.04 LTS, everything worked great, until I broke the system in order to ( I bought a new card, GTX 760..) getting rid of error 43, which I did! in debian tested! yet everything worked great, until I started copying and pasting cos I freaked out, yet I solved the error, but guss what, the system freeze after a guest starts. Now I&#039;m looking forward for linux mint 17, hope to get everything sorted out this time!.</p><p>notes to new folks: it is easy ! just take the time and read here and there, which... will take long time, but knowledged is good.</p><p>Edit:</p><p>I tested Qemu 2.1.0, it includes the kvm=off patch, no need to re-compile!.</p> <p class="postedit"><em>Last edited by abdullah (2014-08-11 18:55:11)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1446049">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1446055" class="blockpost roweven"> <h2><span><span class="conr">#2474</span> <a href="viewtopic.php?pid=1446055#p1446055">2014-08-11 19:10:59</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82117">devianceluka</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-19</span></dd> <dd><span>Posts: 43</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>I think I got it how to compile the kernel, read few guides.</p><p>What I now get is this:</p><p>sudo patch -p1 &lt; override_for_missing_acs_capabilities.patch<br />patching file Documentation/kernel-parameters.txt<br />Hunk #1 succeeded at 2490 with fuzz 1 (offset -64 lines).<br />patching file drivers/pci/quirks.c<br />Hunk #1 succeeded at 3394 (offset 10 lines).<br />Hunk #2 succeeded at 3539 with fuzz 1 (offset -45 lines).<br />Hunk #3 FAILED at 3597.<br />1 out of 3 hunks FAILED -- saving rejects to file drivers/pci/quirks.c.rej</p><p>Could anyone please tell me what I&#039;m doing wrong? The kernel I got is: &quot;linux-image-3.13.0-32-generic&quot; which I got with &quot;sudo apt-get source linux-image-`uname -r`&quot;</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1446055">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1446072" class="blockpost rowodd"> <h2><span><span class="conr">#2475</span> <a href="viewtopic.php?pid=1446072#p1446072">2014-08-11 19:51:38</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>devianceluka wrote:</cite><blockquote><div><p>I think I got it how to compile the kernel, read few guides.</p><p>What I now get is this:</p><p>sudo patch -p1 &lt; override_for_missing_acs_capabilities.patch<br />patching file Documentation/kernel-parameters.txt<br />Hunk #1 succeeded at 2490 with fuzz 1 (offset -64 lines).<br />patching file drivers/pci/quirks.c<br />Hunk #1 succeeded at 3394 (offset 10 lines).<br />Hunk #2 succeeded at 3539 with fuzz 1 (offset -45 lines).<br />Hunk #3 FAILED at 3597.<br />1 out of 3 hunks FAILED -- saving rejects to file drivers/pci/quirks.c.rej</p><p>Could anyone please tell me what I&#039;m doing wrong? The kernel I got is: &quot;linux-image-3.13.0-32-generic&quot; which I got with &quot;sudo apt-get source linux-image-`uname -r`&quot;</p></div></blockquote></div><p>patches fail to apply if source code is significantly different compared to source the patch was originally made for<br />there are several versions of every patch spread throughout the thread</p><p>i may be wrong, but it seems to me that currently most people here use 3.15.x-3.16.x kernels</p> <p class="postedit"><em>Last edited by sinny (2014-08-11 19:52:23)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1446072">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=98">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=97">97</a> <a href="viewtopic.php?id=162768&amp;p=98">98</a> <strong>99</strong> <a href="viewtopic.php?id=162768&amp;p=100">100</a> <a href="viewtopic.php?id=162768&amp;p=101">101</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=100">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
