<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <title>KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9 (Page 82) / Topics Going Nowhere / Arch Linux Forums</title> <link rel="stylesheet" type="text/css" href="style/ArchLinux.css" /> <link rel="canonical" href="viewtopic.php?id=162768&amp;p=82" title="Page 82" /> <link rel="prev" href="viewtopic.php?id=162768&amp;p=81" title="Page 81" /> <link rel="next" href="viewtopic.php?id=162768&amp;p=83" title="Page 83" /> <link rel="alternate" type="application/atom+xml" href="extern.php?action=feed&amp;tid=162768&amp;type=atom" title="Atom topic feed" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/arch.css?v=3" /> <link rel="stylesheet" media="screen" href="style/ArchLinux/archnavbar.css?v=2" /> <link rel="shortcut icon" href="style/ArchLinux/favicon.ico" /> </head> <body> <div id="archnavbar" class="anb-forum"> <div id="archnavbarlogo"><h1><a href="http://www.archlinux.org/">Arch Linux</a></h1></div> <div id="archnavbarmenu"> <ul id="archnavbarlist"> <li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums" class="anb-selected"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li> </ul> </div> </div> <div id="punviewtopic" class="pun"> <div class="top-box"></div> <div class="punwrap"> <div id="brdheader" class="block"> <div class="box"> <div id="brdmenu" class="inbox"> <ul> <li id="navindex" class="isactive"><a href="index.php">Index</a></li> <li id="navuserlist"><a href="userlist.php">User list</a></li> <li id="navsearch"><a href="search.php">Search</a></li> <li id="navprofile"><a href="profile.php?id=80749">Profile</a></li> <li id="navlogout"><a href="login.php?action=out&amp;id=80749&amp;csrf_token=5c20501ec397bb45ef8ee8c84db232c8d8e421c6">Logout</a></li> </ul> </div> <div id="brdwelcome" class="inbox"> <ul class="conl"> <li><span>Logged in as <strong>SXX</strong></span></li> <li><span>Last visit: 2015-08-16 12:20:09</span></li> </ul> <ul class="conr"> <li><span>Topics: <a href="search.php?action=show_replies" title="Find topics you have posted to.">Posted</a> | <a href="search.php?action=show_new" title="Find topics with new posts since your last visit.">New</a> | <a href="search.php?action=show_recent" title="Find topics with recent posts.">Active</a> | <a href="search.php?action=show_unanswered" title="Find topics with no replies.">Unanswered</a></span></li> </ul> <div class="clearer"></div> </div> </div> </div> <div id="brdmain"> <div class="linkst"> <div class="inbox crumbsplus"> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=81">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=80">80</a> <a href="viewtopic.php?id=162768&amp;p=81">81</a> <strong>82</strong> <a href="viewtopic.php?id=162768&amp;p=83">83</a> <a href="viewtopic.php?id=162768&amp;p=84">84</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=83">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <div class="clearer"></div> </div> </div> <div id="p1424265" class="blockpost rowodd blockpost1"> <h2><span><span class="conr">#2026</span> <a href="viewtopic.php?pid=1424265#p1424265">2014-06-10 14:41:51</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=60514">ttouch</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: /dev/null</span></dd> <dd><span>Registered: 2012-05-27</span></dd> <dd><span>Posts: 129</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=60514">Email</a></span> <span class="website"><a href="http://dzervas.gr" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello,</p><p>I get &quot;vfio: error no iommu_group for device&quot;<br />Tell me what logs you need to help me please <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://github.com/ttouch" rel="nofollow">GitHub</a> | <a href="http://git.dzervas.gr" rel="nofollow">Git Server</a> | <a href="http://dzervas.gr" rel="nofollow">Blog</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424265">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424271" class="blockpost roweven"> <h2><span><span class="conr">#2027</span> <a href="viewtopic.php?pid=1424271#p1424271">2014-06-10 14:54:08</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>Hello,</p><p>I get &quot;vfio: error no iommu_group for device&quot;<br />Tell me what logs you need to help me please <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>1) Check whether IOMMU is properly enabled </p><div class="codebox"><pre><code>dmesg | grep -e DMAR -e IOMMU</code></pre></div><p> for Intel or </p><div class="codebox"><pre><code>dmesg | grep AMD-Vi</code></pre></div><p> for AMD. If there is no output it may not be enabled in BIOS (check if it is), may not be enabled for your kernel (ensure you have </p><div class="codebox"><pre><code>intel_iommu=on</code></pre></div><p> for Intel or </p><div class="codebox"><pre><code>iommu=pt iommu=1</code></pre></div><p> as kernel parameter. All this assuming your CPU and motherboard do support VT-d. Feel free to provide more detail and the output of dmesg.</p><p>2) Check whether your device is bound to vfio-pci. </p><div class="codebox"><pre><code>ls /sys/bus/pci/drivers/vfio-pci | grep 0000</code></pre></div><p> will list the devices currently bound to vfio-pci, confirm that your device is there. If it is not, have a look at the steps listed in the first post. Feel free to provide more detail on how you are binding your device. </p><p>That&#039;s all I can think of but maybe there&#039;s other more knowledgeable persons here that can offer more advice.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424271">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424281" class="blockpost rowodd"> <h2><span><span class="conr">#2028</span> <a href="viewtopic.php?pid=1424281#p1424281">2014-06-10 15:08:11</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>Hello,</p><p>I get &quot;vfio: error no iommu_group for device&quot;<br />Tell me what logs you need to help me please <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>Most importantly, check that your CPU supports an IOMMU.&#160; If it&#039;s Intel, check the features on ark, <a href="http://ark.intel.com" rel="nofollow">http://ark.intel.com</a></p> <p class="postedit"><em>Last edited by aw (2014-06-10 15:08:28)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424281">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424298" class="blockpost roweven"> <h2><span><span class="conr">#2029</span> <a href="viewtopic.php?pid=1424298#p1424298">2014-06-10 15:50:30</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=60514">ttouch</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: /dev/null</span></dd> <dd><span>Registered: 2012-05-27</span></dd> <dd><span>Posts: 129</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=60514">Email</a></span> <span class="website"><a href="http://dzervas.gr" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>Hello,</p><p>I get &quot;vfio: error no iommu_group for device&quot;<br />Tell me what logs you need to help me please <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>1) Check whether IOMMU is properly enabled </p><div class="codebox"><pre><code>dmesg | grep -e DMAR -e IOMMU</code></pre></div><p> for Intel or </p><div class="codebox"><pre><code>dmesg | grep AMD-Vi</code></pre></div><p> for AMD. If there is no output it may not be enabled in BIOS (check if it is), may not be enabled for your kernel (ensure you have </p><div class="codebox"><pre><code>intel_iommu=on</code></pre></div><p> for Intel or </p><div class="codebox"><pre><code>iommu=pt iommu=1</code></pre></div><p> as kernel parameter. All this assuming your CPU and motherboard do support VT-d. Feel free to provide more detail and the output of dmesg.</p><p>2) Check whether your device is bound to vfio-pci. </p><div class="codebox"><pre><code>ls /sys/bus/pci/drivers/vfio-pci | grep 0000</code></pre></div><p> will list the devices currently bound to vfio-pci, confirm that your device is there. If it is not, have a look at the steps listed in the first post. Feel free to provide more detail on how you are binding your device. </p><p>That&#039;s all I can think of but maybe there&#039;s other more knowledgeable persons here that can offer more advice.</p></div></blockquote></div><p>Yea, you&#039;re right. I got on dmesg after trying to vfio-bind: &quot;vfio-pci: probe of 0000:02:00.0 failed with error -22&quot;</p><p>I can&#039;t find if my CPU supports IOMMU (I am from mobile). It&#039;s i7 3820. I think it supports it <img src="https://bbs.archlinux.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>EDIT: I booted with &quot;intel_iommu=on&quot; and the device binds. Now, I just get a blank screen in qemu. is that normal? (I use the test qemu command you provided)</p><p>EDIT2: I added a cdrom device (entry you provided) and still blank screen. I booted with this &quot;kvm_intel.emulate_invalid_guest_state=0&quot; bit nothing changed (kvm_intel is built in).</p> <p class="postedit"><em>Last edited by ttouch (2014-06-10 16:19:02)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://github.com/ttouch" rel="nofollow">GitHub</a> | <a href="http://git.dzervas.gr" rel="nofollow">Git Server</a> | <a href="http://dzervas.gr" rel="nofollow">Blog</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424298">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424329" class="blockpost rowodd"> <h2><span><span class="conr">#2030</span> <a href="viewtopic.php?pid=1424329#p1424329">2014-06-10 16:43:56</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79471">Bronek</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: London</span></dd> <dd><span>Registered: 2014-02-14</span></dd> <dd><span>Posts: 90</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79471">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>I can&#039;t find if my CPU supports IOMMU (I am from mobile). It&#039;s i7 3820. I think it supports it <img src="https://bbs.archlinux.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>EDIT: I booted with &quot;intel_iommu=on&quot; and the device binds. Now, I just get a blank screen in qemu. is that normal? (I use the test qemu command you provided)</p></div></blockquote></div><p>Yes <a href="http://ark.intel.com/products/63698/Intel-Core-i7-3820-Processor-10M-Cache-up-to-3_80-GHz" rel="nofollow">http://ark.intel.com/products/63698/Int … o-3_80-GHz</a> i7 3820 supports VT-d.</p><p>Blank screen is kind of normal, extra magic dust is needed for SeaBIOS to output to passed-through card (I do not remember what it was). If you booted valid OS boot image, the screen should show it. I recommend some Linux live CD, these take care to initialise the right set of drivers.</p> </div> <div class="postsignature postmsg"><hr /><p>Sorry about&#160; &quot;KVM VGA-Passthrough ...&quot; thread <img src="https://bbs.archlinux.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> Anyone interested in continuing this discussion elsewhere, please contact me privately. I might be able to find it a new home.</p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424329">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424332" class="blockpost roweven"> <h2><span><span class="conr">#2031</span> <a href="viewtopic.php?pid=1424332#p1424332">2014-06-10 16:47:57</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=60514">ttouch</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: /dev/null</span></dd> <dd><span>Registered: 2012-05-27</span></dd> <dd><span>Posts: 129</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=60514">Email</a></span> <span class="website"><a href="http://dzervas.gr" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>YES! IT WORKS! <img src="https://bbs.archlinux.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />thank you very much <img src="https://bbs.archlinux.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />I&#039;ll report if more errors appear</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://github.com/ttouch" rel="nofollow">GitHub</a> | <a href="http://git.dzervas.gr" rel="nofollow">Git Server</a> | <a href="http://dzervas.gr" rel="nofollow">Blog</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424332">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424354" class="blockpost rowodd"> <h2><span><span class="conr">#2032</span> <a href="viewtopic.php?pid=1424354#p1424354">2014-06-10 17:22:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=60514">ttouch</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: /dev/null</span></dd> <dd><span>Registered: 2012-05-27</span></dd> <dd><span>Posts: 129</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=60514">Email</a></span> <span class="website"><a href="http://dzervas.gr" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Is there any way to pivot the keyboard and mouse between host and guest?<br />Ultimately with one of the function keys of my Razer blackwidow ultimate.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://github.com/ttouch" rel="nofollow">GitHub</a> | <a href="http://git.dzervas.gr" rel="nofollow">Git Server</a> | <a href="http://dzervas.gr" rel="nofollow">Blog</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424354">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424369" class="blockpost roweven"> <h2><span><span class="conr">#2033</span> <a href="viewtopic.php?pid=1424369#p1424369">2014-06-10 17:45:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=79237">mbroemme</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: Cologne</span></dd> <dd><span>Registered: 2014-02-05</span></dd> <dd><span>Posts: 39</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=79237">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>Is there any way to pivot the keyboard and mouse between host and guest?<br />Ultimately with one of the function keys of my Razer blackwidow ultimate.</p></div></blockquote></div><p>Try Synergy <a href="http://synergy-project.org/" rel="nofollow">http://synergy-project.org/</a> I&#039;m using the server on my Linux host and client on Windows VM.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424369">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424374" class="blockpost rowodd"> <h2><span><span class="conr">#2034</span> <a href="viewtopic.php?pid=1424374#p1424374">2014-06-10 17:53:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=60514">ttouch</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>From: /dev/null</span></dd> <dd><span>Registered: 2012-05-27</span></dd> <dd><span>Posts: 129</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=60514">Email</a></span> <span class="website"><a href="http://dzervas.gr" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>mbroemme wrote:</cite><blockquote><div><div class="quotebox"><cite>ttouch wrote:</cite><blockquote><div><p>Is there any way to pivot the keyboard and mouse between host and guest?<br />Ultimately with one of the function keys of my Razer blackwidow ultimate.</p></div></blockquote></div><p>Try Synergy <a href="http://synergy-project.org/" rel="nofollow">http://synergy-project.org/</a> I&#039;m using the server on my Linux host and client on Windows VM.</p></div></blockquote></div><p>Thank you. I&#039;ll try it.</p><p>Also, can I boot my UEFI windows 8 installation (separate partition).</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://github.com/ttouch" rel="nofollow">GitHub</a> | <a href="http://git.dzervas.gr" rel="nofollow">Git Server</a> | <a href="http://dzervas.gr" rel="nofollow">Blog</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424374">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424387" class="blockpost roweven"> <h2><span><span class="conr">#2035</span> <a href="viewtopic.php?pid=1424387#p1424387">2014-06-10 18:19:54</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <p>Hello,<br />I&#039;m trying to Passthrough 2 GPUS to 2 diffrent Vm&#039;s, here is my specification &quot;this the aim of this PC&quot;:</p><p><strong>Motherboard : Asus z97-A<br />CPU: i7-4790<br />VGA at PCI-E x8 1: GeForce 8500 GT<br />VGA at PCI-E x8 2: Radeon HD 4870</strong><br />Ram: 16 Gb Kingston 1600 Mhz<br />OS: Linux Mint 17 Qiana<br />Kernel : 3.15 RC2.<br />The GPU&#039;s, are a bit old (Yet the radeon still support every new game out there!), looking to upgrade according to the success.</p><p>I saw a post mentioning the drop of speed for PCI-E 3, I need to note, yes that&#039;s true, if the first PCI-Ex3 was populated you will get x16 speed, if 2 PCI-Ex3 are populated you will get x8 the speed, I don&#039;t know about using the 3 slots, but the speed will either drop or it won&#039;t work, that&#039;s for my motherboard at least.</p><p>Both my CPU and motherboard support VT-d,<br />I have enabled the support for 1) &quot;intel virtualization technology&quot;, 2) &quot;VT-d&quot; and forced 3) &quot;intel graphic&quot; so, I do not need to block the driver&#039;s in the host &gt;&gt; right ?<br />I plan to use RMD &quot;Remote Desktop&quot; for connecting to the Vm&#039;s through the network, so I do not need any USB passthrough.</p><p>now... I need some help to start passing the GPU&#039;s...</p><div class="quotebox"><cite>novist wrote:</cite><blockquote><div><p>Now i could make it all work with stock (from repos, no recompiling) software available:<br />Kernel: 3.15 (no patches)<br />Qemu 2.0.0<br />libvirt 1.2.2<br />virt-manager 1.0.1</p><p>CPU AMD FX(tm)-8350 Eight-Core Processor<br />GPU radeon R9 270X<br />Motherboard SABERTOOTH 990FX R2.0</p><p>This is on linux mint 17 (based on ubuntu 14.04 LTS). For libvirt i used default pc chipset (no manual xml editing!). Using emulated GPU for booting, OS switches to physical GPU later on during boot. Good to finally see this work without much hackery. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>Could you please detail the booting step ?</p><p>What I&#039;v done so far installing the independents ( Qemu 2.0.0, libvirt, virt-manager ), and asking above.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424387">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424395" class="blockpost rowodd"> <h2><span><span class="conr">#2036</span> <a href="viewtopic.php?pid=1424395#p1424395">2014-06-10 18:33:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><div class="quotebox"><cite>novist wrote:</cite><blockquote><div><p>Now i could make it all work with stock (from repos, no recompiling) software available:<br />Kernel: 3.15 (no patches)<br />Qemu 2.0.0<br />libvirt 1.2.2<br />virt-manager 1.0.1</p><p>CPU AMD FX(tm)-8350 Eight-Core Processor<br />GPU radeon R9 270X<br />Motherboard SABERTOOTH 990FX R2.0</p><p>This is on linux mint 17 (based on ubuntu 14.04 LTS). For libvirt i used default pc chipset (no manual xml editing!). Using emulated GPU for booting, OS switches to physical GPU later on during boot. Good to finally see this work without much hackery. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>Could you please detail the booting step ?</p><p>What I&#039;v done so far installing the independents ( Qemu 2.0.0, libvirt, virt-manager ), and asking above.</p></div></blockquote></div><p>Please do not expect novist&#039;s setup to work for you.&#160; Some people have had luck using secondary device passthrough with AMD cards, others have not.&#160; It will certainly not work for your NVIDIA card unless you plan to upgrade to a Quadro card.&#160; The most successful method is VGA assignment, for which you&#039;ll at a minimum need to patch your kernel with the i915 patch.&#160; You may also need the ACS override patch unless you can configure your cards to be in separate IOMMU groups by switching to different slots.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424395">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424397" class="blockpost roweven"> <h2><span><span class="conr">#2037</span> <a href="viewtopic.php?pid=1424397#p1424397">2014-06-10 18:40:03</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><div class="quotebox"><cite>novist wrote:</cite><blockquote><div><p>Now i could make it all work with stock (from repos, no recompiling) software available:<br />Kernel: 3.15 (no patches)<br />Qemu 2.0.0<br />libvirt 1.2.2<br />virt-manager 1.0.1</p><p>CPU AMD FX(tm)-8350 Eight-Core Processor<br />GPU radeon R9 270X<br />Motherboard SABERTOOTH 990FX R2.0</p><p>This is on linux mint 17 (based on ubuntu 14.04 LTS). For libvirt i used default pc chipset (no manual xml editing!). Using emulated GPU for booting, OS switches to physical GPU later on during boot. Good to finally see this work without much hackery. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></div></blockquote></div><p>Could you please detail the booting step ?</p><p>What I&#039;v done so far installing the independents ( Qemu 2.0.0, libvirt, virt-manager ), and asking above.</p></div></blockquote></div><p>Please do not expect novist&#039;s setup to work for you.&#160; Some people have had luck using secondary device passthrough with AMD cards, others have not.&#160; It will certainly not work for your NVIDIA card unless you plan to upgrade to a Quadro card.&#160; The most successful method is VGA assignment, for which you&#039;ll at a minimum need to patch your kernel with the i915 patch.&#160; You may also need the ACS override patch unless you can configure your cards to be in separate IOMMU groups by switching to different slots.</p></div></blockquote></div><p>From the first post &quot;3.15 includes acs override patch, i935 vga arbiter fixes&quot;, the patch is already applied, isn&#039;t it ?<br />it only needs to work,</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424397">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424398" class="blockpost rowodd"> <h2><span><span class="conr">#2038</span> <a href="viewtopic.php?pid=1424398#p1424398">2014-06-10 18:43:17</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><p>From the first post &quot;3.15 includes acs override patch, i935 vga arbiter fixes&quot;, the patch is already applied, isn&#039;t it ?<br />it only needs to work,</p></div></blockquote></div><p>No, that comment is really poorly worded.&#160; It&#039;s describing the tgz file, not what&#039;s upstream.&#160; Linux 3.15 proper does not include the ACS override patch or the i915 VGA arbiter patch.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424398">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424410" class="blockpost roweven"> <h2><span><span class="conr">#2039</span> <a href="viewtopic.php?pid=1424410#p1424410">2014-06-10 19:08:37</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82643">abdullah</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-06-10</span></dd> <dd><span>Posts: 33</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><p>From the first post &quot;3.15 includes acs override patch, i935 vga arbiter fixes&quot;, the patch is already applied, isn&#039;t it ?<br />it only needs to work,</p></div></blockquote></div><p>No, that comment is really poorly worded.&#160; It&#039;s describing the tgz file, not what&#039;s upstream.&#160; Linux 3.15 proper does not include the ACS override patch or the i915 VGA arbiter patch.</p></div></blockquote></div><p>Oh...</p><p>how about my other configuration ? Since I forced the using integrated intel HD4600, Do I still need to block the drivers for the other cards ?</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424410">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424414" class="blockpost rowodd"> <h2><span><span class="conr">#2040</span> <a href="viewtopic.php?pid=1424414#p1424414">2014-06-10 19:14:25</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><div class="quotebox"><cite>abdullah wrote:</cite><blockquote><div><p>From the first post &quot;3.15 includes acs override patch, i935 vga arbiter fixes&quot;, the patch is already applied, isn&#039;t it ?<br />it only needs to work,</p></div></blockquote></div><p>No, that comment is really poorly worded.&#160; It&#039;s describing the tgz file, not what&#039;s upstream.&#160; Linux 3.15 proper does not include the ACS override patch or the i915 VGA arbiter patch.</p></div></blockquote></div><p>Oh...</p><p>how about my other configuration ? Since I forced the using integrated intel HD4600, Do I still need to block the drivers for the other cards ?</p></div></blockquote></div><p>I don&#039;t really know what you mean by &quot;forced intel graphic&quot;, but I assume that just means setting Intel as the primary display for the host.&#160; In that case, yes you still need to prevent nouveau/radeon from binding to the devices you intend to assign.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424414">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424417" class="blockpost roweven"> <h2><span><span class="conr">#2041</span> <a href="viewtopic.php?pid=1424417#p1424417">2014-06-10 19:21:01</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=82238">sinny</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-24</span></dd> <dd><span>Posts: 75</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=82238">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>...<br />Using kernel 3.15 I have host display corruption and non-working VGA passthrough (host with igfx, AMD HD6450 for passthrough) despite having applied the i915_315 VGA arbiter patch.<br />...</p></div></blockquote></div><p>this brief description reminds me of my situation:<br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1419025#p1419025" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 5#p1419025</a><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1419322#p1419322" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 2#p1419322</a><br /><a href="https://bbs.archlinux.org/viewtopic.php?pid=1420298#p1420298" rel="nofollow">https://bbs.archlinux.org/viewtopic.php … 8#p1420298</a></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424417">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424422" class="blockpost rowodd"> <h2><span><span class="conr">#2042</span> <a href="viewtopic.php?pid=1424422#p1424422">2014-06-10 19:41:13</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>I built two versions of the 3.15 kernel, one with and one without the override_acs patch from the archive linked in the first post. Both kernel sources have the i915_315 patch applied. I have two issues, broken VGA passthrough (working on 3.14) and not being able to passthrough onboard SATA.</p></div></blockquote></div><p>I had missed </p><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Be sure to boot with i915.enable_hd_vgaarb=1 with this version.</p></div></blockquote></div><p> so the i915 issue is taken care of. Still in the dark regarding the other device passthrough as per post 2025. Any suggestions to move on with my ACS issues are greatly appreciated.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424422">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424423" class="blockpost roweven"> <h2><span><span class="conr">#2043</span> <a href="viewtopic.php?pid=1424423#p1424423">2014-06-10 19:46:34</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>I built two versions of the 3.15 kernel, one with and one without the override_acs patch from the archive linked in the first post. Both kernel sources have the i915_315 patch applied. I have two issues, broken VGA passthrough (working on 3.14) and not being able to passthrough onboard SATA.</p></div></blockquote></div><p>I had missed </p><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Be sure to boot with i915.enable_hd_vgaarb=1 with this version.</p></div></blockquote></div><p> so the i915 issue is taken care of. Still in the dark regarding the other device passthrough as per post 2025. Any suggestions to move on with my ACS issues are greatly appreciated.</p></div></blockquote></div><p>You haven&#039;t said why using multifunction or ID options to the override failed.&#160; What ID did you use?&#160; What was the resulting change in /sys/kernel/iommu_groups?</p> <p class="postedit"><em>Last edited by aw (2014-06-10 20:38:45)</em></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424423">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424441" class="blockpost rowodd"> <h2><span><span class="conr">#2044</span> <a href="viewtopic.php?pid=1424441#p1424441">2014-06-10 20:51:31</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>You haven&#039;t said why using multifunction of id options to the override failed.&#160; What ID did you use?&#160; What was the resulting change in /sys/kernel/iommu_groups?</p></div></blockquote></div><p>The device I&#039;m trying to passthrough is </p><div class="codebox"><pre><code>00:1f.2 SATA controller [0106]: Intel Corporation 7 Series/C210 Series Chipset Family 6-port SATA Controller [AHCI mode] [8086:1e02] (rev 04) Subsystem: ASRock Incorporation Motherboard [1849:1e02] Kernel driver in use: vfio-pci</code></pre></div><p>1) with kernel 3.15.0 (patched with i915 and override_acs patches) and kernel parameters intel_iommu=on i915.enable_hd_vgaarb=1 (and therefore the override_acs disabled) the iommu groups I&#039;m looking at for passthrough are </p><div class="codebox"><pre><code>### Group 1 ### 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200/2nd Generation Core Processor Family PCI Express Root Port (rev 09) 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Caicos [Radeon HD 6450/7450/8450] 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Caicos HDMI Audio [Radeon HD 6400 Series] ### Group 10 ### 00:1f.0 ISA bridge: Intel Corporation H77 Express Chipset LPC Controller (rev 04) 00:1f.2 SATA controller: Intel Corporation 7 Series/C210 Series Chipset Family 6-port SATA Controller [AHCI mode] (rev 04) 00:1f.3 SMBus: Intel Corporation 7 Series/C210 Series Chipset Family SMBus Controller (rev 04)</code></pre></div><p>2) with pcie_acs_override=downstream the graphics card devices break out of iommu group 1 and move to group 11. All other groups remain as they were.</p><p>3) with pcie_acs_override=multifunction the result is the same as in 1)</p><p>4) with pcie_acs_override=id:1849:1e02 the result is again the same as in 1)</p><p>Hope this helps. Thanks again.</p> <p class="postedit"><em>Last edited by siddharta (2014-06-10 20:51:50)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424441">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424444" class="blockpost roweven"> <h2><span><span class="conr">#2045</span> <a href="viewtopic.php?pid=1424444#p1424444">2014-06-10 21:02:06</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>You haven&#039;t said why using multifunction of id options to the override failed.&#160; What ID did you use?&#160; What was the resulting change in /sys/kernel/iommu_groups?</p></div></blockquote></div><p>The device I&#039;m trying to passthrough is </p><div class="codebox"><pre><code>00:1f.2 SATA controller [0106]: Intel Corporation 7 Series/C210 Series Chipset Family 6-port SATA Controller [AHCI mode] [8086:1e02] (rev 04) Subsystem: ASRock Incorporation Motherboard [1849:1e02] Kernel driver in use: vfio-pci</code></pre></div><p>1) with kernel 3.15.0 (patched with i915 and override_acs patches) and kernel parameters intel_iommu=on i915.enable_hd_vgaarb=1 (and therefore the override_acs disabled) the iommu groups I&#039;m looking at for passthrough are </p><div class="codebox"><pre><code>### Group 1 ### 00:01.0 PCI bridge: Intel Corporation Xeon E3-1200/2nd Generation Core Processor Family PCI Express Root Port (rev 09) 01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Caicos [Radeon HD 6450/7450/8450] 01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Caicos HDMI Audio [Radeon HD 6400 Series] ### Group 10 ### 00:1f.0 ISA bridge: Intel Corporation H77 Express Chipset LPC Controller (rev 04) 00:1f.2 SATA controller: Intel Corporation 7 Series/C210 Series Chipset Family 6-port SATA Controller [AHCI mode] (rev 04) 00:1f.3 SMBus: Intel Corporation 7 Series/C210 Series Chipset Family SMBus Controller (rev 04)</code></pre></div><p>2) with pcie_acs_override=downstream the graphics card devices break out of iommu group 1 and move to group 11. All other groups remain as they were.</p><p>3) with pcie_acs_override=multifunction the result is the same as in 1)</p><p>4) with pcie_acs_override=id:1849:1e02 the result is again the same as in 1)</p><p>Hope this helps. Thanks again.</p></div></blockquote></div><p>Lemme guess, &quot;lspci -vvv -s 00:1f.&quot; doesn&#039;t show a PCIe capability for any of those devices, right?&#160; So as it is, the acs override patch isn&#039;t going to split those devices, sorry.&#160; You can hack up the patch some more or use pci-assign, but really the only supportable option is to get a separate SATA card to install.</p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424444">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424448" class="blockpost rowodd"> <h2><span><span class="conr">#2046</span> <a href="viewtopic.php?pid=1424448#p1424448">2014-06-10 21:13:07</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>Lemme guess, &quot;lspci -vvv -s 00:1f.&quot; doesn&#039;t show a PCIe capability for any of those devices, right?&#160; So as it is, the acs override patch isn&#039;t going to split those devices, sorry.&#160; You can hack up the patch some more or use pci-assign, but really the only supportable option is to get a separate SATA card to install.</p></div></blockquote></div><p>It does for the SATA controller (unless I&#039;m reading this wrong) but not for the other devices. All devices in the iommu group would need to have PCIe capability? My understanding here is obviously limited. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="codebox"><pre class="vscroll"><code>00:1f.0 ISA bridge: Intel Corporation H77 Express Chipset LPC Controller (rev 04) Subsystem: ASRock Incorporation Device 1e4a Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Latency: 0 Capabilities: [e0] Vendor Specific Information: Len=0c &lt;?&gt; Kernel driver in use: lpc_ich Kernel modules: lpc_ich 00:1f.2 SATA controller: Intel Corporation 7 Series/C210 Series Chipset Family 6-port SATA Controller [AHCI mode] (rev 04) (prog-if 01 [AHCI 1.0]) Subsystem: ASRock Incorporation Motherboard Control: I/O+ Mem+ BusMaster- SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap+ 66MHz+ UDF- FastB2B+ ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Interrupt: pin B routed to IRQ 19 Region 0: I/O ports at f0b0 [size=8] Region 1: I/O ports at f0a0 [size=4] Region 2: I/O ports at f090 [size=8] Region 3: I/O ports at f080 [size=4] Region 4: I/O ports at f060 [size=32] Region 5: Memory at f7f12000 (32-bit, non-prefetchable) [size=2K] Capabilities: [80] MSI: Enable- Count=1/1 Maskable- 64bit- Address: fee002d8 Data: 0000 Capabilities: [70] Power Management version 3 Flags: PMEClk- DSI- D1- D2- AuxCurrent=0mA PME(D0-,D1-,D2-,D3hot+,D3cold-) Status: D0 NoSoftRst+ PME-Enable- DSel=0 DScale=0 PME- Capabilities: [a8] SATA HBA v1.0 BAR4 Offset=00000004 Capabilities: [b0] PCI Advanced Features AFCap: TP+ FLR+ AFCtrl: FLR- AFStatus: TP- Kernel driver in use: vfio-pci 00:1f.3 SMBus: Intel Corporation 7 Series/C210 Series Chipset Family SMBus Controller (rev 04) Subsystem: ASRock Incorporation Motherboard Control: I/O+ Mem+ BusMaster- SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap- 66MHz- UDF- FastB2B+ ParErr- DEVSEL=medium &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Interrupt: pin C routed to IRQ 18 Region 0: Memory at f7f11000 (64-bit, non-prefetchable) [size=256] Region 4: I/O ports at f040 [size=32] Kernel modules: i2c_i801</code></pre></div><p>edit: yes it does look like I may be reading this wrong, when comparing to the output of lspci -vvv -s 01:00 which are the graphics card devices - </p><div class="codebox"><pre><code>Capabilities: [58] Express (v2) Legacy Endpoint, MSI 00</code></pre></div><p>edit 2: PCI assign doesn&#039;t work for me as it did in QEMU 1.6.2 and kernel 3.11. I get the same complaint about the iommu group not being viable. Has PCI assign been removed as a passthrough mechanism in favor of vfio?</p> <p class="postedit"><em>Last edited by siddharta (2014-06-10 21:19:24)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424448">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424459" class="blockpost roweven"> <h2><span><span class="conr">#2047</span> <a href="viewtopic.php?pid=1424459#p1424459">2014-06-10 21:45:22</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>edit 2: PCI assign doesn&#039;t work for me as it did in QEMU 1.6.2 and kernel 3.11. I get the same complaint about the iommu group not being viable. Has PCI assign been removed as a passthrough mechanism in favor of vfio?</p></div></blockquote></div><p>When attempting PCI assign of the SATA controller with the following guest definition </p><div class="codebox"><pre class="vscroll"><code>&lt;domain type=&#039;kvm&#039;&gt; &lt;name&gt;vm-storage-test&lt;/name&gt; &lt;uuid&gt;850b3562-bb54-d1df-2071-1c0ebb30e9ee&lt;/uuid&gt; &lt;memory unit=&#039;KiB&#039;&gt;524288&lt;/memory&gt; &lt;currentMemory unit=&#039;KiB&#039;&gt;524288&lt;/currentMemory&gt; &lt;vcpu placement=&#039;static&#039;&gt;1&lt;/vcpu&gt; &lt;os&gt; &lt;type arch=&#039;x86_64&#039; machine=&#039;pc-i440fx-2.0&#039;&gt;hvm&lt;/type&gt; &lt;boot dev=&#039;hd&#039;/&gt; &lt;/os&gt; &lt;features&gt; &lt;acpi/&gt; &lt;apic/&gt; &lt;pae/&gt; &lt;/features&gt; &lt;clock offset=&#039;utc&#039;/&gt; &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt; &lt;on_reboot&gt;restart&lt;/on_reboot&gt; &lt;on_crash&gt;restart&lt;/on_crash&gt; &lt;devices&gt; &lt;emulator&gt;/usr/bin/qemu-kvm&lt;/emulator&gt; &lt;disk type=&#039;file&#039; device=&#039;disk&#039;&gt; &lt;driver name=&#039;qemu&#039; type=&#039;raw&#039;/&gt; &lt;source file=&#039;/var/lib/libvirt/images/vm-storage-2.vhd&#039;/&gt; &lt;target dev=&#039;vda&#039; bus=&#039;virtio&#039;/&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x05&#039; function=&#039;0x0&#039;/&gt; &lt;/disk&gt; &lt;controller type=&#039;usb&#039; index=&#039;0&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x01&#039; function=&#039;0x2&#039;/&gt; &lt;/controller&gt; &lt;controller type=&#039;pci&#039; index=&#039;0&#039; model=&#039;pci-root&#039;/&gt; &lt;interface type=&#039;bridge&#039;&gt; &lt;mac address=&#039;52:54:00:40:4f:8f&#039;/&gt; &lt;source bridge=&#039;br0&#039;/&gt; &lt;model type=&#039;virtio&#039;/&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x03&#039; function=&#039;0x0&#039;/&gt; &lt;/interface&gt; &lt;input type=&#039;mouse&#039; bus=&#039;ps2&#039;/&gt; &lt;input type=&#039;keyboard&#039; bus=&#039;ps2&#039;/&gt; &lt;graphics type=&#039;vnc&#039; port=&#039;-1&#039; autoport=&#039;yes&#039;/&gt; &lt;video&gt; &lt;model type=&#039;cirrus&#039; vram=&#039;9216&#039; heads=&#039;1&#039;/&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x02&#039; function=&#039;0x0&#039;/&gt; &lt;/video&gt; &lt;hostdev mode=&#039;subsystem&#039; type=&#039;pci&#039; managed=&#039;yes&#039;&gt; &lt;source&gt; &lt;address domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1f&#039; function=&#039;0x2&#039;/&gt; &lt;/source&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x07&#039; function=&#039;0x0&#039;/&gt; &lt;/hostdev&gt; &lt;memballoon model=&#039;virtio&#039;&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x06&#039; function=&#039;0x0&#039;/&gt; &lt;/memballoon&gt; &lt;/devices&gt; &lt;/domain&gt;</code></pre></div><p>the error is the same as when attempting to passthrough the device with vfio. </p><div class="codebox"><pre><code>Error starting domain: internal error: process exited while connecting to monitor: qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: vfio: error, group 10 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver. qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: vfio: failed to get group 10 qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>Very weird (to me). The SATA controller is no longer bound to vfio-pci at this time.</p> <p class="postedit"><em>Last edited by siddharta (2014-06-10 21:46:20)</em></p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424459">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424463" class="blockpost rowodd"> <h2><span><span class="conr">#2048</span> <a href="viewtopic.php?pid=1424463#p1424463">2014-06-10 21:50:45</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=75590">aw</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2013-10-04</span></dd> <dd><span>Posts: 921</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=75590">Email</a></span> <span class="website"><a href="http://vfio.blogspot.com/" rel="nofollow">Website</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>the error is the same as when attempting to passthrough the device with vfio. </p><div class="codebox"><pre><code>Error starting domain: internal error: process exited while connecting to monitor: qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: vfio: error, group 10 is not viable, please ensure all devices within the iommu_group are bound to their vfio bus driver. qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: vfio: failed to get group 10 qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: Device initialization failed. qemu-system-x86_64: -device vfio-pci,host=00:1f.2,id=hostdev0,bus=pci.0,addr=0x7: Device &#039;vfio-pci&#039; could not be initialized</code></pre></div><p>Very weird (to me). The SATA controller is no longer bound to vfio-pci at this time.</p></div></blockquote></div><p>You&#039;re still using vfio, see the driver option of the hostdev device <a href="http://libvirt.org/formatdomain.html#elementsHostDevSubsys" rel="nofollow">http://libvirt.org/formatdomain.html#el … tDevSubsys</a></p> </div> <div class="postsignature postmsg"><hr /><p><a href="http://vfio.blogspot.com" rel="nofollow">http://vfio.blogspot.com</a><br />Looking for a more open forum to discuss vfio related uses?&#160; Try <a href="https://www.redhat.com/mailman/listinfo/vfio-users" rel="nofollow">https://www.redhat.com/mailman/listinfo/vfio-users</a></p></div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424463">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424473" class="blockpost roweven"> <h2><span><span class="conr">#2049</span> <a href="viewtopic.php?pid=1424473#p1424473">2014-06-10 22:15:01</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=81745">siddharta</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd><span>Registered: 2014-05-03</span></dd> <dd><span>Posts: 30</span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>aw wrote:</cite><blockquote><div><p>You&#039;re still using vfio, see the driver option of the hostdev device <a href="http://libvirt.org/formatdomain.html#elementsHostDevSubsys" rel="nofollow">http://libvirt.org/formatdomain.html#el … tDevSubsys</a></p></div></blockquote></div><p>See, not weird at all. <img src="https://bbs.archlinux.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. Thanks. With </p><div class="codebox"><pre><code>&lt;hostdev mode=&#039;subsystem&#039; type=&#039;pci&#039; managed=&#039;yes&#039;&gt; &lt;driver name=&#039;kvm&#039;/&gt; &lt;source&gt; &lt;address domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x1f&#039; function=&#039;0x2&#039;/&gt; &lt;/source&gt; &lt;address type=&#039;pci&#039; domain=&#039;0x0000&#039; bus=&#039;0x00&#039; slot=&#039;0x07&#039; function=&#039;0x0&#039;/&gt; &lt;/hostdev&gt;</code></pre></div><p> the SATA controller is peachy. Now to see about USB. Thanks Alex, if you&#039;re ever in Las Palmas I&#039;d gladly stand you a beer.</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424473">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div id="p1424475" class="blockpost rowodd"> <h2><span><span class="conr">#2050</span> <a href="viewtopic.php?pid=1424475#p1424475">2014-06-10 22:28:58</a></span></h2> <div class="box"> <div class="inbox"> <div class="postbody"> <div class="postleft"> <dl> <dt><strong><a href="profile.php?id=58169">aldum</a></strong></dt> <dd class="usertitle"><strong>Member</strong></dd> <dd class="postavatar"><img src="https://bbs.archlinux.org/img/avatars/58169.jpg?m=1401983659" width="80" height="80" alt="" /></dd> <dd><span>Registered: 2012-03-14</span></dd> <dd><span>Posts: 7</span></dd> <dd class="usercontacts"><span class="email"><a href="misc.php?email=58169">Email</a></span></dd> </dl> </div> <div class="postright"> <h3>Re: KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</h3> <div class="postmsg"> <div class="quotebox"><cite>novist wrote:</cite><blockquote><div><p>rabcor maybe it is possible to use second GPU for host. after all if windows can switch to second GPU on boot then linux should be able to do this even more so. sideeffect of that would be boot messages showing on first gpu early on boot including grub menus. if i were you i would try passing through first gpu same way like you do with second and see what happens. it might work.</p></div></blockquote></div><p>Of course it&#039;s possible, I&#039;m doing it.</p><div class="quotebox"><cite>Bronek wrote:</cite><blockquote><div><p>Dunno, I am so used to Linux command line over ssh, that I do not care to see its GUI at all. I guess I am not the only one.</p><p>Still, Linux should work with second GPU, I think the challenge is to:<br />1. get vgacon to give away primary GPU before you start the guest<br />2. get X to ignore primary GPU</p></div></blockquote></div><p>PCI-stub works, X won&#039;t even touch it (as in it doesn&#039;t show up in RandR providers and whatnot).<br />As for the bootup, I can set in the BIOS which PCI slot to use as primary.</p><p>I&#039;m passing a 660Ti and using a 640 for the host. I&#039;ll write a detailed post later.</p><div class="quotebox"><cite>siddharta wrote:</cite><blockquote><div><p>Thanks Alex, if you&#039;re ever in Las Palmas I&#039;d gladly stand you a beer.</p></div></blockquote></div><p>I&#039;ll second that. Whenever you&#039;re in Hungary :--D</p> </div> </div> </div> </div> <div class="inbox"> <div class="postfoot clearb"> <div class="postfootleft"><p><span>Offline</span></p></div> <div class="postfootright"> <ul> <li class="postreport"><span><a href="misc.php?report=1424475">Report</a></span></li> </ul> </div> </div> </div> </div> </div> <div class="postlinksb"> <div class="inbox crumbsplus"> <div class="pagepost"> <p class="pagelink conl"><span class="pages-label">Pages: </span><a rel="prev" class="item1" href="viewtopic.php?id=162768&amp;p=81">Previous</a> <a href="viewtopic.php?id=162768">1</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=80">80</a> <a href="viewtopic.php?id=162768&amp;p=81">81</a> <strong>82</strong> <a href="viewtopic.php?id=162768&amp;p=83">83</a> <a href="viewtopic.php?id=162768&amp;p=84">84</a> <span class="spacer">…</span> <a href="viewtopic.php?id=162768&amp;p=234">234</a> <a rel="next" href="viewtopic.php?id=162768&amp;p=83">Next</a></p> <p class="postlink conr">Topic closed</p> </div> <ul class="crumbs"> <li><a href="index.php">Index</a></li> <li><span>»&#160;</span><a href="viewforum.php?id=48">Topics Going Nowhere</a></li> <li><span>»&#160;</span><strong><a href="viewtopic.php?id=162768">KVM VGA-Passthrough using the new vfio-vga support in kernel =&gt;3.9</a></strong></li> </ul> <p class="subscribelink clearb"><a href="misc.php?action=subscribe&amp;tid=162768">Subscribe to this topic</a></p> <div class="clearer"></div> </div> </div> </div> <div id="brdfooter" class="block"> <h2><span>Board footer</span></h2> <div class="box"> <div id="brdfooternav" class="inbox"> <div class="conl"> <form id="qjump" method="get" action="viewforum.php"> <div><label><span>Jump to<br /></span> <select name="id" onchange="window.location=('viewforum.php?id='+this.options[this.selectedIndex].value)"> <optgroup label="Technical Issues and Assistance"> <option value="23">Newbie Corner</option> <option value="17">Installation</option> <option value="22">Kernel &amp; Hardware</option> <option value="18">Applications &amp; Desktop Environments</option> <option value="31">Laptop Issues</option> <option value="8">Networking, Server, and Protection</option> <option value="32">Multimedia and Games</option> <option value="50">System Administration</option> <option value="35">Other Architectures</option> </optgroup> <optgroup label="Arch-centric"> <option value="24">Announcements, Package &amp; Security Advisories</option> <option value="1">Arch Discussion</option> <option value="13">Forum &amp; Wiki discussion</option> </optgroup> <optgroup label="Pacman Upgrades, Packaging &amp; AUR"> <option value="44">Pacman &amp; Package Upgrade Issues</option> <option value="49">[testing] Repo Forum</option> <option value="4">Creating &amp; Modifying Packages</option> <option value="38">AUR Issues, Discussion &amp; PKGBUILD Requests</option> </optgroup> <optgroup label="Contributions &amp; Discussion"> <option value="20">GNU/Linux Discussion</option> <option value="27">Community Contributions</option> <option value="33">Programming &amp; Scripting</option> <option value="30">Other Languages</option> <option value="47">Artwork and Screenshots</option> <option value="42">Try This</option> </optgroup> <optgroup label="/dev/null"> <option value="29">Off-Topic</option> <option value="48" selected="selected">Topics Going Nowhere</option> <option value="36">Dustbin</option> </optgroup> </select></label> <input type="submit" value=" Go " accesskey="g" /> </div> </form> </div> <div class="conr"> <p id="feedlinks"><span class="atom"><a href="extern.php?action=feed&amp;tid=162768&amp;type=atom">Atom topic feed</a></span></p> <p id="poweredby">Powered by <a href="http://fluxbb.org/">FluxBB</a></p> </div> <div class="clearer"></div> </div> </div> </div> </div> <div class="end-box"></div> </div> </body> </html>
